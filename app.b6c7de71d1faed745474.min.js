!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=456)}([function(e,t,n){var r=n(7),o=n(44),i=n(31),a=n(32),u=n(39),s=function(e,t,n){var c,l,f,d,h=e&s.F,p=e&s.G,v=e&s.S,y=e&s.P,m=e&s.B,g=p?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});p&&(n=t);for(c in n)l=!h&&g&&void 0!==g[c],f=(l?g:n)[c],d=m&&l?u(f,r):y&&"function"==typeof f?u(Function.call,f):f,g&&a(g,c,f,e&s.U),b[c]!=f&&i(b,c,d),y&&_[c]!=f&&(_[c]=f)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){function r(e,t){if(l(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=t||{},r=n.additionalDigits;r=null==r?h:Number(r);var c=o(e),f=i(c.date,r),p=f.year,v=f.restDateString,y=a(v,p);if(y){var m,g=y.getTime(),b=0;return c.time&&(b=u(c.time)),c.timezone?m=s(c.timezone):(m=new Date(g+b).getTimezoneOffset(),m=new Date(g+b+m*d).getTimezoneOffset()),new Date(g+b+m*d)}return new Date(e)}function o(e){var t,n={},r=e.split(p);if(v.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var o=T.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}function i(e,t){var n,r=m[t],o=b[t];if(n=g.exec(e)||o.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=y.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function a(e,t){if(null===t)return null;var n,r,o,i;if(0===e.length)return r=new Date(0),r.setUTCFullYear(t),r;if(n=_.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(t,o),r;if(n=w.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=x.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var u=parseInt(n[2],10);return r.setUTCFullYear(t,o,u),r}if(n=k.exec(e))return i=parseInt(n[1],10)-1,c(t,i);if(n=E.exec(e)){i=parseInt(n[1],10)-1;return c(t,i,parseInt(n[2],10)-1)}return null}function u(e){var t,n,r;if(t=S.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*f;if(t=C.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*f+r*d;if(t=O.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return n%24*f+r*d+1e3*o}return null}function s(e){var t,n;return(t=A.exec(e))?0:(t=j.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=M.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function c(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*t+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var l=n(200),f=36e5,d=6e4,h=2,p=/[T ]/,v=/:/,y=/^(\d{2})$/,m=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],g=/^(\d{4})/,b=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],_=/^-(\d{2})$/,w=/^-?(\d{3})$/,x=/^-?(\d{2})-?(\d{2})$/,k=/^-?W(\d{2})$/,E=/^-?W(\d{2})-?(\d{1})$/,S=/^(\d{2}([.,]\d*)?)$/,C=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,O=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,T=/([Z+-].*)$/,A=/^(Z)$/,j=/^([+-])(\d{2})$/,M=/^([+-])(\d{2}):?(\d{2})$/;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(){return null}function o(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&w(e.attributes,t.defaultProps),n&&w(e.attributes,n)}function i(e,t){var n,r,o;if(t){for(o in t)if(n=V.test(o))break;if(n){r=e.attributes={};for(o in t)t.hasOwnProperty(o)&&(r[V.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=t[o])}}}function a(e,t,n){var r=t&&t._preactCompatRendered&&t._preactCompatRendered.base;r&&r.parentNode!==t&&(r=null),!r&&t&&(r=t.firstElementChild);for(var o=t.childNodes.length;o--;)t.childNodes[o]!==r&&t.removeChild(t.childNodes[o]);var i=Object(B.render)(e,t,r);return t&&(t._preactCompatRendered=i&&(i._component||{base:i})),"function"==typeof n&&n(),i&&i._component||i}function u(e,t,n,r){var o=Object(B.h)(Z,{context:e.context},t),i=a(o,n),u=i._component||i.base;return r&&r.call(u,i),u}function s(e){var t=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!t||t.parentNode!==e)&&(Object(B.render)(Object(B.h)(r),e,t),!0)}function c(e){return p.bind(null,e)}function l(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];Array.isArray(r)?l(r):r&&"object"==typeof r&&!m(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=p(r.type||r.nodeName,r.props||r.attributes,r.children))}}function f(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}function d(e){return S({displayName:e.displayName||e.name,render:function(){return e(this.props,this.context)}})}function h(e){var t=e[H];return t?!0===t?e:t:(t=d(e),Object.defineProperty(t,H,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,H,{configurable:!0,value:t}),t)}function p(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return l(e,2),v(B.h.apply(void 0,e))}function v(e){e.preactCompatNormalized=!0,_(e),f(e.nodeName)&&(e.nodeName=h(e.nodeName));var t=e.attributes.ref,n=t&&typeof t;return!X||"string"!==n&&"number"!==n||(e.attributes.ref=g(t,X)),b(e),e}function y(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!m(e))return e;var o=e.attributes||e.props,i=Object(B.h)(e.nodeName||e.type,o,e.children||o&&o.children),a=[i,t];return n&&n.length?a.push(n):t&&t.children&&a.push(t.children),v(B.cloneElement.apply(void 0,a))}function m(e){return e&&(e instanceof G||e.$$typeof===U)}function g(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function b(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var o in n)r[o.toLowerCase()]=o;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var i=r.oninput||"oninput";n[i]||(n[i]=j([n[i],n[r.onchange]]),delete n[r.onchange])}}}function _(e){var t=e.attributes||(e.attributes={});re.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",re)}function w(e,t){for(var n=arguments,r=1,o=void 0;r<arguments.length;r++)if(o=n[r])for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e}function x(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function k(e){return e&&e.base||e}function E(){}function S(e){function t(e,t){T(this),I.call(this,e,t,W),M.call(this,e,t)}return e=w({constructor:t},e),e.mixins&&O(e,C(e.mixins)),e.statics&&w(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps()),E.prototype=I.prototype,t.prototype=w(new E,e),t.displayName=e.displayName||"Component",t}function C(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(t[o]||(t[o]=[])).push(r[o])}return t}function O(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=j(t[n].concat(e[n]||Q),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function T(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||Y.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function A(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function j(e,t){return function(){for(var n,r=arguments,o=this,i=0;i<e.length;i++){var a=A(o,e[i],r);if(t&&null!=a){n||(n={});for(var u in a)a.hasOwnProperty(u)&&(n[u]=a[u])}else void 0!==a&&(n=a)}return n}}function M(e,t){P.call(this,e,t),this.componentWillReceiveProps=j([P,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=j([P,D,this.render||"render",L])}function P(e,t){if(e){var n=e.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof G)&&(e.children=n[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),$){var r="function"==typeof this?this:this.constructor,o=this.propTypes||r.propTypes,i=this.displayName||r.name;o&&F.a.checkPropTypes(o,e,"prop",i)}}}function D(e){X=this}function L(){X===this&&(X=null)}function I(e,t,n){B.Component.call(this,e,t),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==W&&M.call(this,e,t)}function R(e,t){I.call(this,e,t)}n.d(t,"version",function(){return z}),n.d(t,"DOM",function(){return te}),n.d(t,"Children",function(){return ee}),n.d(t,"render",function(){return a}),n.d(t,"createClass",function(){return S}),n.d(t,"createFactory",function(){return c}),n.d(t,"createElement",function(){return p}),n.d(t,"cloneElement",function(){return y}),n.d(t,"isValidElement",function(){return m}),n.d(t,"findDOMNode",function(){return k}),n.d(t,"unmountComponentAtNode",function(){return s}),n.d(t,"Component",function(){return I}),n.d(t,"PureComponent",function(){return R}),n.d(t,"unstable_renderSubtreeIntoContainer",function(){return u}),n.d(t,"__spread",function(){return w});var N=n(5),F=n.n(N),B=n(292);n.d(t,"PropTypes",function(){return F.a});var z="15.1.0",q="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,H="undefined"!=typeof Symbol?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",Y={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},V=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,W={},$=void 0===e||!e.env||!1,G=Object(B.h)("a",null).constructor;G.prototype.$$typeof=U,G.prototype.preactCompatUpgraded=!1,G.prototype.preactCompatNormalized=!1,Object.defineProperty(G.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(G.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var J=B.options.event;B.options.event=function(e){return J&&(e=J(e)),e.persist=Object,e.nativeEvent=e,e};var K=B.options.vnode;B.options.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=w({},e.attributes);"function"==typeof t?(!0===t[H]||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||v(e),o(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),i(e,n))}K&&K(e)};var Z=function(){};Z.prototype.getChildContext=function(){return this.props.context},Z.prototype.render=function(e){return e.children[0]};for(var X,Q=[],ee={map:function(e,t,n){return null==e?null:(e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){if(null==e)return null;e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e&&e.length||0},only:function(e){if(e=ee.toArray(e),1!==e.length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:Q.concat(e)}},te={},ne=q.length;ne--;)te[q[ne]]=c(q[ne]);var re={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};w(I.prototype=new B.Component,{constructor:I,isReactComponent:{},replaceState:function(e,t){var n=this;this.setState(e,t);for(var r in n.state)r in e||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),E.prototype=I.prototype,R.prototype=new E,R.prototype.isPureReactComponent=!0,R.prototype.shouldComponentUpdate=function(e,t){return x(this.props,e)||x(this.state,t)};var oe={version:z,DOM:te,PropTypes:F.a,Children:ee,render:a,createClass:S,createFactory:c,createElement:p,cloneElement:y,isValidElement:m,findDOMNode:k,unmountComponentAtNode:s,Component:I,PureComponent:R,unstable_renderSubtreeIntoContainer:u,__spread:w};t.default=oe}.call(t,n(137))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var n=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};n.prototype.stringify=function(){return this.content},n.prototype.toString=function(){return this.stringify()},n.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var r=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},o=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,e(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?i(t(n),n,r):n}function r(t,r,o){var a=t.slice();return r.forEach(function(r,u){void 0===a[u]?a[u]=n(r,o):e(r)?a[u]=i(t[u],r,o):-1===t.indexOf(r)&&a.push(n(r,o))}),a}function o(t,r,o){var a={};return e(t)&&Object.keys(t).forEach(function(e){a[e]=n(t[e],o)}),Object.keys(r).forEach(function(u){e(r[u])&&t[u]?a[u]=i(t[u],r[u],o):a[u]=n(r[u],o)}),a}function i(e,t,i){var a=Array.isArray(t),u=i||{arrayMerge:r},s=u.arrayMerge||r;return a?Array.isArray(e)?s(e,t,i):n(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return i(e,n,t)})},i})})),i=e(function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default}),a=function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")},u=i.svg,s=i.xlink,c={};c[u.name]=u.uri,c[s.name]=s.uri;var l=function(e,t){void 0===e&&(e="");var n=o(c,t||{});return"<svg "+a(n)+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return r(l(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(n)})}).call(t,n(35))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}function r(e,t){return k(e).reduce(function(e,n){if(!n.attributes)return e;var r=k(n.attributes),o=t?r.filter(t):r;return e.concat(o)},[])}function o(e){return e.replace(D,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}function i(e,t,n){return k(e).forEach(function(e){var r=e.getAttribute(P);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(M,P,o)}}),e}var a=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,e(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?i(t(n),n,r):n}function r(t,r,o){var a=t.slice();return r.forEach(function(r,u){void 0===a[u]?a[u]=n(r,o):e(r)?a[u]=i(t[u],r,o):-1===t.indexOf(r)&&a.push(n(r,o))}),a}function o(t,r,o){var a={};return e(t)&&Object.keys(t).forEach(function(e){a[e]=n(t[e],o)}),Object.keys(r).forEach(function(u){e(r[u])&&t[u]?a[u]=i(t[u],r[u],o):a[u]=n(r[u],o)}),a}function i(e,t,i){var a=Array.isArray(t),u=i||{arrayMerge:r},s=u.arrayMerge||r;return a?Array.isArray(e)?s(e,t,i):n(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return i(e,n,t)})},i})})),u=e(function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default}),s=function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")},c=u.svg,l=u.xlink,f={};f[c.name]=c.uri,f[l.name]=l.uri;var d,h=function(e,t){void 0===e&&(e="");var n=a(f,t||{});return"<svg "+s(n)+">"+e+"</svg>"},p=u.svg,v=u.xlink,y={attrs:(d={style:["position: absolute","width: 0","height: 0"].join("; ")},d[p.name]=p.uri,d[v.name]=v.uri,d)},m=function(e){this.config=a(y,e||{}),this.symbols=[]};m.prototype.add=function(e){var t=this,n=t.symbols,r=this.find(e.id);return r?(n[n.indexOf(r)]=e,!1):(n.push(e),!0)},m.prototype.remove=function(e){var t=this,n=t.symbols,r=this.find(e);return!!r&&(n.splice(n.indexOf(r),1),r.destroy(),!0)},m.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},m.prototype.has=function(e){return null!==this.find(e)},m.prototype.stringify=function(){var e=this.config,t=e.attrs,n=this.symbols.map(function(e){return e.stringify()}).join("");return h(n,t)},m.prototype.toString=function(){return this.stringify()},m.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var g=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};g.prototype.stringify=function(){return this.content},g.prototype.toString=function(){return this.stringify()},g.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var b,_=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},w=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return _(h(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(g),x={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},k=function(e){return Array.prototype.slice.call(e,0)},E=navigator.userAgent,S={isChrome:/chrome/i.test(E),isFirefox:/firefox/i.test(E),isIE:/msie/i.test(E)||/trident/i.test(E),isEdge:/edge/i.test(E)},C=function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)},O=function(e){var t=[];return k(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},T=function(e){return(e||window.location.href).split("#")[0]},A=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){C(e,{oldUrl:r,newUrl:n})})}])},j=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),k(e.querySelectorAll("symbol")).forEach(function(e){k(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e},M=u.xlink.uri,P="xlink:href",D=/[{}|\\\^\[\]`"<>]/g,L=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],I=L.map(function(e){return"["+e+"]"}).join(","),R=function(e,t,n,a){var u=o(n),s=o(a);r(e.querySelectorAll(I),function(e){var t=e.localName,n=e.value;return-1!==L.indexOf(t)&&-1!==n.indexOf("url("+u)}).forEach(function(e){return e.value=e.value.replace(u,s)}),i(t,u,s)},N={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},F=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,a(x,t));var o=n();this._emitter=o,this.node=null;var i=this,u=i.config;if(u.autoConfigure&&this._autoConfigure(t),u.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");o.on(N.MOUNT,function(){return r.updateUrls("#",s)})}var c=this._handleLocationChange.bind(this);this._handleLocationChange=c,u.listenLocationChangeEvent&&window.addEventListener(u.locationChangeEvent,c),u.locationChangeAngularEmitter&&A(u.locationChangeEvent),o.on(N.MOUNT,function(e){u.moveGradientsOutsideSymbol&&j(e)}),o.on(N.SYMBOL_MOUNT,function(e){u.moveGradientsOutsideSymbol&&j(e.parentNode),(S.isIE||S.isEdge)&&O(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this,n=t.config;void 0===e.syncUrlsWithBaseTag&&(n.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(n.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(n.moveGradientsOutsideSymbol=S.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=this,r=e.prototype.add.call(this,t);return this.isMounted&&r&&(t.mount(n.node),this._emitter.emit(N.SYMBOL_MOUNT,t.node)),r},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(N.SYMBOL_MOUNT,e.node)}),k(r.querySelectorAll("symbol")).forEach(function(e){var t=w.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(N.MOUNT,r),r},t.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,r=e._emitter;n.forEach(function(e){return e.destroy()}),r.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e,o=n.render();return this.node=o,t&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(N.MOUNT,o),o},t.prototype.render=function(){return _(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return R(this.node,n,T(e)+"#",T(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(m),B=e(function(e){/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(t,n){e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),o=1;e=t.shift();)e()}),function(e){o?setTimeout(e,0):t.push(e)}}()}()}),z=!!window.__SVG_SPRITE__;z?b=window.__SVG_SPRITE__:(b=new F({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=b);var q=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?b.attach(e):b.mount(document.body,!0)};return document.body?q():B(q),b})}).call(t,n(35))},function(e,t,n){e.exports=n(661)()},function(e,t,n){var r=n(10);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";e.exports=n(169),e.exports.easing=n(1131),e.exports.canvas=n(1132),e.exports.options=n(1133)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(8);e.exports={_set:function(e,t){return r.merge(this[e]||(this[e]={}),t)}}},function(e,t,n){var r=n(123)("wks"),o=n(65),i=n(7).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(310);Object.defineProperty(t,"Alerter",{enumerable:!0,get:function(){return r(o).default}});var i=n(1026);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r(i).default}});var a=n(22);Object.defineProperty(t,"I18n",{enumerable:!0,get:function(){return r(a).default}}),Object.defineProperty(t,"translate",{enumerable:!0,get:function(){return a.translate}});var u=n(230);Object.defineProperty(t,"Icon",{enumerable:!0,get:function(){return r(u).default}});var s=n(1028);Object.defineProperty(t,"Sidebar",{enumerable:!0,get:function(){return r(s).default}});var c=n(1030);Object.defineProperty(t,"Nav",{enumerable:!0,get:function(){return r(c).default}}),Object.defineProperty(t,"NavItem",{enumerable:!0,get:function(){return c.NavItem}}),Object.defineProperty(t,"NavIcon",{enumerable:!0,get:function(){return c.NavIcon}}),Object.defineProperty(t,"NavText",{enumerable:!0,get:function(){return c.NavText}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return c.NavLink}});var l=n(163);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return r(l).default}}),Object.defineProperty(t,"ModalContent",{enumerable:!0,get:function(){return l.ModalContent}}),Object.defineProperty(t,"ModalSection",{enumerable:!0,get:function(){return l.ModalSection}}),Object.defineProperty(t,"ModalButtons",{enumerable:!0,get:function(){return l.ModalButtons}});var f=n(1035);Object.defineProperty(t,"SelectionBar",{enumerable:!0,get:function(){return r(f).default}});var d=n(1037);Object.defineProperty(t,"IntentOpener",{enumerable:!0,get:function(){return r(d).default}});var h=n(164);Object.defineProperty(t,"Spinner",{enumerable:!0,get:function(){return r(h).default}});var p=n(1041);Object.defineProperty(t,"Tabs",{enumerable:!0,get:function(){return p.Tabs}}),Object.defineProperty(t,"TabPanels",{enumerable:!0,get:function(){return p.TabPanels}}),Object.defineProperty(t,"TabPanel",{enumerable:!0,get:function(){return p.TabPanel}}),Object.defineProperty(t,"TabList",{enumerable:!0,get:function(){return p.TabList}}),Object.defineProperty(t,"Tab",{enumerable:!0,get:function(){return p.Tab}});var v=n(250);Object.defineProperty(t,"Toggle",{enumerable:!0,get:function(){return r(v).default}});var y=n(1044);Object.defineProperty(t,"withBreakpoints",{enumerable:!0,get:function(){return r(y).default}});var m=n(251);Object.defineProperty(t,"Media",{enumerable:!0,get:function(){return m.Media}}),Object.defineProperty(t,"Img",{enumerable:!0,get:function(){return m.Img}}),Object.defineProperty(t,"Bd",{enumerable:!0,get:function(){return m.Bd}});var g=n(1052);Object.defineProperty(t,"ActionMenu",{enumerable:!0,get:function(){return r(g).default}});var b=n(1056);Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return r(b).default}}),Object.defineProperty(t,"MenuItem",{enumerable:!0,get:function(){return b.MenuItem}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(941);Object.defineProperty(t,"CozyProvider",{enumerable:!0,get:function(){return r(o).default}});var i=n(942);Object.defineProperty(t,"CozyClient",{enumerable:!0,get:function(){return r(i).default}});var a=n(980);Object.defineProperty(t,"cozyConnect",{enumerable:!0,get:function(){return r(a).default}});var u=n(981);Object.defineProperty(t,"cozyMiddleware",{enumerable:!0,get:function(){return r(u).default}});var s=n(982);Object.defineProperty(t,"withClient",{enumerable:!0,get:function(){return r(s).default}});var c=n(240);Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return r(c).default}}),Object.defineProperty(t,"makeActionCreator",{enumerable:!0,get:function(){return c.makeActionCreator}}),Object.defineProperty(t,"fetchCollection",{enumerable:!0,get:function(){return c.fetchCollection}}),Object.defineProperty(t,"refetchCollections",{enumerable:!0,get:function(){return c.refetchCollections}}),Object.defineProperty(t,"fetchDocument",{enumerable:!0,get:function(){return c.fetchDocument}}),Object.defineProperty(t,"fetchReferencedFiles",{enumerable:!0,get:function(){return c.fetchReferencedFiles}}),Object.defineProperty(t,"addReferencedFiles",{enumerable:!0,get:function(){return c.addReferencedFiles}}),Object.defineProperty(t,"removeReferencedFiles",{enumerable:!0,get:function(){return c.removeReferencedFiles}}),Object.defineProperty(t,"applySelectorForAction",{enumerable:!0,get:function(){return c.applySelectorForAction}}),Object.defineProperty(t,"enhancePropsForActions",{enumerable:!0,get:function(){return c.enhancePropsForActions}}),Object.defineProperty(t,"getCollection",{enumerable:!0,get:function(){return c.getCollection}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return c.getDocument}}),Object.defineProperty(t,"createDocument",{enumerable:!0,get:function(){return c.createDocument}}),Object.defineProperty(t,"updateDocument",{enumerable:!0,get:function(){return c.updateDocument}}),Object.defineProperty(t,"updateDocuments",{enumerable:!0,get:function(){return c.updateDocuments}}),Object.defineProperty(t,"deleteDocument",{enumerable:!0,get:function(){return c.deleteDocument}}),Object.defineProperty(t,"deleteDocuments",{enumerable:!0,get:function(){return c.deleteDocuments}}),Object.defineProperty(t,"createFile",{enumerable:!0,get:function(){return c.createFile}}),Object.defineProperty(t,"trashFile",{enumerable:!0,get:function(){return c.trashFile}}),Object.defineProperty(t,"CREATE_DOCUMENT",{enumerable:!0,get:function(){return c.CREATE_DOCUMENT}});var l=n(408);Object.defineProperty(t,"fetchSharings",{enumerable:!0,get:function(){return l.fetchSharings}}),Object.defineProperty(t,"fetchContacts",{enumerable:!0,get:function(){return l.fetchContacts}}),Object.defineProperty(t,"fetchApps",{enumerable:!0,get:function(){return l.fetchApps}}),Object.defineProperty(t,"getSharings",{enumerable:!0,get:function(){return l.getSharings}}),Object.defineProperty(t,"getSharingDetails",{enumerable:!0,get:function(){return l.getSharingDetails}}),Object.defineProperty(t,"getSharingLink",{enumerable:!0,get:function(){return l.getSharingLink}}),Object.defineProperty(t,"share",{enumerable:!0,get:function(){return l.share}}),Object.defineProperty(t,"unshare",{enumerable:!0,get:function(){return l.unshare}}),Object.defineProperty(t,"leave",{enumerable:!0,get:function(){return l.leave}}),Object.defineProperty(t,"shareByLink",{enumerable:!0,get:function(){return l.shareByLink}}),Object.defineProperty(t,"revokeLink",{enumerable:!0,get:function(){return l.revokeLink}});var f=n(239);Object.defineProperty(t,"startSync",{enumerable:!0,get:function(){return f.startSync}}),Object.defineProperty(t,"isFirstSync",{enumerable:!0,get:function(){return f.isFirstSync}}),Object.defineProperty(t,"isSynced",{enumerable:!0,get:function(){return f.isSynced}}),Object.defineProperty(t,"hasSyncStarted",{enumerable:!0,get:function(){return f.hasSyncStarted}}),Object.defineProperty(t,"isSyncInError",{enumerable:!0,get:function(){return f.isSyncInError}});var d=n(156);Object.defineProperty(t,"downloadArchive",{enumerable:!0,get:function(){return d.downloadArchive}}),Object.defineProperty(t,"downloadFile",{enumerable:!0,get:function(){return d.downloadFile}}),Object.defineProperty(t,"getDownloadLink",{enumerable:!0,get:function(){return d.getDownloadLink}})},function(e,t,n){e.exports=!n(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(6),o=n(258),i=n(45),a=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(47),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){e.exports=n(684)},function(e,t,n){var r=n(46);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(890),o=r(!0);e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=t.I18n=t.DEFAULT_LANG=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=r(c),f=n(5),d=r(f),h=n(665),p=n(682),v=(t.DEFAULT_LANG="en",t.I18n=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.init(n.props),n}return a(t,e),s(t,[{key:"init",value:function(e){var t=e.lang,n=e.dictRequire,r=e.context,o=e.defaultLang;this.translation=(0,h.initTranslation)(t,n,r,o),this.format=(0,p.initFormat)(t,o)}},{key:"getChildContext",value:function(){return{t:this.translation.t.bind(this.translation),f:this.format,lang:this.props.lang}}},{key:"componentWillReceiveProps",value:function(e){e.lang!==this.props.lang&&this.init(e)}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(c.Component));v.propTypes={lang:d.default.string.isRequired,dictRequire:d.default.func.isRequired,context:d.default.string,defaultLang:d.default.string},v.childContextTypes={t:d.default.func,f:d.default.func,lang:d.default.string};t.translate=function(){return function(e){return function(t,n){return l.default.createElement(e,u({},t,{t:n.t,f:n.f,lang:n.lang}))}}};t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(705),o=n(312),i=n(708);n.d(t,"Provider",function(){return r.b}),n.d(t,"createProvider",function(){return r.a}),n.d(t,"connectAdvanced",function(){return o.a}),n.d(t,"connect",function(){return i.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(996);n.d(t,"Router",function(){return r.a});var o=n(416);n.d(t,"Link",function(){return o.a});var i=n(1003);n.d(t,"IndexLink",function(){return i.a});var a=n(1004);n.d(t,"withRouter",function(){return a.a});var u=n(1006);n.d(t,"IndexRedirect",function(){return u.a});var s=n(1007);n.d(t,"IndexRoute",function(){return s.a});var c=n(417);n.d(t,"Redirect",function(){return c.a});var l=n(1008);n.d(t,"Route",function(){return l.a});var f=n(60);n.d(t,"createRoutes",function(){return f.b});var d=n(242);n.d(t,"RouterContext",function(){return d.a});var h=n(244);n.d(t,"locationShape",function(){return h.a}),n.d(t,"routerShape",function(){return h.b});var p=n(1009);n.d(t,"match",function(){return p.a});var v=n(421);n.d(t,"useRouterHistory",function(){return v.a});var y=n(100);n.d(t,"formatPattern",function(){return y.a});var m=n(1015);n.d(t,"applyRouterMiddleware",function(){return m.a});var g=n(1016);n.d(t,"browserHistory",function(){return g.a});var b=n(1019);n.d(t,"hashHistory",function(){return b.a});var _=n(418);n.d(t,"createMemoryHistory",function(){return _.a})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){"use strict";(function(e){var n,r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,u){"object"===i(t)&&"object"===i(e)?e.exports=u():(r=[],n=u,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o))}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(3)},function(e,t,n){n(2),e.exports=self.fetch.bind(self)},function(e,t){!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function v(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];y.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=h,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var o=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:v(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new y(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){throw new Error("Missing onRegistered callback")}function a(e,t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,[e].concat(r))}}function u(e,t,n,r){for(var o in n){var i=a(e,n[o]);r&&(i=(0,c.unpromiser)(i)),t[o]=i}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),l=n(5),f=n(6),d=n(7),h=r(d),p=n(10),v=r(p),y=n(8),m=r(y),g=n(12),b=r(g),_=n(13),w=r(_),x=n(14),k=r(x),E=n(15),S=r(E),C=n(16),O=r(C),T=n(59),A=r(T),j=n(60),M=r(j),P=h.AppToken,D=h.AccessToken,L=h.Client,I={softwareID:"github.com/cozy/cozy-client-js"},R={create:v.create,find:v.find,findMany:v.findMany,findAll:v.findAll,update:v.update,delete:v._delete,updateAttributes:v.updateAttributes,changesFeed:v.changesFeed,defineIndex:b.defineIndex,query:b.query,addReferencedFiles:M.addReferencedFiles,removeReferencedFiles:M.removeReferencedFiles,listReferencedFiles:M.listReferencedFiles,fetchReferencedFiles:M.fetchReferencedFiles,destroy:function(){return(0,c.warn)("destroy is deprecated, use cozy.data.delete instead."),v._delete.apply(v,arguments)}},N={client:h.client,registerClient:h.registerClient,updateClient:h.updateClient,unregisterClient:h.unregisterClient,getClient:h.getClient,getAuthCodeURL:h.getAuthCodeURL,getAccessToken:h.getAccessToken,refreshToken:h.refreshToken},F={create:w.create,createDirectory:w.createDirectory,createDirectoryByPath:w.createDirectoryByPath,updateById:w.updateById,updateAttributesById:w.updateAttributesById,updateAttributesByPath:w.updateAttributesByPath,trashById:w.trashById,statById:w.statById,statByPath:w.statByPath,downloadById:w.downloadById,downloadByPath:w.downloadByPath,getDownloadLinkById:w.getDownloadLinkById,getDownloadLink:w.getDownloadLinkByPath,getDownloadLinkByPath:w.getDownloadLinkByPath,getArchiveLink:function(){return(0,c.warn)("getArchiveLink is deprecated, use cozy.files.getArchiveLinkByPaths instead."),w.getArchiveLinkByPaths.apply(w,arguments)},getArchiveLinkByPaths:w.getArchiveLinkByPaths,getArchiveLinkByIds:w.getArchiveLinkByIds,getFilePath:w.getFilePath,getCollectionShareLink:w.getCollectionShareLink,query:b.queryFiles,listTrash:w.listTrash,clearTrash:w.clearTrash,restoreById:w.restoreById,destroyById:w.destroyById},B={create:k.create,createService:k.createService},z={create:S.create,count:S.count,queued:S.queued},q={init:O.init,getDoctypes:O.getDoctypes,hasDatabase:O.hasDatabase,getDatabase:O.getDatabase,createDatabase:O.createDatabase,destroyDatabase:O.destroyDatabase,destroyAllDatabase:O.destroyAllDatabase,hasReplication:O.hasReplication,replicateFromCozy:O.replicateFromCozy,stopReplication:O.stopReplication,stopAllReplication:O.stopAllReplication,hasRepeatedReplication:O.hasRepeatedReplication,startRepeatedReplication:O.startRepeatedReplication,stopRepeatedReplication:O.stopRepeatedReplication,stopAllRepeatedReplication:O.stopAllRepeatedReplication},U={diskUsage:A.diskUsage,changePassphrase:A.changePassphrase,getInstance:A.getInstance,updateInstance:A.updateInstance,getClients:A.getClients,deleteClientById:A.deleteClientById,updateLastSync:A.updateLastSync},H=function(e){var t=new URL(e);return t.searchParams&&!t.searchParams.has("reconnect")?t.searchParams.append("reconnect",1):t.search&&-1!==t.search.indexOf("reconnect")||(t.search=t.search+"&reconnect=1"),t.toString()},Y=function(){function e(t){o(this,e),this.data={},this.files={},this.intents={},this.jobs={},this.offline={},this.settings={},this.auth={Client:L,AccessToken:D,AppToken:P,AppTokenV2:f.AppToken,LocalStorage:l.LocalStorage,MemoryStorage:l.MemoryStorage},this._inited=!1,t&&this.init(t)}return s(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._inited=!0,this._oauth=!1,this._token=null,this._authstate=0,this._authcreds=null,this._storage=null,this._version=e.version||null,this._offline=null;var t=e.token,n=e.oauth;if(t&&n)throw new Error("Cannot specify an application token with a oauth activated");t?this._token=new P({token:t}):n&&(this._oauth=!0,this._storage=n.storage,this._clientParams=Object.assign({},I,n.clientParams),this._onRegistered=n.onRegistered||i);for(var r=e.cozyURL||"";"/"===r[r.length-1];)r=r.slice(0,-1);this._url=r;var o=!!e.disablePromises;u(this,this.data,R,o),u(this,this.auth,N,o),u(this,this.files,F,o),u(this,this.intents,B,o),u(this,this.jobs,z,o),u(this,this.offline,q,o),u(this,this.settings,U,o),e.offline&&this.offline.init(e.offline),this.fetchJSON=function(){var e=[this].concat(Array.prototype.slice.call(arguments));return m.cozyFetchJSON.apply(this,e)}}},{key:"authorize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._authstate;return 3===n||1===n?this._authcreds:(this._authstate=1,this._authcreds=this.isV2().then(function(n){if(n&&e._oauth)throw new Error("OAuth is not supported on the V2 stack");if(e._oauth)return t&&e._clientParams.redirectURI&&(e._clientParams.redirectURI=H(e._clientParams.redirectURI)),h.oauthFlow(e,e._storage,e._clientParams,e._onRegistered,t);if(n)return(0,f.getAppToken)();if(e._token)return Promise.resolve({client:null,token:e._token});throw new Error("Missing application token")}),this._authcreds.then(function(){e._authstate=3},function(){e._authstate=2}),this._authcreds)}},{key:"saveCredentials",value:function(e,t){var n={client:e,token:t};return this._storage&&1!==this._authstate?(this._storage.save(h.CredsKey,n),this._authcreds=Promise.resolve(n),this._authcreds):Promise.resolve(n)}},{key:"fullpath",value:function(e){var t=this;return this.isV2().then(function(n){var r=n?"/ds-api":"";return t._url+r+e})}},{key:"isV2",value:function(){var e=this;return this._version?Promise.resolve(2===this._version):(0,c.retry)(function(){return fetch(e._url+"/status/")},3)().then(function(e){if(e.ok)return e.json();throw new Error("Could not fetch cozy status")}).then(function(t){return e._version=void 0!==t.datasystem?2:3,e.isV2()})}}]),e}();e.exports=new Y,Object.assign(e.exports,{Client:Y,LocalStorage:l.LocalStorage,MemoryStorage:l.MemoryStorage})},function(e,t){function n(e){return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=e.apply(this,n);if(!r(i))return i;var a=n.length;if(0!==a&&"function"==typeof n[a-1]){var u=n[a-1];i.then(function(e){return u(null,e)},function(e){return u(e,null)})}}}function r(e){return!!e&&"function"==typeof e.then}function o(){return"undefined"==typeof navigator||navigator.onLine}function i(){return!o()}function a(e,t){return new Promise(function(n){setTimeout(n,e,t)})}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return function r(){for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return e.apply(void 0,i).catch(function(e){if(--t<0)throw e;return a(c(n,t)).then(function(){return r.apply(void 0,i)})})}}function s(e){return e*(1+(2*Math.random()-1)*p)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s(e*Math.pow(2,t-1))}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i="/data/";t||(i+=encodeURIComponent(n)+"/"),""!==r&&(i+=encodeURIComponent(r));var a=f(o);return""!==a&&(i+="?"+a),i}function f(e){if(!e)return"";var t="";for(var n in e)""!==t&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return t}function d(e){var t=e.indexOf("?");t<0&&(t=e.length);var n={},r=e.indexOf("#");if(r<0&&(r=e.length),r<t)return n;var o=e.slice(t+1,r);if(""===o)return n;for(var i=o.split("&"),a=0;a<i.length;a++){var u=i[a].split("=");if(0!==u.length&&""!==u[0]){var s=decodeURIComponent(u[0]);if(!n.hasOwnProperty(s))if(1===u.length)n[s]=!0;else{if(2!==u.length)throw new Error("Malformed URL");n[s]=decodeURIComponent(u[1])}}}return n}function h(e){-1===v.indexOf(e)&&(v.push(e),console.warn("cozy-client-js",e))}Object.defineProperty(t,"__esModule",{value:!0}),t.unpromiser=n,t.isPromise=r,t.isOnline=o,t.isOffline=i,t.sleep=a,t.retry=u,t.getFuzzedDelay=s,t.getBackedoffDelay=c,t.createPath=l,t.encodeQuery=f,t.decodeQuery=d,t.warn=h;var p=.3,v=[]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LocalStorage=function(){function e(t,r){n(this,e),t||"undefined"==typeof window||(t=window.localStorage),this.storage=t,this.prefix=r||"cozy:oauth:"}return r(e,[{key:"save",value:function(e,t){var n=this;return new Promise(function(r){n.storage.setItem(n.prefix+e,JSON.stringify(t)),r(t)})}},{key:"load",value:function(e){var t=this;return new Promise(function(n){var r=t.storage.getItem(t.prefix+e);r?n(JSON.parse(r)):n()})}},{key:"delete",value:function(e){var t=this;return new Promise(function(n){return n(t.storage.removeItem(t.prefix+e))})}},{key:"clear",value:function(){var e=this;return new Promise(function(t){for(var n=e.storage,r=0;r<n.length;r++){var o=n.key(r);0===o.indexOf(e.prefix)&&n.removeItem(o)}t()})}}]),e}(),t.MemoryStorage=function(){function e(){n(this,e),this.hash=Object.create(null)}return r(e,[{key:"save",value:function(e,t){return this.hash[e]=t,Promise.resolve(t)}},{key:"load",value:function(e){return Promise.resolve(this.hash[e])}},{key:"delete",value:function(e){var t=delete this.hash[e];return Promise.resolve(t)}},{key:"clear",value:function(){return this.hash=Object.create(null),Promise.resolve()}}]),e}()},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return new Promise(function(e,t){if("undefined"==typeof window)return t(new Error("getV2Token should be used in browser"));if(!window.parent)return t(new Error("getV2Token should be used in iframe"));if(!window.parent.postMessage)return t(new Error("getV2Token should be used in modern browser"));var n=window.location.origin,r={action:"getToken"},o=null,u=function n(r){var i=void 0;try{i=new a({appName:r.data.appName,token:r.data.token})}catch(e){return void t(e)}window.removeEventListener("message",n),clearTimeout(o),e({client:null,token:i})};window.addEventListener("message",u,!1),window.parent.postMessage(r,n),o=setTimeout(function(){t(new Error("No response from parent iframe after 3s"))},i)})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getAppToken=r;var i=3e3,a=t.AppToken=function(){function e(t){n(this,e),this.appName=t.appName||"",this.token=t.token||""}return o(e,[{key:"toAuthHeader",value:function(){return"Basic "+btoa(this.appName+":"+this.token)}}]),e}()},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return t||(t=e._clientParams),t instanceof E?t:new E(t)}function i(e,t){var n=o(e,t);return n.isRegistered()?Promise.reject(new Error("Client already registered")):(0,_.cozyFetchJSON)(e,"POST","/auth/register",n.toRegisterJSON(),{disableAuth:!0}).then(function(e){return new E(e)})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=o(e,t);if(!r.isRegistered())return Promise.reject(new Error("Client not registered"));var i=r.toRegisterJSON();return i.client_id=r.clientID,n&&(i.client_secret=r.clientSecret),(0,_.cozyFetchJSON)(e,"PUT","/auth/register/"+r.clientID,i,{manualAuthCredentials:{token:r}}).then(function(e){return c(e,r)})}function u(e,t){var n=o(e,t);return n.isRegistered()?(0,_.cozyFetchJSON)(e,"DELETE","/auth/register/"+n.clientID,null,{manualAuthCredentials:{token:n}}):Promise.reject(new Error("Client not registered"))}function s(e,t){var n=o(e,t);return n.isRegistered()?(0,b.isOffline)()?Promise.resolve(n):(0,_.cozyFetchJSON)(e,"GET","/auth/register/"+n.clientID,null,{manualAuthCredentials:{token:n}}).then(function(e){return c(e,n)}).catch(function(e){if(_.FetchError.isUnauthorized(e)||_.FetchError.isNotFound(e))throw new Error("Client has been revoked");throw e}):Promise.reject(new Error("Client not registered"))}function c(e,t){var n=new E(e);return!!t&&""!==t.registrationAccessToken&&""===n.registrationAccessToken&&(n.registrationAccessToken=t.registrationAccessToken),n}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t instanceof E||(t=new E(t)),!t.isRegistered())throw new Error("Client not registered");var r=y(),o={client_id:t.clientID,redirect_uri:t.redirectURI,state:r,response_type:"code",scope:n.join(" ")};return{url:e._url+"/auth/authorize?"+(0,b.encodeQuery)(o),state:r}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!n)return Promise.reject(new Error("Missing state value"));var o=v(r);return null===o?Promise.reject(new Error("Missing states from current URL")):n!==o.state?Promise.reject(new Error("Given state does not match url query state")):p(e,t,null,{grant_type:"authorization_code",code:o.code})}function d(e,t,n){return p(e,t,n,{grant_type:"refresh_token",refresh_token:n.refreshToken})}function h(e,t,n,r){function o(o){if(u++>0)throw o;return t.clear().then(function(){return h(e,t,n,r)})}function a(){return t.clear().then(function(){return i(e,n)}).then(function(r){var o=l(e,r,n.scopes),i=o.url,a=o.state;return t.save(k,{client:r,url:i,state:a})})}if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return t.clear().then(function(){return h(e,t,n,r,!1)});var u=0;return Promise.all([t.load(x),t.load(k)]).then(function(n){var i=m(n,2),u=i[0],c=i[1];if(u){var l=void 0,d=void 0;try{l=new E(u.client),d=new S(u.token)}catch(e){return o(e)}return s(e,l).then(function(e){return{client:e,token:d}}).catch(function(e){if(_.FetchError.isUnauthorized(e)||_.FetchError.isNotFound(e))throw new Error("Client has been revoked");return{client:l,token:d}})}var h=void 0;h=c?Promise.resolve(c):a();var p=void 0,v=void 0,y=void 0;return h.then(function(e){return p=e.client,v=e.state,Promise.resolve(r(p,e.url))}).then(function(t){return f(e,p,v,t)}).then(function(e){y=e}).then(function(){return t.delete(k)}).then(function(){return{client:p,token:y}})}).then(function(e){return t.save(x,e)},function(e){if(_.FetchError.isUnauthorized(e))return o(e);throw e})}function p(e,t,n,r){if(t instanceof E||(t=new E(t)),!t.isRegistered())return Promise.reject(new Error("Client not registered"));var o=(0,b.encodeQuery)(Object.assign({},r,{client_id:t.clientID,client_secret:t.clientSecret}));return(0,_.cozyFetchJSON)(e,"POST","/auth/access_token",o,{disableAuth:null===n,dontRetry:!0,manualAuthCredentials:{client:t,token:n},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e.refreshToken=e.refreshToken||r.refresh_token,new S(e)})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&"undefined"!=typeof window&&(e=window.location.href);var t=(0,b.decodeQuery)(e);return t.hasOwnProperty("state")?{state:t.state,code:t.access_code}:null}function y(){var e=void 0;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)e=new Uint8Array(w),window.crypto.getRandomValues(e);else try{e=n(!function(){var e=new Error('Cannot find module "crypto"');throw e.code="MODULE_NOT_FOUND",e}()).randomBytes(w)}catch(e){}if(!e){e=new Array(w);for(var t=0;t<e.length;t++)e[t]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,e)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}Object.defineProperty(t,"__esModule",{value:!0}),t.AppToken=t.AccessToken=t.Client=t.StateKey=t.CredsKey=void 0;var m=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.client=o,t.registerClient=i,t.updateClient=a,t.unregisterClient=u,t.getClient=s,t.getAuthCodeURL=l,t.getAccessToken=f,t.refreshToken=d,t.oauthFlow=h;var b=n(4),_=n(8),w=16,x=t.CredsKey="creds",k=t.StateKey="state",E=t.Client=function(){function e(t){if(r(this,e),this.clientID=t.clientID||t.client_id||"",this.clientSecret=t.clientSecret||t.client_secret||"",this.registrationAccessToken=t.registrationAccessToken||t.registration_access_token||"",t.redirect_uris?this.redirectURI=t.redirect_uris[0]||"":this.redirectURI=t.redirectURI||"",this.softwareID=t.softwareID||t.software_id||"",this.softwareVersion=t.softwareVersion||t.software_version||"",this.clientName=t.clientName||t.client_name||"",this.clientKind=t.clientKind||t.client_kind||"",this.clientURI=t.clientURI||t.client_uri||"",this.logoURI=t.logoURI||t.logo_uri||"",this.policyURI=t.policyURI||t.policy_uri||"",!this.registrationAccessToken){if(""===this.redirectURI)throw new Error("Missing redirectURI field");if(""===this.softwareID)throw new Error("Missing softwareID field");if(""===this.clientName)throw new Error("Missing clientName field")}}return g(e,[{key:"isRegistered",value:function(){return""!==this.clientID}},{key:"toRegisterJSON",value:function(){return{redirect_uris:[this.redirectURI],software_id:this.softwareID,software_version:this.softwareVersion,client_name:this.clientName,client_kind:this.clientKind,client_uri:this.clientURI,logo_uri:this.logoURI,policy_uri:this.policyURI}}},{key:"toAuthHeader",value:function(){return"Bearer "+this.registrationAccessToken}}]),e}(),S=t.AccessToken=function(){function e(t){r(this,e),this.tokenType=t.tokenType||t.token_type,this.accessToken=t.accessToken||t.access_token,this.refreshToken=t.refreshToken||t.refresh_token,this.scope=t.scope}return g(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:"+this.accessToken+"@"}}]),e}();t.AppToken=function(){function e(t){r(this,e),this.token=t.token||""}return g(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:"+this.token+"@"}}]),e}()},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fullpath(t).then(function(t){var r=void 0;return r=n.disableAuth?fetch(t,n):n.manualAuthCredentials?s(e,t,n,n.manualAuthCredentials):e.authorize().then(function(r){return s(e,t,n,r)}),r.then(d)})}function s(e,t,n,r){return r&&(n.headers=n.headers||{},n.headers.Authorization=r.token.toAuthHeader()),n.credentials="include",Promise.all([e.isV2(),fetch(t,n)]).then(function(o){var i=p(o,2),a=i[0],u=i[1];if(400!==u.status&&401!==u.status||a||!r||n.dontRetry)return u;var c=r.client,l=r.token;return c&&l instanceof v.AccessToken?(n.dontRetry=!0,(0,y.retry)(function(){return(0,v.refreshToken)(e,c,l)},3)().then(function(t){return e.saveCredentials(c,t)}).then(function(r){return s(e,t,n,r)})):u})}function c(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=void 0===o.processJSONAPI||o.processJSONAPI;return f(e,t,n,r,o).then(function(e){return h(e,i)})}function l(e,t,n,r){return f(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).then(function(e){return h(e,!1)})}function f(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.method=t;var i=o.headers=o.headers||{};return i.Accept="application/json","GET"!==t&&"HEAD"!==t&&void 0!==r&&(i["Content-Type"]?o.body=r:(i["Content-Type"]="application/json",o.body=JSON.stringify(r))),u(e,n,o)}function d(e){if(e.ok)return e;var t=void 0,n=e.headers.get("content-type");return t=n&&n.indexOf("json")>=0?e.json():e.text(),t.then(function(t){throw new b(e,t)})}function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.headers.get("content-type");if(!n||n.indexOf("json")<0)return e.text(function(t){throw new b(e,new Error("Response is not JSON: "+t))});var r=e.json();return 0===n.indexOf("application/vnd.api+json")&&t?r.then(g.default):r}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=void 0;var p=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.cozyFetch=u,t.cozyFetchJSON=c,t.cozyFetchRawJSON=l;var v=n(7),y=n(4),m=n(9),g=function(e){return e&&e.__esModule?e:{default:e}}(m),b=t.FetchError=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i.name="FetchError",i.response=e,i.url=e.url,i.status=e.status,i.reason=n,Object.defineProperty(i,"message",{value:n.message||("string"==typeof n?n:JSON.stringify(n))}),i}return a(t,e),t}(Error);b.isUnauthorized=function(e){return"FetchError"===e.name&&401===e.status},b.isNotFound=function(e){return"FetchError"===e.name&&404===e.status}},function(e,t){function n(e){return e.type+"/"+e.id}function r(e,t){return e[n(t)]}function o(e,t,o){var i={_id:e.id,_type:e.type,_rev:e.meta&&e.meta.rev,links:Object.assign({},e.links,o),attributes:e.attributes,relations:function(n){var o=e.relationships[n];if(void 0!==o&&void 0!==o.data)return null===o.data?null:Array.isArray(o.data)?o.data.map(function(e){return r(t,e)}):r(t,o.data)}};return e.relationships&&(i.relationships=e.relationships),t[n(e)]=i,i}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.included;return Array.isArray(n)&&n.forEach(function(n){return o(n,t,e.links)}),Array.isArray(e.data)?e.data.map(function(n){return o(n,t,e.links)}):o(e.data,t,e.links)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){function r(e,t,n){return e.isV2().then(function(r){t=(0,d.normalizeDoctype)(e,r,t),r&&(n.docType=t);var i=(0,f.createPath)(e,r,t,n._id),a=n._id?"PUT":"POST";return delete n._id,(0,h.cozyFetchJSON)(e,a,i,n).then(function(n){return r?o(e,t,n._id):n.data})})}function o(e,t,n){return e.isV2().then(function(r){if(t=(0,d.normalizeDoctype)(e,r,t),!n)return Promise.reject(new Error("Missing id parameter"));var o=(0,f.createPath)(e,r,t,n);return(0,h.cozyFetchJSON)(e,"GET",o).then(function(e){return r?Object.assign(e,{_rev:p}):e})})}function i(e,t,n){return n instanceof Array?0===n.length?Promise.resolve({}):e.isV2().then(function(r){if(r)return Promise.reject(new Error("findMany is not available on v2"));var o=(0,f.createPath)(e,r,t,"_all_docs",{include_docs:!0});return(0,h.cozyFetchJSON)(e,"POST",o,{keys:n}).then(function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e.rows[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.key,c=u.doc,l=u.error;t[s]=l?{error:l}:{doc:c}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}).catch(function(e){if(404!==e.status)return Promise.reject(e);var t={},r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){t[a.value]={error:e}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return t})}):Promise.reject(new Error("Parameter ids must be a non-empty array"))}function a(e,t){return e.isV2().then(function(n){if(n)return Promise.reject(new Error("findAll is not available on v2"));var r=(0,f.createPath)(e,n,t,"_all_docs",{include_docs:!0});return(0,h.cozyFetchJSON)(e,"POST",r,{}).then(function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.rows[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.doc;s._id.match(/_design\//)||t.push(s)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}).catch(function(e){if(404===e.status)return[];throw e})})}function u(e,t,n){return e.isV2().then(function(r){t=(0,d.normalizeDoctype)(e,r,t);var o=(0,f.createPath)(e,r,t,"_changes",n);return(0,h.cozyFetchJSON)(e,"GET",o)})}function s(e,t,n,r){return e.isV2().then(function(i){t=(0,d.normalizeDoctype)(e,i,t);var a=n._id,u=n._rev;if(!a)return Promise.reject(new Error("Missing _id field in passed document"));if(!i&&!u)return Promise.reject(new Error("Missing _rev field in passed document"));r=i?Object.assign({_id:a},r):Object.assign({_id:a,_rev:u},r);var s=(0,f.createPath)(e,i,t,a);return(0,h.cozyFetchJSON)(e,"PUT",s,r).then(function(n){return i?o(e,t,a):n.data})})}function c(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;return e.isV2().then(function(a){return t=(0,d.normalizeDoctype)(e,a,t),o(e,t,n).then(function(o){return s(e,t,o,Object.assign({_id:n},o,r))}).catch(function(o){if(i>0)return c(e,t,n,r,i-1);throw o})})}function l(e,t,n){return e.isV2().then(function(r){t=(0,d.normalizeDoctype)(e,r,t);var o=n._id,i=n._rev;if(!o)return Promise.reject(new Error("Missing _id field in passed document"));if(!r&&!i)return Promise.reject(new Error("Missing _rev field in passed document"));var a=r?null:{rev:i},u=(0,f.createPath)(e,r,t,o,a);return(0,h.cozyFetchJSON)(e,"DELETE",u).then(function(e){return r?{id:o,rev:p}:e})})}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.find=o,t.findMany=i,t.findAll=a,t.changesFeed=u,t.update=s,t.updateAttributes=c,t._delete=l;var f=n(4),d=n(11),h=n(8),p="stack-v2-no-rev"},function(e,t,n){function r(e,t,n){var r=-1!==n.indexOf(".");if(t&&r){var i=u[n];return i||n.replace(/\./g,"-")}if(!t&&!r){var s=a[n];if(s)return(0,o.warn)("you are using a non-qualified doctype "+n+" assumed to be "+s),s;throw new Error("Doctype "+n+" should be qualified.")}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.DOCTYPE_FILES=void 0,t.normalizeDoctype=r;var o=n(4),i=t.DOCTYPE_FILES="io.cozy.files",a={files:i,folder:i,contact:"io.cozy.contacts",event:"io.cozy.events",track:"io.cozy.labs.music.track",playlist:"io.cozy.labs.music.playlist"},u={};Object.keys(a).forEach(function(e){u[a[e]]=e})},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){return e.isV2().then(function(r){if(t=(0,x.normalizeDoctype)(e,r,t),!Array.isArray(n)||0===n.length)throw new Error("defineIndex fields should be a non-empty array");return r?s(e,t,n):c(e,t,n)})}function a(e,t,n){return e.isV2().then(function(r){if(!t)throw new Error("query should be passed the indexRef");return r?l(e,t,n):f(e,t,n)})}function u(e,t,n){var r=d(t,n);return(0,k.cozyFetchRawJSON)(e,"POST","/files/_find",r).then(function(e){return n.wholeResponse?e:e.docs})}function s(e,t,n){var r="by"+n.map(h).join(""),o={map:p(t,n),reduce:"_count"},i="/request/"+t+"/"+r+"/";return(0,k.cozyFetchJSON)(e,"PUT",i,o).then(function(){return{doctype:t,type:"mapreduce",name:r,fields:n}})}function c(e,t,n){var r=(0,w.createPath)(e,!1,t,"_index"),o={index:{fields:n}};return(0,k.cozyFetchJSON)(e,"POST",r,o).then(function(r){var o={doctype:t,type:"mango",name:r.id,fields:n};if("exists"===r.result)return o;var i={};i[n[0]]={$gt:null};var a=d(o,{selector:i}),u=(0,w.createPath)(e,!1,o.doctype,"_find");return(0,k.cozyFetchJSON)(e,"POST",u,a).then(function(){return o}).catch(function(){return(0,w.sleep)(1e3).then(function(){return(0,k.cozyFetchJSON)(e,"POST",u,a)}).then(function(){return o}).catch(function(){return(0,w.sleep)(500).then(function(){return o})})})})}function l(e,t,n){if("mapreduce"!==t.type)throw new Error("query indexRef should be the return value of defineIndexV2");n.fields&&(0,w.warn)("query fields will be ignored on v2");var r="/request/"+t.doctype+"/"+t.name+"/",o=g(t,n);return(0,k.cozyFetchJSON)(e,"POST",r,o).then(function(e){return e.map(function(e){return e.value})})}function f(e,t,n){var r=d(t,n),o=(0,w.createPath)(e,!1,t.doctype,"_find");return(0,k.cozyFetchJSON)(e,"POST",o,r).then(function(e){return n.wholeResponse?e:e.docs})}function d(e,t){if("mango"!==e.type)throw new Error("indexRef should be the return value of defineIndexV3");var n={use_index:e.name,fields:t.fields,selector:t.selector,limit:t.limit,skip:t.skip,since:t.since,sort:t.sort};return t.descending&&(n.sort=e.fields.map(function(e){return r({},e,"desc")})),n}function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e,t){return t="["+t.map(function(e){return"doc."+e}).join(",")+"]",C.replace("DOCTYPEPLACEHOLDER",e.toLowerCase()).replace("FIELDSPLACEHOLDER",t)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$eq";if("object"!==(void 0===e?"undefined":_(e)))return[[t,n,e]];var r=Object.keys(e);if(0===r.length)throw new Error("empty selector");return r.reduce(function(n,r){if(-1!==S.indexOf(r))throw new Error("cozy-client-js does not support mango logic ops");return-1!==E.indexOf(r)?n.concat(v(e[r],t,r)):n.concat(v(e[r],t.concat(r),"$eq"))},[])}function y(e){return v(e).reduce(function(e,t){var n=b(t,3),r=n[0],o=n[1],i=n[2],a=r.join(".");return e[a]=e[a]||{},e[a][o]=i,e},{})}function m(e,t){var n=e.$eq,r=T,o=O,i=void 0;if(n)return t.startkey.push(n),t.endkey.push(n),!1;if(n=e.$gt)throw new Error("operator $gt (strict greater than) not supported");return n=e.$gte,n&&(r=n),n=e.$lte,n&&(o=n,i=!0),n=e.$lt,n&&(o=n,i=!1),t.startkey.push(r),t.endkey.push(o),void 0!==i&&(t.inclusive_end=i),!0}function g(e,t){var n={startkey:[],endkey:[],reduce:!1},r=null,o=y(t.selector);return e.fields.forEach(function(e){var t=o[e];if(t&&null!=r)throw new Error("Selector on field "+e+", but not on "+r+" which is higher in index fields.");if(t){t.used=!0;m(t,n)&&(r=e)}else null==r&&(r=e,n.endkey.push(O))}),Object.keys(o).forEach(function(e){if(!o[e].used)throw new Error("Cant apply selector on "+e+", it is not in index")}),t.descending&&(n={descending:!0,reduce:!1,startkey:n.endkey,endkey:n.startkey,inclusive_end:n.inclusive_end}),n}Object.defineProperty(t,"__esModule",{value:!0});var b=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)};t.defineIndex=o,t.query=a,t.queryFiles=u,t.parseSelector=v,t.normalizeSelector=y,t.makeMapReduceQuery=g;var w=n(4),x=n(11),k=n(8),E=["$eq","$gt","$gte","$lt","$lte"],S=["$or","$and","$not"],C=function(e){"DOCTYPEPLACEHOLDER"===e.docType.toLowerCase()&&emit(FIELDSPLACEHOLDER,e)}.toString().replace(/ /g,"").replace(/\n/g,""),O={"":""},T=null},function(e,t,n){function r(e){return e&&e.trim()}function o(e,t,n,r,o){if(!t)throw new Error("missing data argument");t.buffer&&t.buffer instanceof ArrayBuffer&&(t=t.buffer);var i="undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer,a="undefined"!=typeof File&&t instanceof File,u="undefined"!=typeof Blob&&t instanceof Blob,s=!0===t.readable&&"function"==typeof t.pipe,c="string"==typeof t;if(!(i||a||u||s||c))throw new Error("invalid data type");var l=o||{},f=l.contentType,d=l.checksum,h=l.lastModifiedDate,p=l.ifMatch;return f||(i?f=U:a?(f=t.type||U,h||(h=t.lastModifiedDate)):u?f=t.type||U:s?f=U:"string"==typeof t&&(f="text/plain")),h&&"string"==typeof h&&(h=new Date(h)),(0,R.cozyFetch)(e,r,{method:n,headers:{"Content-Type":f,"Content-MD5":d||"",Date:h?h.toGMTString():"","If-Match":p||""},body:t}).then(function(e){var t=e.json();return e.ok?t.then(F.default):t.then(function(e){throw e})})}function a(e,t,n){var i=n||{},a=i.name,u=i.dirID,s=i.executable;if(a||"string"!=typeof t.name||(a=t.name),"string"!=typeof(a=r(a))||""===a)throw new Error("missing name argument");return void 0===s&&(s=!1),o(e,t,"POST","/files/"+encodeURIComponent(u||"")+"?Name="+encodeURIComponent(a)+"&Type=file&Executable="+s,n)}function u(e,t){var n=t||{},o=n.name,i=n.dirID,a=n.lastModifiedDate;if("string"!=typeof(o=r(o))||""===o)throw new Error("missing name argument");a&&"string"==typeof a&&(a=new Date(a));var u="/files/"+encodeURIComponent(i||""),s="?Name="+encodeURIComponent(o)+"&Type=directory";return(0,R.cozyFetchJSON)(e,"POST",""+u+s,void 0,{headers:{Date:a?a.toGMTString():""}})}function s(e,t,n){if(n&&!n.attributes)throw new Error("Malformed parent directory");t=r(t);var o=(n._id===z?"":n.attributes.path)+"/"+t;return e.files.statByPath(o||"/").catch(function(r){var o=JSON.parse(r.message),i=o.errors;if(i&&i.length&&"404"===i[0].status)return e.files.createDirectory({name:t,dirID:n&&n._id});throw i})}function c(e,t){var n=t.split("/").filter(function(e){return""!==e}),r=e.files.statById(z);return n.length?n.reduce(function(t,n){return t.then(function(t){return s(e,n,t)})},r):r}function l(e,t,n,r){return o(e,n,"PUT","/files/"+encodeURIComponent(t),r)}function f(e,t,n,o){if(!t||"object"!==(void 0===t?"undefined":I(t)))throw new Error("missing attrs argument");var i=o||{},a=i.ifMatch,u={data:{attributes:Object.assign({},t,{name:r(t.name)})}};return(0,R.cozyFetchJSON)(e,"PATCH",n,u,{headers:{"If-Match":a||""}})}function d(e,t,n,r){return f(e,n,"/files/"+encodeURIComponent(t),r)}function h(e,t,n,r){return f(e,n,"/files/metadata?Path="+encodeURIComponent(t),r)}function p(e,t,n){if("string"!=typeof t||""===t)throw new Error("missing id argument");var r=n||{},o=r.ifMatch;return(0,R.cozyFetchJSON)(e,"DELETE","/files/"+encodeURIComponent(t),void 0,{headers:{"If-Match":o||""}})}function v(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n&&e.offline.hasDatabase(B.DOCTYPE_FILES)){var o=e.offline.getDatabase(B.DOCTYPE_FILES);return Promise.all([o.get(t),o.find(Object.assign({selector:{dir_id:t}},r))]).then(function(n){var r=L(n,2),o=r[0],i=r[1];return t===z&&(i.docs=i.docs.filter(function(e){return e._id!==q})),i=D(i.docs.map(function(t){return j(P(e,t))})),j(P(e,o,i))})}var i=0===Object.keys(r).length?"":"?"+M(r);return(0,R.cozyFetchJSON)(e,"GET","/files/"+encodeURIComponent(t)+i).then(j)}function y(e,t){return(0,R.cozyFetchJSON)(e,"GET","/files/metadata?Path="+encodeURIComponent(t)).then(j)}function m(e,t){return(0,R.cozyFetch)(e,"/files/download/"+encodeURIComponent(t))}function g(e,t){return(0,R.cozyFetch)(e,"/files/download?Path="+encodeURIComponent(t))}function b(e){var t=e.links&&e.links.related;if(!t)throw new Error("No related link in server response");return t}function _(e,t){return(0,R.cozyFetchJSON)(e,"POST","/files/downloads?Path="+encodeURIComponent(t)).then(b)}function w(e,t){return(0,R.cozyFetchJSON)(e,"POST","/files/downloads?Id="+encodeURIComponent(t)).then(b)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(!n||!n.attributes)throw Error("Folder should be valid with an attributes.path property");return""+(n.attributes.path.endsWith("/")?n.attributes.path:n.attributes.path+"/")+t.name}function k(e,t,n){return t?(0,R.cozyFetchJSON)(e,"POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:{files:{type:"io.cozy.files",verbs:["GET"],values:[t],selector:"referenced_by"},collection:{type:n,verbs:["GET"],values:[t]}}}}}).then(function(e){return{sharecode:"sharecode="+e.attributes.codes.email,id:"id="+t}}):Promise.reject(Error("An id should be provided to create a share link"))}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",r={type:"io.cozy.archives",attributes:{name:n,files:t}};return(0,R.cozyFetchJSON)(e,"POST","/files/archive",{data:r}).then(b)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",r={type:"io.cozy.archives",attributes:{name:n,ids:t}};return(0,R.cozyFetchJSON)(e,"POST","/files/archive",{data:r}).then(b)}function C(e){return(0,R.cozyFetchJSON)(e,"GET","/files/trash")}function O(e){return(0,R.cozyFetchJSON)(e,"DELETE","/files/trash")}function T(e,t){return(0,R.cozyFetchJSON)(e,"POST","/files/trash/"+encodeURIComponent(t))}function A(e,t,n){var r=n||{},o=r.ifMatch;return(0,R.cozyFetchJSON)(e,"DELETE","/files/trash/"+encodeURIComponent(t),void 0,{headers:{"If-Match":o||""}})}function j(e){return e.isDir="directory"===e.attributes.type,e}function M(e){var t=[];for(var n in e)t.push("page["+encodeURIComponent(n)+"]="+encodeURIComponent(e[n]));return t.join("&")}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=JSON.parse(JSON.stringify(t));return delete r._id,delete r._rev,{_id:t._id,_rev:t._rev,_type:B.DOCTYPE_FILES,attributes:r,relationships:{contents:{data:n,meta:{count:n.length}}},relations:function(e){if("contents"===e)return n}}}function D(e){var t=e.filter(function(e){return"directory"===e.attributes.type}),n=e.filter(function(e){return"directory"!==e.attributes.type}),r=function(e){return e.sort(function(e,t){return e.attributes.name.localeCompare(t.attributes.name)})};return r(t).concat(r(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.TRASH_DIR_ID=t.ROOT_DIR_ID=void 0;var L=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)};t.create=a,t.createDirectory=u,t.createDirectoryByPath=c,t.updateById=l,t.updateAttributesById=d,t.updateAttributesByPath=h,t.trashById=p,t.statById=v,t.statByPath=y,t.downloadById=m,t.downloadByPath=g,t.getDownloadLinkByPath=_,t.getDownloadLinkById=w,t.getFilePath=x,t.getCollectionShareLink=k,t.getArchiveLinkByPaths=E,t.getArchiveLinkByIds=S,t.listTrash=C,t.clearTrash=O,t.restoreById=T,t.destroyById=A;var R=n(8),N=n(9),F=function(e){return e&&e.__esModule?e:{default:e}}(N),B=n(11),z=t.ROOT_DIR_ID="io.cozy.files.root-dir",q=t.TRASH_DIR_ID="io.cozy.files.trash-dir",U="application/octet-stream"},function(e,t,n){function r(e,t,n,r,o){var i=t.ownerDocument;if(!i)throw new Error("Cannot retrieve document object from given element");var a=i.defaultView;if(!a)throw new Error("Cannot retrieve window object from document");var u=i.createElement("iframe");"function"==typeof o&&(u.onload=o),u.setAttribute("src",e),u.classList.add(s),t.appendChild(u),u.focus();var l=e.split("/",3).join("/");return new Promise(function(e,o){var i=!1,s=function s(f){if(f.origin===l){if("load"===f.data.type)return void(console.warn&&console.warn("Cozy Client ignored MessageEvent having data.type `load`."));if(f.data.type==="intent-"+n._id+":ready")return i=!0,f.source.postMessage(r,f.origin);if(i&&f.data.type==="intent-"+n._id+":resize")return["width","height","maxWidth","maxHeight"].forEach(function(e){f.data.transition&&(t.style.transition=f.data.transition),f.data.dimensions[e]&&(t.style[e]=f.data.dimensions[e]+"px")}),!0;a.removeEventListener("message",s);var d=function(){u.parentNode&&u.parentNode.removeChild(u)};return i&&f.data.type==="intent-"+n._id+":exposeFrameRemoval"?e({removeIntentFrame:d,doc:f.data.document}):(d(),f.data.type==="intent-"+n._id+":error"?o(c.deserialize(f.data.error)):i&&f.data.type==="intent-"+n._id+":cancel"?e(null):i&&f.data.type==="intent-"+n._id+":done"?e(f.data.document):i?void 0:o(new Error("Unexpected handshake message from intent service")))}};a.addEventListener("message",s)})}function o(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!t)throw new Error('Misformed intent, "action" property must be provided');if(!n)throw new Error('Misformed intent, "type" property must be provided');var a=(0,u.cozyFetchJSON)(e,"POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:t,type:n,data:o,permissions:i}}});return a.start=function(e,t){return a.then(function(n){var i=n.attributes.services&&n.attributes.services[0];return i?r(i.href,e,n,o,t):Promise.reject(new Error("Unable to find a service"))})},a}function i(e,t){return new Promise(function(n,r){var o=function r(o){o.origin===e.attributes.client&&(t.removeEventListener("message",r),n(o.data))};t.addEventListener("message",o),t.parent.postMessage({type:"intent-"+e._id+":ready"},e.attributes.client)})}function a(e,t,n){if(!(n=n||"undefined"!=typeof window&&window))throw new Error("Intent service should be used in browser");if(!(t=t||n.location.search.split("=")[1]))throw new Error("Cannot retrieve intent from URL");return(0,u.cozyFetchJSON)(e,"GET","/intents/"+t).then(function(e){var t=!1,r=function(r){if(t)throw new Error("Intent service has already been terminated");t=!0,n.parent.postMessage(r,e.attributes.client)},o=function(r,o){if(t)throw new Error("Intent service has been terminated");var i={type:"intent-"+e._id+":resize",dimensions:r.element?Object.assign({},r,{maxHeight:r.element.clientHeight,maxWidth:r.element.clientWidth}):r,transition:o};n.parent.postMessage(i,e.attributes.client)},a=function(){r({type:"intent-"+e._id+":cancel"})};return n.addEventListener("unload",function(){t||a()}),i(e,n).then(function(t){return{getData:function(){return t},getIntent:function(){return e},terminate:function(n){return r(t&&t.exposeIntentFrameRemoval?{type:"intent-"+e._id+":exposeFrameRemoval",document:n}:{type:"intent-"+e._id+":done",document:n})},throw:function(t){return r({type:"intent-"+e._id+":error",error:c.serialize(t)})},resizeClient:o,cancel:a}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.create=o,t.createService=a;var u=n(8),s="coz-intent",c=function(){function e(e,t){var n=Object.assign(t,e);return["name","message"].reduce(function(n,r){return e[r]&&(t[r]=e[r]),n},n)}return{serialize:function(t){return e(t,{})},deserialize:function(t){return e(t,new Error(t.message))}}}()},function(e,t,n){function r(e,t){return(0,a.cozyFetchJSON)(e,"GET","/jobs/queue/"+t).then(function(e){return e.length})}function o(e,t){return(0,a.cozyFetchJSON)(e,"GET","/jobs/queue/"+t)}function i(e,t,n,r){return(0,a.cozyFetchJSON)(e,"POST","/jobs/queue/"+t,{data:{type:"io.cozy.jobs",attributes:{arguments:n||{},options:r||{}}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.count=r,t.queued=o,t.create=i;var a=n(8)},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.options,r=void 0===n?{}:n,o=t.doctypes,i=void 0===o?[]:o,a=!0,u=!1,s=void 0;try{for(var c,f=i[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){l(e,c.value,r)}}catch(e){u=!0,s=e}finally{try{!a&&f.return&&f.return()}finally{if(u)throw s}}}function i(e,t){return e._offline=e._offline||[],e._offline[t]=e._offline[t]||{},e._offline[t]}function a(e){return e._offline=e._offline||[],Object.keys(e._offline)}function u(e,t){return void 0!==s(e,t)}function s(e,t){return i(e,t).database}function c(e,t,n){return e._offline[t].database=n,s(e,t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return N||(D.default.plugin(I.default),"undefined"!=typeof pouchdbAdapterCordovaSqlite&&D.default.plugin(pouchdbAdapterCordovaSqlite),N=!0),u(e,t)?Promise.resolve(s(e,t)):(c(e,t,new D.default(t,n)),h(e,t).then(function(){return s(e,t)}))}function f(e,t){return u(e,t)?O(e,t).then(function(){return w(e,t)}).then(function(){return s(e,t).destroy()}).then(function(n){return c(e,t,void 0),n}):Promise.resolve(!1)}function d(e){var t=a(e),n=function(t){return f(e,t)};return Promise.all(t.map(n))}function h(e,t){return t===A.DOCTYPE_FILES?s(e,t).createIndex({index:{fields:["dir_id"]}}):Promise.resolve()}function p(e,t){return void 0!==v(e,t)}function v(e,t){return i(e,t).replication}function y(e,t,n){return e._offline[t].replication=n,v(e,t)}function m(e,t){return e.authorize().then(function(n){var r=n.token.toBasicAuth();return(e._url+"/data/"+t).replace("//","//"+r)})}function g(e,t){return i(e,t).replicationPromise}function b(e,t,n){return e._offline[t].replicationPromise=n,g(e,t)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b(e,t,new Promise(function(r,o){return u(e,t)||l(e,t),!0===n.live?o(new Error("You can't use `live` option with Cozy couchdb.")):(0,M.isOffline)()?(o(R),void(n.onError&&n.onError(R))):void m(e,t).then(function(i){return y(e,t,s(e,t).replicate.from(i,n).on("complete",function(o){y(e,t,void 0),r(o),n.onComplete&&n.onComplete(o)}).on("error",function(r){"code=400, message=Expired token"===r.error?e.authorize().then(function(r){var o=r.client,i=r.token;(0,j.refreshToken)(e,o,i).then(function(t){return e.saveCredentials(o,t)}).then(function(r){return _(e,t,n)})}):(console.warn("ReplicateFromCozy '"+t+"' Error:"),console.warn(r),y(e,t,void 0),o(r),n.onError&&n.onError(r))}))})}))}function w(e,t){return s(e,t)&&p(e,t)?new Promise(function(n){try{g(e,t).then(function(){n()}),v(e,t).cancel()}catch(e){n()}}):Promise.resolve()}function x(e){var t=a(e),n=function(t){return w(e,t)};return Promise.all(t.map(n))}function k(e,t){return i(e,t).interval}function E(e,t,n){e._offline[t].interval=n}function S(e,t){return void 0!==k(e,t)}function C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return S(e,t)?k(e,t):E(e,t,setInterval(function(){if((0,M.isOffline)())return void console.info(R);p(e,t)||_(e,t,r)},1e3*n))}function O(e,t){return S(e,t)&&(clearInterval(k(e,t)),E(e,t,void 0)),p(e,t)?w(e,t):Promise.resolve()}function T(e){var t=a(e),n=function(t){return O(e,t)};return Promise.all(t.map(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.replicationOfflineError=void 0,t.init=o,t.getDoctypes=a,t.hasDatabase=u,t.getDatabase=s,t.setDatabase=c,t.createDatabase=l,t.destroyDatabase=f,t.destroyAllDatabase=d,t.hasReplication=p,t.replicateFromCozy=_,t.stopReplication=w,t.stopAllReplication=x,t.hasRepeatedReplication=S,t.startRepeatedReplication=C,t.stopRepeatedReplication=O,t.stopAllRepeatedReplication=T;var A=n(11),j=n(7),M=n(4),P=n(17),D=r(P),L=n(30),I=r(L),R=t.replicationOfflineError="Replication abort, your device is actually offline.",N=!1},function(e,t,n){(function(t){function r(e){return e&&"object"===(void 0===e?"undefined":i(e))&&"default"in e?e.default:e}function o(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function a(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function u(e){if(e instanceof ArrayBuffer)return a(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function s(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Qr.call(n)==eo}function c(e){var t,n,r;if(!e||"object"!==(void 0===e?"undefined":i(e)))return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=c(e[n]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return u(e);if(!s(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=c(e[n]);void 0!==a&&(t[n]=a)}return t}function l(e){var t=!1;return Yr(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function f(e){return Yr(function(t){t=c(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new Xr(function(r,o){var i;try{var a=l(function(e,t){e?o(e):r(t)});t.push(a),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function d(e,t){function n(e,t,n){if(to.enabled){for(var r=[e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);to.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[e.name,t];o=o.concat(n?["error",n]:["success",r]),to.apply(null,o),i(n,r)}}}return f(Yr(function(r){if(this._closed)return Xr.reject(new Error("database is closed"));if(this._destroyed)return Xr.reject(new Error("database is destroyed"));var o=this;return n(o,e,r),this.taskqueue.isReady?t.apply(this,r):new Xr(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function h(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function p(e){return"$"+e}function v(e){return e.substring(1)}function y(){this._store={}}function m(e){if(this._store=new y,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function g(e){return e}function b(e){return[{ok:e}]}function _(e,t,n){function r(){var e=[];d.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++f===l&&r()}function i(e,t,n){d[e]={id:t,docs:n},o()}function a(){if(!(v>=p.length)){var e=Math.min(v+io,p.length),t=p.slice(v,e);u(t,v),v+=t.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,s=c.get(n),l=h(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(g);var f=g;0===l.open_revs.length&&(delete l.open_revs,f=b),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:f(t),i(u,n,r),a()})})}var s=t.docs,c=new ro;s.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,f=0,d=new Array(l),p=[];c.forEach(function(e,t){p.push(t)});var v=0;a()}function w(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function x(){return oo}function k(e){w()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):x()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function E(){Wr.EventEmitter.call(this),this._listeners={},k(this)}function S(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function C(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function O(e){var t=0;return e||(t=2e3),C(e,t)}function T(e,t){S("info","The above "+e+" is totally normal. "+t)}function A(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function j(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=A.prototype,new n(t)}function M(e){if("object"!==(void 0===e?"undefined":i(e))){var t=e;e=vo,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function P(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return j(bo,r)}}function D(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&P(e.filter,r.doc,t);if("object"===(void 0===o?"undefined":i(o)))return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var a in r.doc._attachments)r.doc._attachments.hasOwnProperty(a)&&(r.doc._attachments[a].stub=!0)}else delete r.doc;return!0}}function L(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function I(){}function R(e){var t;if(e?"string"!=typeof e?t=j(fo):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=j(po)):t=j(ho),t)throw t}function N(e,t){return"listenerCount"in e?e.listenerCount(t):Wr.EventEmitter.listenerCount(e,t)}function F(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function B(e){var t=F(e);return t?t.join("/"):null}function z(e){for(var t=Ao.exec(e),n={},r=14;r--;){var o=Co[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[Oo]={},n[Co[12]].replace(To,function(e,t,r){t&&(n[Oo][t]=r)}),n}function q(e,t,n){return new Xr(function(r,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(U(e,s,n))})})}function U(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return q(e,t._id,n)})}function H(e){return 0|Math.random()*e}function Y(e,t){t=t||jo.length;var n="",r=-1;if(e){for(;++r<e;)n+=jo[H(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=jo[3&H(16)|8];break;default:n+=jo[H(16)]}return n}function V(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,u=a[2],s=o.pos;if(u.length)for(var c=0,l=u.length;c<l;c++)i.push({pos:s+1,ids:u[c]});else{var f=!!a[1].deleted,d=a[0];t&&!(r!==f?r:n!==s?n<s:t<d)||(t=d,n=s,r=f)}}return n+"-"+t}function W(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],u=t(0===a.length,o,i[0],n.ctx,i[1]),s=0,c=a.length;s<c;s++)r.push({pos:o+1,ids:a[s],ctx:u})}function $(e,t){return e.pos-t.pos}function G(e){var t=[];W(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort($).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function J(e){for(var t=V(e),n=G(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function K(e){var t=[];return W(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function Z(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=t.history?t.history.slice():[];l.push({id:a,opts:u}),c&&n.push({pos:o+1-l.length,ids:l});for(var f=0,d=s.length;f<d;f++)r.push({pos:o+1,ids:s[f],history:l})}return n.reverse()}function X(e,t){return e.pos-t.pos}function Q(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function ee(e,t,n){var r=Q(e,t,n);e.splice(r,0,t)}function te(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var a=e[o],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function ne(e,t){return e[0]<t[0]?-1:1}function re(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,a=o.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(i[2][0]){for(var s=!1,c=0;c<i[2].length;c++)i[2][c][0]===a[2][u][0]&&(n.push({tree1:i[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",ee(i[2],a[2][u],ne))}else r="new_leaf",i[2][0]=a[2][u]}return{conflicts:r,tree:e}}function oe(e,t,n){var r,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=re(c.ids,t.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,d=f.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var y=v.ids[2],m=0,g=y.length;m<g;m++)p.push({ids:y[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===f.ids[0]&&h.push(v)}var b=h[0];b?(r=re(b.ids,f.ids),b.parent[2][b.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(t),o.sort(X),{tree:o,conflicts:i||"internal_node"}}function ie(e,t){for(var n,r=Z(e),o={},i=0,a=r.length;i<a;i++){for(var u=r[i],s=u.ids,c=Math.max(0,s.length-t),l={pos:u.pos+c,ids:te(s,c)},f=0;f<c;f++){var d=u.pos+f+"-"+s[f].id;o[d]=!0}n=n?oe(n,l,!0).tree:[l]}return W(n,function(e,t,n){delete o[t+"-"+n]}),{tree:n,revs:Object.keys(o)}}function ae(e,t,n){var r=oe(e,t),o=ie(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ue(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function se(e){return e.ids}function ce(e,t){t||(t=V(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(se);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function le(e){return/^_local/.test(e)}function fe(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:o,opts:u}),c)for(var f=0,d=l.length;f<d;f++){var h=l[f],p=h.pos+"-"+h.id;if(p===e)return o+"-"+a}for(var v=0,y=s.length;v<y;v++)r.push({pos:o+1,ids:s[v],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function de(e){return Jr('"use strict";\nreturn '+e+";",{})}function he(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Jr(t,{})}function pe(e,t){try{e.emit("change",t)}catch(e){S("error",'Error in .on("change", function):',e)}}function ve(e,t,n){function r(){o.cancel()}Wr.EventEmitter.call(this);var o=this;this.db=e,t=t?c(t):{};var i=t.complete=l(function(t,n){t?N(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){o.isCancelled||pe(o,e)};var a=new Xr(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function ye(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=G(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return ce(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=J(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function me(e,t){return e<t?-1:e>t?1:0}function ge(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function be(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=h(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function _e(e,t){var n=me(e._id,t._id);return 0!==n?n:me(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function we(e){var t={},n=[];return W(e,function(e,r,o,i){var a=r+"-"+o;return e&&(t[a]=0),void 0!==i&&n.push({from:i,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function xe(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return Xr.all(r.map(function(n){var r=uo({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new Xr(function(t,i){e._allDocs(r,function(e,r){if(e)return i(e);o.total_rows=r.total_rows,t(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(e){return o.rows=e,o})}function ke(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),Gr(function(){e._compactionQueue.shift(),e._compactionQueue.length&&ke(e)})})})}function Ee(e){return"_"===e.charAt(0)&&e+"is not a valid attachment name, attachment names cannot start with '_'"}function Se(){Wr.EventEmitter.call(this)}function Ce(){this.isReady=!1,this.failed=!1,this.queue=[]}function Oe(e,t){var n=e.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Ae.adapters,o=Ae.preferredAdapters,i=Ae.prefix,a=t.adapter;if(!a)for(var u=0;u<o.length;++u){a=o[u];{if(!("idb"===a&&"websql"in r&&x()&&localStorage["_pouch__websqldb_"+i+e]))break;S("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var s=r[a];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:i+e,adapter:a}}function Te(e){function t(){e.removeListener("closed",r),e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.removeListener("closed",r),e.emit("destroyed")}function r(){e.removeListener("destroyed",t),o.delete(e.name)}var o=e.constructor._destructionListeners;e.once("destroyed",t),e.once("closed",r),o.has(e.name)||o.set(e.name,[]),o.get(e.name).push(n)}function Ae(e,t){if(!(this instanceof Ae))return new Ae(e,t);var n=this;if(t=t||{},e&&"object"===(void 0===e?"undefined":i(e))&&(t=e,e=t.name,delete t.name),this.__opts=t=c(t),n.auto_compaction=t.auto_compaction,n.prefix=Ae.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=Oe(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Vr("pouchdb:adapter")("Picked adapter: "+t.adapter),!Ae.adapters[t.adapter]||!Ae.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Se.call(n),n.taskqueue=new Ce,n.adapter=t.adapter,Ae.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);Te(n),n.emit("created",n),Ae.emit("created",n.name),n.taskqueue.ready(n)})}function je(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function Me(e){if(!/^\d+\-./.test(e))return j(ko);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function Pe(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function De(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Y()),r=Y(32,16).toLowerCase(),e._rev){if(o=Me(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=Pe(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=Me(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}R(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s="_"===u[0];if(s&&!Do[u]){var c=j(go,u);throw c.message=go.message+": "+u,c}s&&!Lo[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}function Le(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function Ie(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function Re(e,t){return Le([Ie(e)],{type:t})}function Ne(e,t){return Re(Io(e),t)}function Fe(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function Be(e,t){if("undefined"==typeof FileReader)return t(Fe((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(Fe(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function ze(e,t){Be(e,function(e){t(e)})}function qe(e,t){ze(e,function(e){t(Ro(e))})}function Ue(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function He(e){return Ro(e)}function Ye(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function Ve(e,t,n,r,o){(n>0||r<t.size)&&(t=Ye(t,n,r)),Ue(t,function(t){e.append(t),o()})}function We(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function $e(e,t){function n(){No(o)}function r(){var e=l.end(!0),n=He(e);t(n),l.destroy()}function o(){var t=c*u,o=t+u;c++,c<s?f(l,e,t,o,n):f(l,e,t,o,r)}var i="string"==typeof e,a=i?e.length:e.size,u=Math.min(Fo,a),s=Math.ceil(a/u),c=0,l=i?new Kr:new Kr.ArrayBuffer,f=i?We:Ve;o()}function Ge(e){return Kr.hash(e)}function Je(e){try{return Io(e)}catch(e){var t=j(yo,"Attachment is not a valid base64 string");return{error:t}}}function Ke(e,t,n){var r=Je(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Re(r,e.content_type):"base64"===t?Ro(r):r,$e(r,function(t){e.digest="md5-"+t,n()})}function Ze(e,t,n){$e(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?ze(e.data,function(t){e.data=t,n()}):"base64"===t?qe(e.data,function(t){e.data=t,n()}):n()})}function Xe(e,t,n){if(e.stub)return n();"string"==typeof e.data?Ke(e,t,n):Ze(e,t,n)}function Qe(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,++a===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return r();for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&Xe(e.data._attachments[u],t,n)})}function et(e,t,n,r,o,i,a,u){if(ue(t.rev_tree,n.metadata.rev))return r[o]=n,i();var s=t.winningRev||V(t),c="deleted"in t?t.deleted:ce(t,s),l="deleted"in n.metadata?n.metadata.deleted:ce(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&u&&f){var d=n.data;d._rev=s,d._id=n.metadata.id,n=De(d,u)}var h=ae(t.rev_tree,n.metadata.rev_tree[0],e);if(u&&(c&&l||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts)){var p=j(lo);return r[o]=p,i()}var v=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var y,m=V(n.metadata),g=ce(n.metadata,m),b=c===g?0:c<g?-1:1;y=v===m?g:ce(n.metadata,v),a(n,m,g,y,!0,b,o,i)}function tt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function nt(e,t,n,r,o,i,a,u,s){function c(e,t,n){var r=V(e.metadata),o=ce(e.metadata,r);if("was_delete"in u&&o)return i[t]=j(co,"deleted"),n();if(f&&tt(e)){var s=j(lo);return i[t]=s,n()}a(e,r,o,o,!1,o?0:1,t,n)}function l(){++h===p&&s&&s()}e=e||1e3;var f=u.new_edits,d=new ro,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&le(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,l()})}var a=e.metadata.id;d.has(a)?(p--,d.get(a).push([e,t])):d.set(a,[[e,t]])}),d.forEach(function(t,n){function o(){++s<t.length?u():l()}function u(){var u=t[s],l=u[0],d=u[1];if(r.has(n))et(e,r.get(n),l,i,d,o,a,f);else{var h=ae([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,d,o)}}var s=0;u()})}function rt(e){try{return JSON.parse(e)}catch(t){return Zr.parse(e)}}function ot(e){try{return JSON.stringify(e)}catch(t){return Zr.stringify(e)}}function it(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(j(wo,n,t.type))}}function at(e,t,n){return{data:ot(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function ut(e){if(!e)return null;var t=rt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function st(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function ct(e,t,n,r){n?r(e?"string"!=typeof e?e:Ne(e,t):Le([""],{type:t})):e?"string"!=typeof e?Be(e,function(e){r(Ro(e))}):r(e):r("")}function lt(e,t,n,r){function o(){++u===a.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(Uo).get(i).onsuccess=function(e){r.body=e.target.result.body,o()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var u=0;a.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function ft(e,t){return Xr.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Xr.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new Xr(function(a){ct(o,i,t,function(t){e.doc._attachments[n]=uo(h(r,["digest","content_type"]),{data:t}),a()})})}}))}}))}function dt(e,t,n){function r(){--c||o()}function o(){i.length&&i.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1)).onsuccess=function(t){t.target.result||u.delete(e)}})}var i=[],a=n.objectStore(qo),u=n.objectStore(Uo),s=n.objectStore(Ho),c=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else r()}}})}function ht(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function pt(e,t,n,r,o,i){function a(){var e=[zo,qo,Uo,Vo,Ho,Yo],t=ht(o,e,"readwrite");if(t.error)return i(t.error);b=t.txn,b.onabort=it(i),b.ontimeout=it(i),b.oncomplete=f,_=b.objectStore(zo),w=b.objectStore(qo),x=b.objectStore(Uo),k=b.objectStore(Ho),E=b.objectStore(Yo),E.get(Yo).onsuccess=function(e){C=e.target.result,c()},h(function(e){if(e)return R=!0,i(e);l()})}function u(){P=!0,c()}function s(){nt(e.revs_limit,O,r,I,b,L,p,n,u)}function c(){C&&P&&(C.docCount+=D,E.put(C))}function l(){function e(){++n===O.length&&s()}function t(t){var n=ut(t.target.result);n&&I.set(n.id,n),e()}if(O.length)for(var n=0,r=0,o=O.length;r<o;r++){var i=O[r];if(i._id&&le(i._id))e();else{var a=_.get(i.metadata.id);a.onsuccess=t}}}function f(){R||($o.notify(r._meta.name),i(null,L))}function d(e,t){x.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=j(Eo,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++o===n.length&&e(r)}var n=[];if(O.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){d(e,function(e){e&&!r&&(r=e),t()})})}function p(e,t,n,r,o,i,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return y(e,t,n,o,a,u);D+=i,c(),v(e,t,n,o,a,u)}function v(e,t,n,o,i,a){function u(i){var a=e.stemmedRevs||[];o&&r.auto_compaction&&(a=a.concat(K(e.metadata))),a&&a.length&&dt(a,e.metadata.id,b),f.seq=i.target.result;var u=at(f,t,n);_.put(u).onsuccess=c}function s(e){e.preventDefault(),e.stopPropagation(),w.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){w.put(l,e.target.result).onsuccess=u}}function c(){L[i]={ok:!0,id:f.id,rev:f.rev},I.set(e.metadata.id,e.metadata),m(e,f.seq,a)}var l=e.data,f=e.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var d=w.put(l);d.onsuccess=u,d.onerror=s}function y(e,t,n,r,o,i){function a(){c===l.length&&v(e,t,n,r,o,i)}function u(){c++,a()}var s=e.data,c=0,l=Object.keys(s._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,a();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);g(r.digest,o,u)}})}function m(e,t,n){function r(){++o===i.length&&n()}var o=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();for(var a=0;a<i.length;a++)!function(n){var o=e.data._attachments[n].digest,i=k.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}(i[a])}function g(e,t,n){x.count(e).onsuccess=function(r){if(r.target.result)return n();var o={digest:e,body:t};x.put(o).onsuccess=n}}for(var b,_,w,x,k,E,S,C,O=t.docs,T=0,A=O.length;T<A;T++){var M=O[T];M._id&&le(M._id)||(M=O[T]=De(M,n.new_edits),M.error&&!S&&(S=M))}if(S)return i(S);var P=!1,D=0,L=new Array(O.length),I=new ro,R=!1,N=r._meta.blobSupport?"blob":"base64";Qe(O,N,function(e){if(e)return i(e);a()})}function vt(e,t,n,r,o){function i(e){l=e.target.result,c&&o(c,l,f)}function a(e){c=e.target.result,l&&o(c,l,f)}function u(){if(!c.length)return o();var n,u=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else n=IDBKeyRange.lowerBound(u,!0);t=n,c=null,l=null,e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a}function s(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}var c,l,f,d="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;d?(f={continue:u},e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=s:e.openCursor(t).onsuccess=s}function yt(e,t,n){function r(e){var t=e.target.result;t?(o.push(t.value),t.continue()):n({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var o=[];e.openCursor(t).onsuccess=r}function mt(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function gt(e,t,n){function r(t,n,r){var o=t.id+"::"+r;S.get(o).onsuccess=function(r){if(n.doc=st(r.target.result),e.conflicts){var o=J(t);o.length&&(n.doc._conflicts=o)}lt(n.doc,e,_)}}function o(t,n){var o={id:n.id,key:n.id,value:{rev:t}},i=n.deleted;"ok"===e.deleted?(C.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&r(n,o,t)):!i&&h--<=0&&(C.push(o),e.include_docs&&r(n,o,t))}function i(e){for(var t=0,n=e.length;t<n&&C.length!==p;t++){var r=e[t],i=ut(r);o(i.winningRev,i)}}function a(e,t,n){n&&(i(t),C.length<p&&n.continue())}function u(t){var n=t.target.result;e.descending&&(n=n.reverse()),i(n)}function s(){n(null,{total_rows:w,offset:e.skip,rows:C})}function c(){e.attachments?ft(C,e.binary).then(s):s()}var l="startkey"in e&&e.startkey,f="endkey"in e&&e.endkey,d="key"in e&&e.key,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,v=!1!==e.inclusive_end,y=mt(l,f,v,d,e.descending),m=y&&y.error;if(m&&("DataError"!==m.name||0!==m.code))return n(j(wo,m.name,m.message));var g=[zo,qo,Yo];e.attachments&&g.push(Uo);var b=ht(t,g,"readonly");if(b.error)return n(b.error);var _=b.txn;_.oncomplete=c,_.onabort=it(n);var w,x=_.objectStore(zo),k=_.objectStore(qo),E=_.objectStore(Yo),S=k.index("_doc_id_rev"),C=[];return E.get(Yo).onsuccess=function(e){w=e.target.result.docCount},m||0===p?void 0:-1===p?yt(x,y,u):void vt(x,y,e.descending,p+h,a)}function bt(e){return new Xr(function(t){var n=Le([""]);e.objectStore(Wo).put(n,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function _t(e,t){e.objectStore(zo).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function wt(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}function xt(){!Go&&Jo.length&&(Go=!0,Jo.shift()())}function kt(e,t,n){Jo.push(function(){e(function(e,r){wt(t,e,r,n),Go=!1,Gr(function(){xt(n)})})}),xt()}function Et(e,t,n,r){function o(t,n,r){function o(t,n){var r=e.processChange(n,t,e);h=r.seq=t.seq;var o=x(r);if("object"===(void 0===o?"undefined":i(o)))return e.complete(o);o&&(w++,v&&_.push(r),e.attachments&&e.include_docs?lt(n,e,y,function(){ft([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r))}function a(){for(var e=0,t=s.length;e<t&&w!==p;e++){var n=s[e];if(n){o(c[e],n)}}w!==p&&r.continue()}if(r&&t.length){var s=new Array(t.length),c=new Array(t.length),l=0;n.forEach(function(e,n){u(st(e),t[n],function(e,r){c[n]=e,s[n]=r,++l===t.length&&a()})})}}function a(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev;b.get(o).onsuccess=function(e){r(n,st(e.target.result))}}function u(e,t,n){if(d&&!d.has(e._id))return n();var r=k.get(e._id);if(r)return a(e,t,r,n);g.get(e._id).onsuccess=function(o){r=ut(o.target.result),k.set(e._id,r),a(e,t,r,n)}}function s(){e.complete(null,{results:_,last_seq:h})}function l(){!e.continuous&&e.attachments?ft(_).then(s):s()}if(e=c(e),e.continuous){var f=n+":"+Y();return $o.addListener(n,f,t,e),$o.notify(n),{cancel:function(){$o.removeListener(n,f)}}}var d=e.doc_ids&&new no(e.doc_ids);e.since=e.since||0;var h=e.since,p="limit"in e?e.limit:-1;0===p&&(p=1);var v;v="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var y,m,g,b,_=[],w=0,x=D(e),k=new ro,E=[zo,qo];e.attachments&&E.push(Uo);var S=ht(r,E,"readonly");if(S.error)return e.complete(S.error);y=S.txn,y.onabort=it(e.complete),y.oncomplete=l,m=y.objectStore(qo),g=y.objectStore(zo),b=m.index("_doc_id_rev"),vt(m,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,p,o)}function St(e,t){var n=this;kt(function(t){Ct(n,e,t)},t,n.constructor)}function Ct(e,t,n){function r(e){var t=e.createObjectStore(zo,{keyPath:"id"});e.createObjectStore(qo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Uo,{keyPath:"digest"}),e.createObjectStore(Yo,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Wo),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(Vo,{keyPath:"_id"});var n=e.createObjectStore(Ho,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(zo);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=ce(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function i(e){e.createObjectStore(Vo,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var n=e.objectStore(Vo),r=e.objectStore(zo),o=e.objectStore(qo);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,u=a.id,s=le(u),c=V(a);if(s){var l=u+"::"+c,f=u+"::",d=u+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(f,d,!1,!1),v=h.openCursor(p);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function u(e){var t=e.createObjectStore(Ho,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function s(e,t){var n=e.objectStore(qo),r=e.objectStore(Uo),o=e.objectStore(Ho);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++)u[r._attachments[a[s]].digest]=!0;var c=Object.keys(u);for(s=0;s<c.length;s++){var l=c[s];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}}}function c(e){function t(e){return e.data?ut(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(qo),r=e.objectStore(zo);r.openCursor().onsuccess=function(e){function o(){var e=at(a,a.winningRev,a.deleted);r.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||V(a),a.seq)return o();!function(){var e=a.id+"::",t=a.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}}}var l=t.name,d=null;e._meta=null,e.type=function(){return"idb"},e._id=f(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){pt(t,n,r,e,d,o)},e._get=function(e,t,n){function r(){n(a,{doc:o,metadata:i,ctx:u})}var o,i,a,u=t.ctx;if(!u){var s=ht(d,[zo,qo,Uo],"readonly");if(s.error)return n(s.error);u=s.txn}u.objectStore(zo).get(e).onsuccess=function(e){if(!(i=ut(e.target.result)))return a=j(co,"missing"),r();var n;if(t.rev)n=t.latest?fe(t.rev,i):t.rev;else{n=i.winningRev;if(ce(i))return a=j(co,"deleted"),r()}var s=u.objectStore(qo),c=i.id+"::"+n;s.index("_doc_id_rev").get(c).onsuccess=function(e){if(o=e.target.result,o&&(o=st(o)),!o)return a=j(co,"missing"),r();r()}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var a=ht(d,[zo,qo,Uo],"readonly");if(a.error)return o(a.error);i=a.txn}var u=n.digest,s=n.content_type;i.objectStore(Uo).get(u).onsuccess=function(e){ct(e.target.result.body,s,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=ht(d,[Yo,qo],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(Yo).get(Yo).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(qo).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){gt(e,d,t)},e._changes=function(t){Et(t,e,l,d)},e._close=function(e){d.close(),Ko.delete(l),e()},e._getRevisionTree=function(e,t){var n=ht(d,[zo],"readonly");if(n.error)return t(n.error);n.txn.objectStore(zo).get(e).onsuccess=function(e){var n=ut(e.target.result);n?t(null,n.rev_tree):t(j(co))}},e._doCompaction=function(e,t,n){var r=[zo,qo,Uo,Ho],o=ht(d,r,"readwrite");if(o.error)return n(o.error);var i=o.txn;i.objectStore(zo).get(e).onsuccess=function(n){var r=ut(n.target.result);W(r.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")}),dt(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(zo).put(at(r,o,a))},i.onabort=it(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=ht(d,[Vo],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(Vo).get(e);o.onerror=it(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(j(co))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var u=ht(d,[Vo],"readwrite");if(u.error)return n(u.error);a=u.txn,a.onerror=it(n),a.oncomplete=function(){i&&n(null,i)}}var s,c=a.objectStore(Vo);r?(s=c.get(o),s.onsuccess=function(o){var a=o.target.result;if(a&&a._rev===r){c.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(j(lo))}):(s=c.add(e),s.onerror=function(e){n(j(lo)),e.preventDefault(),e.stopPropagation()},s.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=ht(d,[Vo],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,a=e._id,u=r.objectStore(Vo),s=u.get(a);s.onerror=it(n),s.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(j(co))}},e._destroy=function(e,t){$o.removeAllListeners(l);var n=Zo.get(l);n&&n.result&&(n.result.close(),Ko.delete(l));var r=indexedDB.deleteDatabase(l);r.onsuccess=function(){Zo.delete(l),x()&&l in localStorage&&delete localStorage[l],t(null,{ok:!0})},r.onerror=it(t)};var h=Ko.get(l);if(h)return d=h.idb,e._meta=h.global,Gr(function(){n(null,e)});var p;p=t.storage?Ot(l,t.storage):indexedDB.open(l,Bo),Zo.set(l,p),p.onupgradeneeded=function(e){function t(){var e=f[d-1];d++,e&&e(l,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var l=e.currentTarget.transaction;e.oldVersion<3&&i(n),e.oldVersion<4&&u(n);var f=[o,a,s,c],d=e.oldVersion;t()},p.onsuccess=function(t){function r(){void 0!==u&&f&&(e._meta={name:l,instanceId:s,blobSupport:u},Ko.set(l,{idb:d,global:e._meta}),n(null,e))}function o(){if(void 0!==a&&void 0!==i){var e=l+"_id";e in i?s=i[e]:i[e]=s=Y(),i.docCount=a,c.objectStore(Yo).put(i)}}d=t.target.result,d.onversionchange=function(){d.close(),Ko.delete(l)},d.onabort=function(e){S("error","Database has a global failure",e.target.error),d.close(),Ko.delete(l)};var i,a,u,s,c=d.transaction([Yo,Wo,zo],"readwrite"),f=!1;c.objectStore(Yo).get(Yo).onsuccess=function(e){i=e.target.result||{id:Yo},o()},_t(c,function(e){a=e,o()}),Po||(Po=bt(c)),Po.then(function(e){u=e,r()}),c.oncomplete=function(){f=!0,r()}},p.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";S("error",e),n(j(wo,e))}}function Ot(e,t){try{return indexedDB.open(e,{version:Bo,storage:t})}catch(t){return indexedDB.open(e,Bo)}}function Tt(e){return decodeURIComponent(escape(e))}function At(e){return e<65?e-48:e-55}function jt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(At(e.charCodeAt(t++))<<4|At(e.charCodeAt(t++)));return r}function Mt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(At(e.charCodeAt(t+2))<<12|At(e.charCodeAt(t+3))<<8|At(e.charCodeAt(t))<<4|At(e.charCodeAt(t+1))),t+=4;return r}function Pt(e,t){return"UTF-8"===t?Tt(jt(e,0,e.length)):Mt(e,0,e.length)}function Dt(e){return"'"+e+"'"}function Lt(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function It(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Rt(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Nt(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Ft(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Bt(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function zt(e,t,n){function r(){++i===e.length&&o()}function o(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+ii+" WHERE seq IN "+Ft(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+ii+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(o,a,function(e){var t="SELECT digest FROM "+ii+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new no,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+ii+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+ni+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var o="SELECT seq FROM "+ti+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+ti+" WHERE seq=?",[n],r)})})}}function qt(e){return function(t){S("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(j(xo,o,r))}}function Ut(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Ht(e,t,n,r,o,i,a){function u(){if(b)return a(b);i.notify(r._name),a(null,_)}function s(e,t){var n="SELECT count(*) as cnt FROM "+ni+" WHERE digest=?";g.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=j(Eo,"unknown stub attachment with digest "+e);t(o)}else t()})}function c(e){function t(){++o===n.length&&e(r)}var n=[];if(y.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){s(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,o,i,a,u,s){function c(){function t(e,t){function r(){return++o===i.length&&t(),!1}var o=0,i=Object.keys(n._attachments||{});if(!i.length)return t();for(var a=0;a<i.length;a++)!function(t){var o="INSERT INTO "+ii+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];g.executeSql(o,i,r,r)}(i[a])}var n=e.data,r=o?1:0,i=n._id,a=n._rev,u=Rt(n),s="INSERT INTO "+ti+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[i,a,u,r];g.executeSql(s,c,function(e,n){var r=n.insertId;t(r,function(){d(e,r)})},function(){var e=Bt("seq",ti,null,"doc_id=? AND rev=?");return g.executeSql(e,[i,a],function(e,n){var o=n.rows.item(0).seq,s="UPDATE "+ti+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[u,r,i,a];e.executeSql(s,c,function(e){t(o,function(){d(e,o)})})}),!1})}function l(e){p||(e?(p=e,s(p)):v===y.length&&c())}function f(e){v++,l(e)}function d(n,o){var a=e.metadata.id,c=e.stemmedRevs||[];i&&r.auto_compaction&&(c=K(e.metadata).concat(c)),c.length&&zt(c,a,n),e.metadata.seq=o;var l=e.metadata.rev;delete e.metadata.rev;var f=i?"UPDATE "+ei+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+ti+" WHERE doc_id="+ei+".id AND rev=?) WHERE id=?":"INSERT INTO "+ei+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=ot(e.metadata),h=i?[d,o,t,a]:[a,o,o,d];n.executeSql(f,h,function(){_[u]={ok:!0,id:e.metadata.id,rev:l},w.set(a,e.metadata),s()})}var p=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var y=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),y.forEach(function(n){var r=e.data._attachments[n];if(r.stub)v++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);h(r.digest,o,f)}}),y.length||c()}function f(){nt(e.revs_limit,y,r,w,g,_,l,n)}function d(e){function t(){++n===y.length&&e()}if(!y.length)return e();var n=0;y.forEach(function(e){if(e._id&&le(e._id))return t();var n=e.metadata.id;g.executeSql("SELECT json FROM "+ei+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=rt(r.rows.item(0).json);w.set(n,o)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+ni+" WHERE digest=?";g.executeSql(r,[e],function(o,i){if(i.rows.length)return n();r="INSERT INTO "+ni+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(r,[e,Lt(t)],function(){n()},function(){return n(),!1})})}var p=n.new_edits,v=t.docs,y=v.map(function(e){return e._id&&le(e._id)?e:De(e,p)}),m=y.filter(function(e){return e.error});if(m.length)return a(m[0]);var g,b,_=new Array(y.length),w=new ro;Qe(y,"binary",function(e){if(e)return a(e);o.transaction(function(e){g=e,c(function(e){e?b=e:d(f)})},qt(a),u)})}function Yt(e){return e.websql(e.name,e.version,e.description,e.size)}function Vt(e){try{return{db:Yt(e)}}catch(e){return{error:e}}}function Wt(e){var t=ai.get(e.name);return t||(t=Vt(e),ai.set(e.name,t)),t}function $t(e,t,n,r,o){function i(){++s===u.length&&o&&o()}function a(e,o){var a=e._attachments[o],u={binary:t.binary,ctx:r};n._getAttachment(e._id,o,a,u,function(t,n){e._attachments[o]=uo(h(a,["digest","content_type"]),{data:n}),i()})}var u=Object.keys(e._attachments||{});if(!u.length)return o&&o();var s=0;u.forEach(function(n){t.attachments&&t.include_docs?a(e,n):(e._attachments[n].stub=!0,i())})}function Gt(e,t){function n(){x()&&(window.localStorage["_pouch__websqldb_"+_._name]=!0),t(null,_)}function r(e,t){e.executeSql(fi),e.executeSql("ALTER TABLE "+ti+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(ci),e.executeSql("ALTER TABLE "+ei+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+ei+" (local, id)");var n="SELECT "+ei+".winningseq AS seq, "+ei+".json AS metadata FROM "+ti+" JOIN "+ei+" ON "+ti+".seq = "+ei+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var a=n.rows.item(i),u=a.seq,s=JSON.parse(a.metadata);ce(s)&&r.push(u),le(s.id)&&o.push(s.id)}e.executeSql("UPDATE "+ei+"SET local = 1 WHERE id IN "+Ft(o.length),o,function(){e.executeSql("UPDATE "+ti+" SET deleted = 1 WHERE seq IN "+Ft(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+ri+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+ei+".id AS id, "+ti+".json AS data FROM "+ti+" JOIN "+ei+" ON "+ti+".seq = "+ei+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+ri+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+ei+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+ti+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function a(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=Pt(o.hex,b),a=i.lastIndexOf("::"),u=i.substring(0,a),s=i.substring(a+2),c="UPDATE "+ti+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[u,s,i],function(){r()})}r()}var r="ALTER TABLE "+ti+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+ti+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(li,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+ti;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function u(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+ni;e.executeSql(n,[],function(e,n){function r(){var n=Bt(vi+", "+ei+".id AS id",[ei,ti],pi,null,ei+".id ");n+=" LIMIT "+i+" OFFSET "+o,o+=i,e.executeSql(n,[],function(e,n){if(!n.rows.length)return t(e);for(var o={},i=0;i<n.rows.length;i++)for(var a=n.rows.item(i),u=Nt(a.data,a.id,a.rev),s=Object.keys(u._attachments||{}),c=0;c<s.length;c++){var l=u._attachments[s[c]];!function(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}(l.digest,a.seq)}var f=[];if(Object.keys(o).forEach(function(e){o[e].forEach(function(t){f.push([e,t])})}),!f.length)return r();var d=0;f.forEach(function(t){var n="INSERT INTO "+ii+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++d===f.length&&r()})})})}if(!n.rows.item(0).cnt)return t(e);var o=0,i=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+ii+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(hi,[],function(e){e.executeSql(di,[],n)})})}function s(e,t){var n="ALTER TABLE "+ni+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function l(e,t){var n="ALTER TABLE "+ei+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+ei+" SET max_seq=(SELECT MAX(seq) FROM "+ti+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+ei+" (max_seq)";e.executeSql(n,[],t)})})}function d(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;b=2===r.length?"UTF-8":"UTF-16",t()})}function h(){for(;E.length>0;){E.pop()(null,w)}}function p(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+oi+" (dbid, db_version INTEGER)",i="CREATE TABLE IF NOT EXISTS "+ni+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",c="CREATE TABLE IF NOT EXISTS "+ii+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+ei+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",d="CREATE TABLE IF NOT EXISTS "+ti+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+ri+" (id UNIQUE, rev, json)";e.executeSql(i),e.executeSql(p),e.executeSql(c,[],function(){e.executeSql(di),e.executeSql(hi)}),e.executeSql(f,[],function(){e.executeSql(fi),e.executeSql(d,[],function(){e.executeSql(ci),e.executeSql(li),e.executeSql(n,[],function(){var t="INSERT INTO "+oi+" (db_version, dbid) VALUES (?,?)";w=Y();var n=[Qo,w];e.executeSql(t,n,function(){h()})})})})}else{var v=function(){t<Qo&&e.executeSql("UPDATE "+oi+" SET db_version = "+Qo);var n="SELECT dbid FROM "+oi;e.executeSql(n,[],function(e,t){w=t.rows.item(0).dbid,h()})},y=[r,o,a,u,s,l,v],m=t;!function e(t){y[m-1](t,e),m++}(e)}}function v(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+oi;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+oi,[],function(e,t){p(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+oi+" ADD COLUMN db_version INTEGER",[],function(){p(e,1)}):p(e,0)})}function y(e,t){var n="SELECT MAX(seq) AS seq FROM "+ti;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function m(e,t){var n=Bt("COUNT("+ei+".id) AS 'num'",[ei,ti],pi,ti+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function g(e,t,n,r,o){var i=Bt(vi,[ei,ti],pi,ei+".id=?"),a=[t];e.executeSql(i,a,function(e,t){if(!t.rows.length){var i=j(co,"missing");return o(i)}var a=t.rows.item(0),u=rt(a.metadata);r(fe(n,u))})}var b,_=this,w=null,k=Ut(e),E=[];_._name=e.name;var S=uo({},e,{version:si,description:e.name,size:k}),C=Wt(S);if(C.error)return qt(t)(C.error);var O=C.db;"function"!=typeof O.readTransaction&&(O.readTransaction=O.transaction),function(){O.transaction(function(e){d(e,function(){v(e)})},qt(t),n)}(),_.type=function(){return"websql"},_._id=f(function(e){e(null,w)}),_._info=function(e){var t,n;O.readTransaction(function(e){y(e,function(e){t=e}),m(e,function(e){n=e})},qt(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:b})})},_._bulkDocs=function(t,n,r){Ht(e,t,n,_,O,ui,r)},_._get=function(e,t,n){function r(e){n(e,{doc:o,metadata:i,ctx:a})}var o,i,a=t.ctx;if(!a)return O.readTransaction(function(r){_._get(e,uo({ctx:r},t),n)});var u,s;if(t.rev){if(t.latest)return void g(a,e,t.rev,function(r){t.latest=!1,t.rev=r,_._get(e,t,n)},r);u=Bt(vi,[ei,ti],ei+".id="+ti+".doc_id",[ti+".doc_id=?",ti+".rev=?"]),s=[e,t.rev]}else u=Bt(vi,[ei,ti],pi,ei+".id=?"),s=[e];a.executeSql(u,s,function(e,n){if(!n.rows.length){return r(j(co,"missing"))}var a=n.rows.item(0);if(i=rt(a.metadata),a.deleted&&!t.rev){return r(j(co,"deleted"))}o=Nt(a.data,i.id,a.rev),r()})},_._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,a="key"in e&&e.key,u="descending"in e&&e.descending,s="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=!1!==e.inclusive_end,f=[],d=[];if(!1!==a)d.push(ei+".id = ?"),f.push(a);else if(!1!==o||!1!==i){if(!1!==o&&(d.push(ei+".id "+(u?"<=":">=")+" ?"),f.push(o)),!1!==i){var h=u?">":"<";l&&(h+="="),d.push(ei+".id "+h+" ?"),f.push(i)}!1!==a&&(d.push(ei+".id = ?"),f.push(a))}"ok"!==e.deleted&&d.push(ti+".deleted = 0"),O.readTransaction(function(t){if(m(t,function(e){n=e}),0!==s){var o=Bt(vi,[ei,ti],pi,d,ei+".id "+(u?"DESC":"ASC"));o+=" LIMIT "+s+" OFFSET "+c,t.executeSql(o,f,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var a=n.rows.item(o),u=rt(a.metadata),s=u.id,c=Nt(a.data,s,a.rev),l=c._rev,f={id:s,key:s,value:{rev:l}};if(e.include_docs){if(f.doc=c,f.doc._rev=l,e.conflicts){var d=J(u);d.length&&(f.doc._conflicts=d)}$t(f.doc,e,_,t)}if(a.deleted){if("ok"!==e.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}},qt(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},_._changes=function(e){if(e=c(e),e.continuous){var t=_._name+":"+Y();return ui.addListener(_._name,t,_,e),ui.notify(_._name),{cancel:function(){ui.removeListener(_._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r="limit"in e?e.limit:-1;0===r&&(r=1);var o;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=[],u=0;!function(){var t=ei+".json AS metadata, "+ei+".max_seq AS maxSeq, "+ti+".json AS winningDoc, "+ti+".rev AS winningRev ",s=ei+" JOIN "+ti,c=ei+".id="+ti+".doc_id AND "+ei+".winningseq="+ti+".seq",l=["maxSeq > ?"],f=[e.since];e.doc_ids&&(l.push(ei+".id IN "+Ft(e.doc_ids.length)),f=f.concat(e.doc_ids));var d="maxSeq "+(n?"DESC":"ASC"),h=Bt(t,s,c,l,d),p=D(e);e.view||e.filter||(h+=" LIMIT "+r);var v=e.since||0;O.readTransaction(function(t){t.executeSql(h,f,function(t,n){function s(t){return function(){e.onChange(t)}}for(var c=0,l=n.rows.length;c<l;c++){var f=n.rows.item(c),d=rt(f.metadata);v=f.maxSeq;var h=Nt(f.winningDoc,d.id,f.winningRev),y=e.processChange(h,d,e);y.seq=f.maxSeq;var m=p(y);if("object"===(void 0===m?"undefined":i(m)))return e.complete(m);if(m&&(u++,o&&a.push(y),e.attachments&&e.include_docs?$t(h,e,_,t,s(y)):s(y)()),u===r)break}})},qt(e.complete),function(){e.continuous||e.complete(null,{results:a,last_seq:v})})}()},_._close=function(e){e()},_._getAttachment=function(e,t,n,r,o){var i,a=r.ctx,u=n.digest,s=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+ni+" WHERE digest=?";a.executeSql(c,[u],function(e,t){var n=t.rows.item(0),a=n.escaped?It(n.body):Pt(n.body,b);i=r.binary?Re(a,s):Ro(a),o(null,i)})},_._getRevisionTree=function(e,t){O.readTransaction(function(n){var r="SELECT json AS metadata FROM "+ei+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=rt(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(j(co))})})},_._doCompaction=function(e,t,n){if(!t.length)return n();O.transaction(function(n){var r="SELECT json AS metadata FROM "+ei+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=rt(r.rows.item(0).metadata);W(o.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")});var i="UPDATE "+ei+" SET json = ? WHERE id = ?";n.executeSql(i,[ot(o),e])}),zt(t,e,n)},qt(n),function(){n()})},_._getLocal=function(e,t){O.readTransaction(function(n){var r="SELECT json, rev FROM "+ri+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Nt(o.json,e,o.rev);t(null,i)}else t(j(co))})})},_._putLocal=function(e,t,n){function r(e){var r,c;i?(r="UPDATE "+ri+" SET rev=?, json=? WHERE id=? AND rev=?",c=[o,s,a,i]):(r="INSERT INTO "+ri+" (id, rev, json) VALUES (?,?,?)",c=[a,o,s]),e.executeSql(r,c,function(e,r){r.rowsAffected?(u={ok:!0,id:a,rev:o},t.ctx&&n(null,u)):n(j(lo))},function(){return n(j(lo)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,a=e._id;o=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var u,s=Rt(e);t.ctx?r(t.ctx):O.transaction(r,qt(n),function(){u&&n(null,u)})},_._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+ri+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(i,a,function(r,i){if(!i.rowsAffected)return n(j(co));o={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,o)})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):O.transaction(r,qt(n),function(){o&&n(null,o)})},_._destroy=function(e,t){ui.removeAllListeners(_._name),O.transaction(function(e){[ei,ti,ni,oi,ri,ii].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},qt(t),function(){x()&&(delete window.localStorage["_pouch__websqldb_"+_._name],delete window.localStorage[_._name]),t(null,{ok:!0})})}}function Jt(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Kt(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=x(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Jt();return e&&(localStorage[t]=n?"1":"0"),n}function Zt(){return"function"==typeof openDatabase&&Kt()}function Xt(e,t,n,r){return openDatabase(e,t,n,r)}function Qt(e,t){var n=uo({websql:Xt},e);Gt.call(this,n,t)}function en(){for(var e={},t=new Xr(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,Xr.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function tn(e,t){var n,r,o,i=new Headers,a={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):a.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=en(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function nn(e,t){var n,r,o=!1,i=function(){n.abort(),s()},a=function(){o=!0,n.abort(),s()},u={abort:i},s=function(){clearTimeout(r),u.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(a,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(a,e.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?Le([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var a={};if(o)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else if("string"==typeof n.response)try{a=JSON.parse(n.response)}catch(e){}a.status=n.status,t(a)}s()}},e.body&&e.body instanceof Blob?Ue(e.body,function(e){n.send(e)}):n.send(e.body),u}function rn(e,t){return mi||e.xhr?nn(e,t):tn(e,t)}function on(){return""}function an(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?M(e):e})),e.binary&&gi(t,n),r(null,t,n)}return e=c(e),e=uo({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),rn(e,function(r,o,a){if(r)return t(M(r));var u,s=o.headers&&o.headers["content-type"],c=a||on();if(!e.binary&&(e.json||!e.processData)&&"object"!==(void 0===c?"undefined":i(c))&&(/json/.test(s)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(c,o,t):(u=M(c),u.status=o.statusCode,t(u))})}function un(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),i=-1!==n.indexOf("edge"),a=r||(o||i)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!u)){var s=-1!==e.url.indexOf("?");e.url+=(s?"&":"?")+"_nonce="+Date.now()}return an(e,t)}function sn(e,t){return new Xr(function(n,r){function o(){l++,e[f++]().then(a,u)}function i(){++d===h?c?r(c):n():s()}function a(){l--,i()}function u(e){l--,c=c||e,i()}function s(){for(;l<t&&f<h;)o()}var c,l=0,f=0,d=0,h=e.length;s()})}function cn(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Ne(n.data,n.content_type)})}function ln(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function fn(e){return e._attachments&&Object.keys(e._attachments)?Xr.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Xr(function(e){qe(n.data,e)}).then(function(e){n.data=e})})):Xr.resolve()}function dn(e){if(!e.prefix)return!1;var t=z(e.prefix).protocol;return"http"===t||"https"===t}function hn(e,t){if(dn(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=z(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function pn(e,t){return vn(e,e.db+"/"+t)}function vn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function yn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function mn(e,t){function n(e,t,n){var r=e.ajax||{},o=uo(c(p),r,t);return xi(o.method+" "+o.url),s._ajax(o,n)}function r(e,t){return new Xr(function(r,o){n(e,t,function(e,t){if(e)return o(e);r(t)})})}function o(e,t){return d(e,Yr(function(e){a().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function a(){return e.skipSetup||e.skip_setup?Xr.resolve():g||(g=r({},{method:"GET",url:f}).catch(function(e){return e&&e.status&&404===e.status?(T(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:f})):Xr.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Xr.reject(e)}),g.catch(function(){g=null}),g)}function u(e){return e.split("/").map(encodeURIComponent).join("/")}var s=this,l=hn(e.name,e),f=pn(l,"");e=c(e);var p=e.ajax||{};if(e.auth||l.auth){var v=e.auth||l.auth,y=v.username+":"+v.password,m=Ro(unescape(encodeURIComponent(y)));p.headers=p.headers||{},p.headers.Authorization="Basic "+m}s._ajax=un;var g;Gr(function(){t(null,s)}),s.type=function(){return"http"},s.id=o("id",function(e){n({},{method:"GET",url:vn(l,"")},function(t,n){var r=n&&n.uuid?n.uuid+l.db:pn(l,"");e(null,r)})}),s.request=o("request",function(e,t){e.url=pn(l,e.url),n({},e,t)}),s.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=c(e),n(e,{url:pn(l,"_compact"),method:"POST"},function(){function n(){s.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),s.bulkGet=d("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:pn(l,"_bulk_get"+yn(r)),method:"POST",body:{docs:e.docs}},t)}function o(){for(var n=_i,r=Math.ceil(e.docs.length/n),o=0,a=new Array(r),u=0;u<r;u++){var s=h(e,["revs","attachments","latest"]);s.ajax=p,s.docs=e.docs.slice(u*n,Math.min(e.docs.length,(u+1)*n)),_(i,s,function(e){return function(n,i){a[e]=i.results,++o===r&&t(null,{results:L(a)})}}(u))}}var i=this,a=vn(l,""),u=wi[a];"boolean"!=typeof u?r(function(e,n){e?(wi[a]=!1,T(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(wi[a]=!0,t(null,n))}):u?r(t):o()}),s._info=function(e){a().then(function(){n({},{method:"GET",url:pn(l,"")},function(t,n){if(t)return e(t);n.host=pn(l,""),e(null,n)})}).catch(e)},s.get=o("get",function(e,t,n){function o(e){function n(n){var i=o[n],a=ln(e._id)+"/"+u(n)+"?rev="+e._rev;return r(t,{method:"GET",url:pn(l,a),binary:!0}).then(function(e){return t.binary?e:new Xr(function(t){qe(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length){return sn(i.map(function(e){return function(){return n(e)}}),5)}}function i(e){return Array.isArray(e)?Xr.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=c(t);var a={};t.revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.latest&&(a.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),e=ln(e);var s={method:"GET",url:pn(l,e+yn(a))};r(t,s).then(function(e){return Xr.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})}).catch(n)}),s.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var a=i._rev||r.rev;n(r,{method:"DELETE",url:pn(l,ln(i._id))+"?rev="+a},o)}),s.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:pn(l,ln(e))+"/"+u(t)+i,binary:!0},o)}),s.removeAttachment=o("removeAttachment",function(e,t,r,o){n({},{method:"DELETE",url:pn(l,ln(e)+"/"+u(t))+"?rev="+r},o)}),s.putAttachment=o("putAttachment",function(e,t,r,o,i,a){"function"==typeof i&&(a=i,i=o,o=r,r=null);var s=ln(e)+"/"+u(t),c=pn(l,s);if(r&&(c+="?rev="+r),"string"==typeof o){var f;try{f=Io(o)}catch(e){return a(j(yo,"Attachment is not a valid base64 string"))}o=f?Re(f,i):""}n({},{headers:{"Content-Type":i},method:"PUT",url:c,processData:!1,body:o,timeout:p.timeout||6e4},a)}),s._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,a().then(function(){return Xr.all(e.docs.map(fn))}).then(function(){n(t,{method:"POST",url:pn(l,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},s._put=function(e,t,r){a().then(function(){return fn(e)}).then(function(){n(t,{method:"PUT",url:pn(l,ln(e._id)),body:e},function(e,t){if(e)return r(e);r(null,t)})}).catch(r)},s.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=c(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(o.limit=e.limit),void 0!==e.skip&&(o.skip=e.skip);var a=yn(o);void 0!==e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:pn(l,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(cn),t(null,n)}).catch(t)}),s._changes=function(e){var t="batch_size"in e?e.batch_size:bi;e=c(e),e.timeout="timeout"in e?e.timeout:"timeout"in p?p.timeout:3e4;var r,o=e.timeout?{timeout:e.timeout-5e3}:{},u=void 0!==e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var s=u;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e?e.heartbeat&&(o.heartbeat=e.heartbeat):e.continuous&&(o.heartbeat=1e4),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"===i(e.query_params))for(var f in e.query_params)e.query_params.hasOwnProperty(f)&&(o[f]=e.query_params[f]);var d,h="GET";e.doc_ids&&(o.filter="_doc_ids",h="POST",d={doc_ids:e.doc_ids});var v,y,m=function(r,c){if(!e.aborted){o.since=r,"object"===i(o.since)&&(o.since=JSON.stringify(o.since)),e.descending?u&&(o.limit=s):o.limit=!u||s>t?t:s;var f={method:h,url:pn(l,"_changes"+yn(o)),timeout:e.timeout,body:d};y=r,e.aborted||a().then(function(){v=n(e,f,c)}).catch(c)}},g={results:[]},b=function n(o,i){if(!e.aborted){var a=0;if(i&&i.results){a=i.results.length,g.last_seq=i.last_seq;({}).query=e.query_params,i.results=i.results.filter(function(t){s--;var n=D(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&cn(t),r&&g.results.push(t),e.onChange(t)),n})}else if(o)return e.aborted=!0,void e.complete(o);i&&i.last_seq&&(y=i.last_seq);var c=u&&s<=0||i&&a<t||e.descending;(!e.continuous||u&&s<=0)&&c?e.complete(null,g):Gr(function(){m(y,n)})}};return m(e.since||0,b),{cancel:function(){e.aborted=!0,v&&v.abort()}}},s.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:pn(l,"_revs_diff"),body:e},r)}),s._close=function(e){e()},s._destroy=function(e,t){n(e,{url:pn(l,""),method:"DELETE"},function(e,n){if(e&&e.status&&404!==e.status)return t(e);t(null,n)})}}function gn(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function bn(e,t,n){return gn(e,t,n)+e}function _n(e,t){if(e===t)return 0;e=wn(e),t=wn(t);var n=jn(e),r=jn(t);if(n-r!=0)return n-r;switch(void 0===e?"undefined":i(e)){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Tn(e,t)}return Array.isArray(e)?On(e,t):An(e,t)}function wn(e){switch(void 0===e?"undefined":i(e)){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=wn(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];void 0!==a&&(e[o]=wn(a))}}}}return e}function xn(e){if(null!==e)switch(void 0===e?"undefined":i(e)){case"boolean":return e?1:0;case"number":return Mn(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,a="";if(t)for(;++r<o;)a+=kn(n[r]);else for(;++r<o;){var u=n[r];a+=kn(u)+kn(e[u])}return a}return""}function kn(e){return e=wn(e),jn(e)+Ci+xn(e)+"\0"}function En(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+Si),u=parseInt(a,10)+Ei;for(o&&(u=-u),t+=Si;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function Sn(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function Cn(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=En(e,r);t.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();Sn(t,n)}}}function On(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=_n(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function Tn(e,t){return e===t?0:e>t?1:-1}function An(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=_n(n[i],r[i]);if(0!==a)return a;if(0!==(a=_n(e[n[i]],t[r[i]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}function jn(e){var t=["boolean","number","string","object"],n=t.indexOf(void 0===e?"undefined":i(e));return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function Mn(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-Ei,a=bn(i.toString(),"0",Si);o+=Ci+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=Ci+s}function Pn(){this.promise=new Xr(function(e){e()})}function Dn(e){var t,n=e.db,r=e.viewName,o=e.map,i=e.reduce,a=e.temporary,u=o.toString()+(i&&i.toString())+"undefined";if(!a&&(t=n._cachedViews=n._cachedViews||{},t[u]))return t[u];var s=n.info().then(function(e){function s(e){e.views=e.views||{};var t=r;-1===t.indexOf("/")&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[c])return n[c]=!0,e}var c=e.db_name+"-mrview-"+(a?"temp":Ge(u));return q(n,"_local/mrviews",s).then(function(){return n.registerDependentDatabase(c).then(function(e){var r=e.db;r.auto_compaction=!0;var a={name:c,db:r,sourceDB:n,adapter:n.adapter,mapFun:o,reduceFun:i};return a.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return a.seq=e?e.seq:0,t&&a.db.once("destroyed",function(){delete t[u]}),a})})})});return t&&(t[u]=s),s}function Ln(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ln)}catch(e){}}function In(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,In)}catch(e){}}function Rn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Rn)}catch(e){}}function Nn(e){return new Rn("builtin "+e+" function requires map values to be numbers or number arrays")}function Fn(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw Nn("_sum");t="number"==typeof t?[t]:t;for(var i=0,a=o.length;i<a;i++){var u=o[i];if("number"!=typeof u)throw Nn("_sum");void 0===t[i]?t.push(u):t[i]+=u}}else"number"==typeof t?t+=o:t[0]+=o}return t}function Bn(e,t){return Jr("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Fn,log:Oi,isArray:Ti,toJSON:Ai})}function zn(e,t){return t&&e.then(function(e){Gr(function(){t(null,e)})},function(e){Gr(function(){t(e)})}),e}function qn(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function Un(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Hn(e){var t=new no(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function Yn(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function Vn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Wn(e){return 1===e.length&&/^1-/.test(e[0].rev)}function $n(e,t){try{e.emit("error",t)}catch(e){S("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),S("error",t)}}function Gn(e,t,n){try{t(n)}catch(t){$n(e,t)}}function Jn(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return $n(e,t),{error:t}}}function Kn(e,t){var n=_n(e.key,t.key);return 0!==n?n:_n(e.value,t.value)}function Zn(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function Xn(e){var t=e.value;return t&&"object"===(void 0===t?"undefined":i(t))&&t._id||e.id}function Qn(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Ne(n.data,n.content_type)})})}function er(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&Qn(t),t}}function tr(e,t,n,r){var o=t[e];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function nr(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function rr(e){return e.group_level=nr(e.group_level),e.limit=nr(e.limit),e.skip=nr(e.skip),e}function or(e){if(e){if("number"!=typeof e)return new Ln('Invalid value for integer: "'+e+'"');if(e<0)return new Ln('Invalid value for positive integer: "'+e+'"')}}function ir(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&_n(e[n],e[r])>0)throw new Ln("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new Ln("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Ln("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=or(e[t]);if(n)throw n})}function ar(e,t,n){var r,o=[],i="GET";if(tr("reduce",n,o),tr("include_docs",n,o),tr("attachments",n,o),tr("limit",n,o),tr("descending",n,o),tr("group",n,o),tr("group_level",n,o),tr("skip",n,o),tr("stale",n,o),tr("conflicts",n,o),tr("startkey",n,o,!0),tr("start_key",n,o,!0),tr("endkey",n,o,!0),tr("end_key",n,o,!0),tr("inclusive_end",n,o),tr("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=Vn(t);return e.request({method:i,url:"_design/"+u[0]+"/_view/"+u[1]+o,body:r}).then(er(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(er(n))}function ur(e,t,n){return new Xr(function(r,o){e._query(t,n,function(e,t){if(e)return o(e);r(t)})})}function sr(e){return new Xr(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}function cr(e){return function(t){if(404===t.status)return e;throw t}}function lr(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Xr.resolve({rows:[]})}function o(e,t){for(var n=[],r=new no,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!s.has(u._id),!u._deleted)){var c=s.get(u._id);"value"in c&&(u.value=c.value)}}var l=Yn(s);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=s.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=Hn(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},u=n.get(e),s=u[0],c=u[1];return function(){return Wn(c)?Xr.resolve(a):t.db.get(i).catch(cr(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function fr(e,t,n){return e.db.get("_local/lastSeq").catch(cr({_id:"_local/lastSeq",seq:0})).then(function(r){var o=Yn(t);return Xr.all(o.map(function(n){return lr(n,e,t)})).then(function(t){var o=L(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function dr(e){var t="string"==typeof e?e:e.name,n=ji[t];return n||(n=ji[t]=new Pn),n}function hr(e){return Un(dr(e),function(){return pr(e)})()}function pr(e){function t(e,t){var n={id:s._id,key:wn(e)};void 0!==t&&null!==t&&(n.value=wn(t)),u.push(n)}function n(t,n){return function(){return fr(e,t,n)}}function r(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:Pi}).then(o)}function o(e){var t=e.results;if(t.length){var o=i(t);if(d.add(n(o,f)),!(t.length<Pi))return r()}}function i(t){for(var n=new ro,r=0,o=t.length;r<o;r++){var i=t[r];if("_"!==i.doc._id[0]){u=[],s=i.doc,s._deleted||Gn(e.sourceDB,c,s),u.sort(Kn);var l=a(u);n.set(i.doc._id,[l,i.changes])}f=i.seq}return n}function a(e){for(var t,n=new ro,r=0,o=e.length;r<o;r++){var i=e[r],a=[i.key,i.id];r>0&&0===_n(i.key,t)&&a.push(r),n.set(kn(a),i),t=i.key}return n}var u,s,c;if("function"==typeof e.mapFun&&2===e.mapFun.length){var l=e.mapFun;c=function(e){return l(e,t)}}else c=Bn(e.mapFun.toString(),t);var f=e.seq||0,d=new Pn;return r().then(function(){return d.finish()}).then(function(){e.seq=f})}function vr(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=Di[e.reduceFun]?Di[e.reduceFun]:Bn(e.reduceFun.toString());var i=[],a=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=i[i.length-1],n=o?e.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===_n(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var u=0,s=i.length;u<s;u++){var c=i[u],l=Jn(e.sourceDB,r,c.keys,c.values,!1);if(l.error&&l.error instanceof Rn)throw l.error;t.push({value:l.error?null:l.output,key:c.groupKey})}return{rows:Zn(t,n.limit,n.skip)}}function yr(e,t){return Un(dr(e),function(){return mr(e,t)})()}function mr(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"===i(e.doc.value)&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Cn(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=a?vr(e,n,t):{total_rows:o,offset:u,rows:n},t.include_docs){var i=Hn(n.map(Xn));return e.sourceDB.allDocs({keys:i,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new ro;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=Xn(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,a=e.reduceFun&&!1!==t.reduce,u=t.skip||0;if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var s=t.keys,c=s.map(function(e){return n({startkey:kn([e]),endkey:kn([e,{}])})});return Xr.all(c).then(L).then(r)}var l={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),void 0!==t.startkey&&(l.startkey=kn(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var f=!1!==t.inclusive_end;t.descending&&(f=!f),l.endkey=kn(f?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var d=kn([t.key]),h=kn([t.key,{}]);l.descending?(l.endkey=d,l.startkey=h):(l.startkey=d,l.endkey=h)}return a||("number"==typeof t.limit&&(l.limit=t.limit),l.skip=u),n(l).then(r)}function gr(e){return e.request({method:"POST",url:"_view_cleanup"})}function br(e){return e.get("_local/mrviews").then(function(t){var n=new ro;Object.keys(t.views).forEach(function(e){var t=Vn(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new no,n.set(r,i)),i.add(o)});var r={keys:Yn(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return Un(dr(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Xr.all(a).then(function(){return{ok:!0}})})},cr({ok:!0}))}function _r(e,t,n){if("http"===e.type())return ar(e,t,n);if("function"==typeof e._query)return ur(e,t,n);if("string"!=typeof t){ir(n,t);var r={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0};return Mi.add(function(){return Dn(r).then(function(e){function t(){return e.db.destroy()}return qn(hr(e).then(function(){return yr(e,n)}),t)})}),Mi.finish()}var o=t,i=Vn(o),a=i[0],u=i[1];return e.get("_design/"+a).then(function(t){var r=t.views&&t.views[u];if(!r||"string"!=typeof r.map)throw new In("ddoc "+a+" has no view named "+u);return ir(n,r),Dn({db:e,viewName:o,map:r.map,reduce:r.reduce}).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&Gr(function(){hr(e)}),yr(e,n)):hr(e).then(function(){return yr(e,n)})})})}function wr(e){return/^1-/.test(e)}function xr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function kr(e,t){var n=Object.keys(t._attachments);return Xr.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function Er(e,t,n){var r="http"===t.type()&&"http"!==e.type(),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Xr.all(o.map(function(o){return xr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return kr(t,n)}):kr(t,n)}function Sr(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function Cr(e,t,n,r){function o(){var o=Sr(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return Xr.all(n.results.map(function(n){return Xr.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?Er(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){f=f.concat(L(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function u(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!wr(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,f.push(e.doc),delete n[e.id])})})}function s(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&wr(t[0])});if(e.length>0)return u(e)}function l(){return{ok:d,docs:f}}n=c(n);var f=[],d=!0;return Xr.resolve().then(s).then(o).then(l)}function Or(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"===e.type()&&T(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:Fi,version:Ni};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,Bi),i.version=Ni,i.replicator=Fi,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return Or(e,t,n,r,o);throw i})})}function Tr(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function Ar(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:jr(e.history,t.history)}function jr(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);return n&&0!==t.length?Mr(n.session_id,t)?{last_seq:n.last_seq,history:e}:Mr(o.session_id,r)?{last_seq:o.last_seq,history:i}:jr(r,i):{last_seq:zi,history:[]}}function Mr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Mr(e,r))}function Pr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Dr(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=O),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=Ui},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||Ui,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function Lr(e){return Object.keys(e).sort(_n).reduce(function(t,n){return t[n]=e[n],t},{})}function Ir(e,t,n){var r=n.doc_ids?n.doc_ids.sort(_n):"",o=n.filter?n.filter.toString():"",i="",a="";return n.filter&&n.query_params&&(i=JSON.stringify(Lr(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Xr.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+a+i+r;return new Xr(function(e){$e(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function Rr(e,t,n,r,o){function i(){return k?Xr.resolve():Ir(e,t,n).then(function(n){x=n,k=new Tr(e,t,x,r)})}function a(){if(R=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",c(t))}else R.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function u(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=A=w.seq;var e=c(o);return R.length&&(e.docs=R,r.emit("change",e)),C=!0,k.writeCheckpoint(w.seq,N).then(function(){if(C=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,g()}).catch(function(e){throw _(e),e})}function s(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function l(){return Cr(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function f(){if(!r.cancelled&&!w){if(0===E.length)return void d(!0);w=E.shift(),s().then(l).then(a).then(u).then(f).catch(function(e){h("batch processing terminated with error",e)})}}function d(e){if(0===S.changes.length)return void(0!==E.length||w||((j&&F.live||O)&&(r.state="pending",r.emit("paused")),O&&p()));(e||O||S.changes.length>=M)&&(E.push(S),S={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f())}function h(e,t){T||(t.message||(t.message=e),o.ok=!1,o.status="aborting",E=[],S={seq:0,changes:[],docs:[]},p(t))}function p(i){T||r.cancelled&&(o.status="cancelled",C)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=A,T=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Dr(n,r,i,function(){Rr(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function v(e){if(r.cancelled)return p();D(n)(e)&&(S.seq=e.seq,S.changes.push(e),d(0===E.length&&F.live))}function y(e){if(L=!1,r.cancelled)return p();if(e.results.length>0)F.since=e.last_seq,g(),d(!0);else{var t=function(){j?(F.live=!0,g()):O=!0,d(!0)};w||0!==e.results.length?t():(C=!0,k.writeCheckpoint(e.last_seq,N).then(function(){C=!1,o.last_seq=A=e.last_seq,t()}).catch(_))}}function m(e){if(L=!1,r.cancelled)return p();h("changes rejected",e)}function g(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!L&&!O&&E.length<P){L=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(F).on("change",v);i.then(o,o),i.then(y).catch(m),n.retry&&(r._changes=i,r._abortChanges=t)}}function b(){i().then(function(){return r.cancelled?void p():k.getCheckpoint().then(function(e){A=e,F={since:A,limit:M,batch_size:M,style:"all_docs",doc_ids:I,return_docs:!0},n.filter&&("string"!=typeof n.filter?F.include_docs=!0:F.filter=n.filter),"heartbeat"in n&&(F.heartbeat=n.heartbeat),"timeout"in n&&(F.timeout=n.timeout),n.query_params&&(F.query_params=n.query_params),n.view&&(F.view=n.view),g()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function _(e){C=!1,h("writeCheckpoint completed with error",e)}var w,x,k,E=[],S={seq:0,changes:[],docs:[]},C=!1,O=!1,T=!1,A=0,j=n.continuous||n.live||!1,M=n.batch_size||100,P=n.batches_limit||10,L=!1,I=n.doc_ids,R=[],N=Y();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var F={};if(r.ready(e,t),r.cancelled)return void p();r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?b():i().then(function(){return C=!0,k.writeCheckpoint(n.since,N)}).then(function(){if(C=!1,r.cancelled)return void p();A=n.since,b()}).catch(_)}function Nr(){Wr.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Xr(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function Fr(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function Br(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw j(bo,"`doc_ids` filter parameter is not a list.");n.complete=r,n=c(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Nr(n);return Rr(Fr(e,n),Fr(t,n),n,o),o}function zr(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=c(n),n.PouchConstructor=n.PouchConstructor||this,e=Fr(e,n),t=Fr(t,n),new qr(e,t,n,r)}function qr(e,t,n,r){function o(e){p.emit("change",{direction:"pull",change:e})}function i(e){p.emit("change",{direction:"push",change:e})}function a(e){p.emit("denied",{direction:"push",doc:e})}function u(e){p.emit("denied",{direction:"pull",doc:e})}function s(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function f(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function d(e){return function(t,n){var r="change"===t&&(n===o||n===i),d="denied"===t&&(n===u||n===a),h="paused"===t&&(n===c||n===s),v="active"===t&&(n===f||n===l);(r||d||h||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&p.removeAllListeners(t))}}function h(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}var p=this;this.canceled=!1;var v=n.push?uo({},n,n.push):n,y=n.pull?uo({},n,n.pull):n;this.push=Br(e,t,v),this.pull=Br(t,e,y),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(h(p.pull,"change",o),h(p.push,"change",i)):"denied"===e?(h(p.pull,"denied",u),h(p.push,"denied",a)):"active"===e?(h(p.pull,"active",f),h(p.push,"active",l)):"paused"===e&&(h(p.pull,"paused",c),h(p.push,"paused",s))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",o),p.push.removeListener("change",i)):"denied"===e?(p.pull.removeListener("denied",u),p.push.removeListener("denied",a)):"active"===e?(p.pull.removeListener("active",f),p.push.removeListener("active",l)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",s))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=Xr.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}function Ur(e){e.replicate=Br,e.sync=zr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var Hr=r(n(18)),Yr=r(n(20)),Vr=r(n(21)),Wr=n(25),$r=r(n(26)),Gr=r(n(19)),Jr=r(n(27)),Kr=r(n(28)),Zr=r(n(29)),Xr="function"==typeof Promise?Promise:Hr,Qr=Function.prototype.toString,eo=Qr.call(Object),to=Vr("pouchdb:api");y.prototype.get=function(e){var t=p(e);return this._store[t]},y.prototype.set=function(e,t){var n=p(e);return this._store[n]=t,!0},y.prototype.has=function(e){return p(e)in this._store},y.prototype.delete=function(e){var t=p(e),n=t in this._store;return delete this._store[t],n},y.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n],i=this._store[o];o=v(o),e(i,o)}},Object.defineProperty(y.prototype,"size",{get:function(){return Object.keys(this._store).length}}),m.prototype.add=function(e){return this._store.set(e,!0)},m.prototype.has=function(e){return this._store.has(e)},m.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(m.prototype,"size",{get:function(){return this._store.size}});var no,ro;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(no=m,ro=y):(no=Set,ro=Map);var oo,io=6;if(w())oo=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),oo=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){oo=!1}$r(E,Wr.EventEmitter),E.prototype.addListener=function(e,t,n,r){function o(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var u=h(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&Gr(o),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=o,this.on(e,o)}},E.prototype.removeListener=function(e,t){t in this._listeners&&(Wr.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},E.prototype.notifyLocalWindows=function(e){w()?chrome.storage.local.set({dbName:e}):x()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},E.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var ao;ao="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var uo=ao;$r(A,Error),A.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var so=(new A(401,"unauthorized","Name or password is incorrect."),new A(400,"bad_request","Missing JSON list of 'docs'")),co=new A(404,"not_found","missing"),lo=new A(409,"conflict","Document update conflict"),fo=new A(400,"bad_request","_id field must contain a string"),ho=new A(412,"missing_id","_id is required for puts"),po=new A(400,"bad_request","Only reserved document ids may start with underscore."),vo=(new A(412,"precondition_failed","Database not open"),new A(500,"unknown_error","Database encountered an unknown error")),yo=new A(500,"badarg","Some query argument is invalid"),mo=(new A(400,"invalid_request","Request was invalid"),new A(400,"query_parse_error","Some query parameter is invalid")),go=new A(500,"doc_validation","Bad special document member"),bo=new A(400,"bad_request","Something wrong with the request"),_o=new A(400,"bad_request","Document must be a JSON object"),wo=(new A(404,"not_found","Database not found"),new A(500,"indexed_db_went_bad","unknown")),xo=new A(500,"web_sql_went_bad","unknown"),ko=(new A(500,"levelDB_went_went_bad","unknown"),new A(403,"forbidden","Forbidden by design doc validate_doc_update function"),new A(400,"bad_request","Invalid rev format")),Eo=(new A(412,"file_exists","The database could not be created, the file already exists."),new A(412,"missing_stub","A pre-existing attachment stub wasn't found")),So=(new A(413,"invalid_url","Provided URL is invalid"),I.name);var Co=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Oo="queryKey",To=/(?:^|&)([^&=]*)=?([^&]*)/g,Ao=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");$r(ve,Wr.EventEmitter),ve.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ve.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=c(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=ye,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){if(t.isCancelled)return void n(null,{status:"cancelled"});e.since=r.update_seq,t.doChanges(e)},n);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=B(e.view):e.filter=B(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=Yr(function(e){r.cancel(),o.apply(this,e)})}},ve.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=j(bo,"`view` filter parameter not found or invalid.");return n(r)}var o=F(e.view);this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(M(r));var a=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!a)return n(j(co,i.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=he(a),t.doChanges(e)})}else{var i=F(e.filter);if(!i)return t.doChanges(e);this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(M(r));var a=o&&o.filters&&o.filters[i[1]];if(!a)return n(j(co,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));e.filter=de(a),t.doChanges(e)})}},$r(Se,Wr.EventEmitter),Se.prototype.post=d("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!==(void 0===e?"undefined":i(e))||Array.isArray(e))return n(j(_o));this.bulkDocs({docs:[e]},t,ge(n))}),Se.prototype.put=d("put",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!==(void 0===e?"undefined":i(e))||Array.isArray(e)?n(j(_o)):(R(e._id),le(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,n):this._putLocal(e,n):void("function"==typeof this._put&&!1!==t.new_edits?this._put(e,t,n):this.bulkDocs({docs:[e]},t,ge(n))))}),Se.prototype.putAttachment=d("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},a.put(e)}var a=this;return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||S("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==n)throw j(lo);return i(e)},function(t){if(t.reason===co.message)return i({_id:e});throw t})}),Se.prototype.removeAttachment=d("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(j(lo)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),Se.prototype.remove=d("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};if(i._deleted=!0,le(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,ge(r))}),Se.prototype.revsDiff=d("revsDiff",function(e,t,n){function r(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);W(n,function(e,n,i,a,u){var s=n+"-"+i,c=o.indexOf(s);-1!==c&&(o.splice(c,1),"available"!==u.status&&r(t,s))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var a=0,u=new ro;i.map(function(t){this._getRevisionTree(t,function(r,s){if(r&&404===r.status&&"missing"===r.message)u.set(t,{missing:e[t]});else{if(r)return n(r);o(t,s)}if(++a===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),Se.prototype.bulkGet=d("bulkGet",function(e,t){_(this,e,t)}),Se.prototype.compactDocument=d("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var a=we(i),u=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),W(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&s.push(i)}),r._doCompaction(e,s,n)})}),Se.prototype.compact=d("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&ke(n)}),Se.prototype._compact=function(e,t){function n(e){a.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;Xr.all(a).then(function(){return q(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},Se.prototype.get=d("get",function(e,t,n){function r(){var r=[],a=o.length;if(!a)return n(null,r);o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:o});else{for(var i,u=0,s=r.length;u<s;u++)if(r[u].ok&&r[u].ok._rev===t._rev){i=!0;break}i||r.push({ok:t})}--a||n(null,r)})})}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(j(fo));if(le(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var o=r.doc,a=r.metadata,u=r.ctx;if(t.conflicts){var s=J(a);s.length&&(o._conflicts=s)}if(ce(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var c=o._rev.split("-"),l=parseInt(c[0],10),f=c[1],d=Z(a.rev_tree),h=null,p=0;p<d.length;p++){var v=d[p],y=v.ids.map(function(e){return e.id}).indexOf(f);(y===l-1||!h&&-1!==y)&&(h=v)}var m=h.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,g=h.ids.length-m;if(h.ids.splice(m,g),h.ids.reverse(),t.revs&&(o._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(e){return e.id})}),t.revs_info){var b=h.pos+h.ids.length;o._revs_info=h.ids.map(function(e){return b--,{rev:b+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var _=o._attachments,w=Object.keys(_).length;if(0===w)return n(null,o);Object.keys(_).forEach(function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:u},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--w||n(null,o)})},i)}else{if(o._attachments)for(var x in o._attachments)o._attachments.hasOwnProperty(x)&&(o._attachments[x].stub=!0);n(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);o=G(t).map(function(e){return e.rev}),r()});else{if(!Array.isArray(t.open_revs))return n(j(vo,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var u=o[a];if("string"!=typeof u||!/^\d+-/.test(u))return n(j(ko))}r()}}),Se.prototype.getAttachment=d("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,a){return i?r(i):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,o._getAttachment(e,t,a.doc._attachments[t],n,r),void 0):r(j(co))})}),Se.prototype.allDocs=d("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(j(mo,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return xe(this,e,t)}return this._allDocs(e,t)}),Se.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new ve(this,e,t)},Se.prototype.close=d("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Se.prototype.info=d("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),e(null,r)})}),Se.prototype.id=d("id",function(e){return this._id(e)}),Se.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Se.prototype.bulkDocs=d("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(j(so));for(var r=0;r<e.docs.length;++r)if("object"!==i(e.docs[r])||Array.isArray(e.docs[r]))return n(j(_o));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||Ee(t),e._attachments[t].content_type||S("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return n(j(bo,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var a=this;t.new_edits||"http"===a.type()||e.docs.sort(_e),be(e.docs);var u=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),"http"!==a.type())for(var o=0,i=r.length;o<i;o++)r[o].id=r[o].id||u[o];n(null,r)})}),Se.prototype.registerDependentDatabase=d("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);q(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),Se.prototype.destroy=d("destroy",function(e,t){function n(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;if("http"===r.type())return n();r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var a=i.dependentDbs,u=r.constructor,s=Object.keys(a).map(function(e){var t=o?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()});Xr.all(s).then(n,t)})}),Ce.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Ce.prototype.fail=function(e){this.failed=e,this.execute()},Ce.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Ce.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},$r(Ae,Se),Ae.debug=Vr,Ae.adapters={},Ae.preferredAdapters=[],Ae.prefix="_pouch_";var Mo=new Wr.EventEmitter;!function(e){Object.keys(Wr.EventEmitter.prototype).forEach(function(t){"function"==typeof Wr.EventEmitter.prototype[t]&&(e[t]=Mo[t].bind(Mo))});var t=e._destructionListeners=new ro;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t.delete(e)})}(Ae),Ae.adapter=function(e,t,n){t.valid()&&(Ae.adapters[e]=t,n&&Ae.preferredAdapters.push(e))},Ae.plugin=function(e){if("function"==typeof e)e(Ae);else{if("object"!==(void 0===e?"undefined":i(e))||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ae.prototype[t]=e[t]})}return Ae},Ae.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"===(void 0===e?"undefined":i(e))&&(n=e,e=n.name,delete n.name),n=uo({},t.__defaults,n),Ae.call(this,e,n)}return $r(t,Ae),t.preferredAdapters=Ae.preferredAdapters.slice(),Object.keys(Ae).forEach(function(e){e in t||(t[e]=Ae[e])}),t.__defaults=uo({},this.__defaults,e),t};Ae.version="6.1.1";var Po,Do=je(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Lo=je(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),Io=function(e){return atob(e)},Ro=function(e){return btoa(e)},No=window.setImmediate||t.setTimeout,Fo=32768,Bo=5,zo="document-store",qo="by-sequence",Uo="attach-store",Ho="attach-seq-store",Yo="meta-store",Vo="local-store",Wo="detect-blob-support",$o=new E,Go=!1,Jo=[],Ko=new ro,Zo=new ro;St.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Xo=function(e){e.adapter("idb",St,!0)},Qo=7,ei=Dt("document-store"),ti=Dt("by-sequence"),ni=Dt("attach-store"),ri=Dt("local-store"),oi=Dt("metadata-store"),ii=Dt("attach-seq-store"),ai=new ro,ui=new E,si=1,ci="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+ti+" (seq, deleted)",li="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+ti+" (doc_id, rev)",fi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+ei+" (winningseq)",di="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+ii+" (seq)",hi="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+ii+" (digest, seq)",pi=ti+".seq = "+ei+".winningseq",vi=ti+".seq AS seq, "+ti+".deleted AS deleted, "+ti+".json AS data, "+ti+".rev AS rev, "+ei+".json AS metadata";Qt.valid=Zt,Qt.use_prefix=!0;var yi=function(e){e.adapter("websql",Qt,!0)},mi=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}(),gi=function(){},bi=25,_i=50,wi={},xi=Vr("pouchdb:http");mn.valid=function(){return!0};var ki=function(e){e.adapter("http",mn,!1),e.adapter("https",mn,!1)},Ei=-324,Si=3,Ci="";Pn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Pn.prototype.finish=function(){return this.promise},$r(Ln,Error),$r(In,Error),$r(Rn,Error);var Oi=S.bind(null,"log"),Ti=Array.isArray,Ai=JSON.parse,ji={},Mi=new Pn,Pi=50,Di={_sum:function(e,t){return Fn(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:Fn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}(t)}}},Li=function(e){return Yr(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&zn(r,n),r})}(function(){var e=this;return"http"===e.type()?gr(e):"function"==typeof e._viewCleanup?sr(e):br(e)}),Ii=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t?rr(t):{},"function"==typeof e&&(e={map:e});var r=this,o=Xr.resolve().then(function(){return _r(r,e,t)});return zn(o,n),o},Ri={query:Ii,viewCleanup:Li},Ni=1,Fi="pouchdb",Bi=5,zi=0;Tr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Tr.prototype.updateTarget=function(e,t){return Or(this.target,this.id,e,t,this.returnValue)},Tr.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?Xr.resolve(!0):Or(this.src,this.id,e,t,this.returnValue).catch(function(e){if(Pr(e))return n.readOnlySource=!0,!0;throw e})};var qi={undefined:function(e,t){return 0===_n(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Ar(t,e).last_seq}};Tr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?Xr.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return zi;var n;return n=t.version?t.version.toString():"undefined",n in qi?qi[n](t,e):zi},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:zi}).then(function(){return zi},function(n){return Pr(n)?(e.readOnlySource=!0,t.last_seq):zi});throw n})}).catch(function(e){if(404!==e.status)throw e;return zi})};var Ui=0;$r(Nr,Wr.EventEmitter),Nr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Nr.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},$r(qr,Wr.EventEmitter),qr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ae.plugin(Xo).plugin(yi).plugin(ki).plugin(Ri).plugin(Ur),e.exports=Ae}).call(t,function(){return this}())},function(e,t,n){function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,e!==r&&c(this,e)}function a(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){v(function(){var r;try{r=t(n)}catch(t){return y.reject(e,t)}r===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,r)})}function s(e){var t=e&&e.then;if(e&&"object"===(void 0===e?"undefined":i(e))&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){i||(i=!0,y.reject(e,t))}function r(t){i||(i=!0,y.resolve(e,t))}function o(){t(r,n)}var i=!1,a=l(o);"error"===a.status&&n(a.value)}function l(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function f(e){return e instanceof this?e:y.resolve(new this(r),e)}function d(e){var t=new this(r);return y.reject(t,e)}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,y.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,y.reject(s,e))})}(e[u],u);return s}function p(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,y.resolve(a,e))},function(e){o||(o=!0,y.reject(a,e))})}(e[i]);return a}var v=n(19),y={},m=["REJECTED"],g=["FULFILLED"],b=["PENDING"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==b){u(n,this.state===g?e:t,this.outcome)}else this.queue.push(new a(n,e,t));return n},a.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},a.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},a.prototype.callRejected=function(e){y.reject(this.promise,e)},a.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},y.resolve=function(e,t){var n=l(s,t);if("error"===n.status)return y.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},y.reject=function(e,t){e.state=m,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=f,o.reject=d,o.all=h,o.race=p},function(e,t){(function(t){function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||o()}var o,i=window.MutationObserver||window.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=window.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(window.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in window.document.createElement("script")?function(){var e=window.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},window.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(t,function(){return this}())},function(e,t){function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=n},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function a(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function u(){return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}t=e.exports=n(23),t.log=u,t.formatArgs=a,t.save=s,t.load=c,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,n(22))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):y=-1,p.length&&u())}function u(){if(!v){var e=o(a);v=!0;for(var t=p.length;t;){for(h=p,p=[];++y<t;)h&&h[y].run();y=-1,t=p.length}h=null,v=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],v=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||v||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(24),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=u?Math.round(e/u)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,s,"minute")||a(e,u,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var u=1e3,s=60*u,c=60*s,l=24*c,f=365.25*l;e.exports=function(e,t){t=t||{};var a=void 0===e?"undefined":i(e);if("string"===a&&e.length>0)return n(e);if("number"===a&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e}function u(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,i,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],u(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,s=0;s<o;s++)c[s].apply(this,i);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,i,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(u=i;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){(function(){var t={}.hasOwnProperty,n=[].slice;e.exports=function(e,r){var o,i,a,u;i=[],u=[];for(o in r)t.call(r,o)&&(a=r[o],"this"!==o&&(i.push(o),u.push(a)));return Function.apply(null,n.call(i).concat([e])).apply(r.this,u)}}).call(this)},function(e,t,n){!function(t){e.exports=t()}(function(e){function t(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var r,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(l,i),r=0;r<16;r+=1)i[r]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function i(e){var n,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(l,i),n=0;n<16;n+=1)i[n]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function a(e){var t,n="";for(t=0;t<4;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),h.prototype.append=function(e){return this.appendBinary(s(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,o,i,a=n;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(s(e),t)},h.hashBinary=function(e,t){var n=o(e),r=u(n);return t?d(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,o=f(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,n=64;n<=i;n+=64)t(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=i(new Uint8Array(e)),r=u(n);return t?d(r):r},h})},function(e,t){function n(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var a=t.pop();o[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,a,u,s,c,l,f,d,h,p="";n=t.pop();)if(r=n.obj,o=n.prefix||"",a=n.val||"",p+=o,a)p+=a;else if("object"!==(void 0===r?"undefined":i(r)))p+=void 0===r?null:JSON.stringify(r);else if(null===r)p+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),u=r.length-1;u>=0;u--)s=0===u?"":",",t.push({obj:r[u],prefix:s});t.push({val:"["})}else{c=[];for(l in r)r.hasOwnProperty(l)&&c.push(l);for(t.push({val:"}"}),u=c.length-1;u>=0;u--)f=c[u],d=r[f],h=u>0?",":"",h+=JSON.stringify(f)+":",t.push({obj:d,prefix:h});t.push({val:"{"})}return p},t.parse=function(e){for(var t,r,o,i,a,u,s,c,l,f=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,n(null,f,d);break;case"t":h+=3,n(!0,f,d);break;case"f":h+=4,n(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}r+=o}n(parseFloat(r),f,d);break;case'"':for(i="",a=void 0,u=0;;){if('"'===(s=e[h++])&&("\\"!==a||u%2!=1))break;i+=s,a=s,"\\"===a?u++:u=0}n(JSON.parse('"'+i+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();n(f.pop(),f,d)}}},function(e,t,n){var r=n(31),o=n(37),a=n(39),u={};u.createIndex=r.toPromise(function(e,t){if("object"!==(void 0===e?"undefined":i(e)))return t(new Error("you must provide an index to create"));("http"===this.type()?o:a).createIndex(this,e,t)}),u.find=r.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!==(void 0===e?"undefined":i(e)))return t(new Error("you must provide search parameters to find()"));("http"===this.type()?o:a).find(this,e,t)}),u.getIndexes=r.toPromise(function(e){("http"===this.type()?o:a).getIndexes(this,e)}),u.deleteIndex=r.toPromise(function(e,t){if("object"!==(void 0===e?"undefined":i(e)))return t(new Error("you must provide an index to delete"));("http"===this.type()?o:a).deleteIndex(this,e,t)}),e.exports=u,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(u)},function(e,t,n){(function(e){var r=n(32);t.once=function(e){var n=!1;return t.getArguments(function(t){if(n)throw console.trace(),new Error("once called  more than once");n=!0,e.apply(this,t)})},t.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},t.toPromise=function(n){return t.getArguments(function(o){var i,a=this,u="function"==typeof o[o.length-1]&&o.pop();u&&(i=function(t,n){e.nextTick(function(){u(t,n)})});var s=new r(function(e,r){try{var i=t.once(function(t,n){t?r(t):e(n)});o.push(i),n.apply(a,o)}catch(e){r(e)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},t.inherits=n(26),t.Promise=r,t.clone=function(e){return t.extend(!0,{},e)},t.extend=n(34),t.callbackify=function(e){return t.getArguments(function(n){var r=n.pop(),o=e.apply(this,n);return t.promisedCallback(o,r),o})},t.promisedCallback=function(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t};var o=n(35),i=n(36);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")},t.flatten=t.getArguments(function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?n=n.concat(t.flatten.apply(null,i)):n.push(i)}return n}),t.mergeObjects=function(e){for(var n={},r=0,o=e.length;r<o;r++)n=t.extend(!0,n,e[r]);return n},t.getFieldFromDoc=function(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n},t.setFieldInDoc=function(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n},t.parseField=function(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t},t.pick=function(e,n){for(var r={},o=0,i=n.length;o<i;o++){var a=t.parseField(n[o]),u=t.getFieldFromDoc(e,a);void 0!==u&&t.setFieldInDoc(r,a,u)}return r},t.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0},t.oneArrayIsStrictSubArrayOfOther=function(e,n){return!(e.length>n.length)&&t.oneArrayIsSubArrayOfOther(e,n)},t.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0},t.compare=function(e,t){return e<t?-1:e>t?1:0},t.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t},t.max=function(e,t){for(var n=null,r=-1,o=0,i=e.length;o<i;o++){var a=e[o],u=t(a);u>r&&(r=u,n=a)}return n},t.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},t.log=n(21)("pouchdb:find")}).call(t,n(22))},function(e,t,n){var r=function(e){return e&&"object"===(void 0===e?"undefined":i(e))&&"default"in e?e.default:e}(n(33)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){(function(t){function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,t.browser||(this.handled=_),e!==r&&c(this,e)}function a(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){v(function(){var r;try{r=t(n)}catch(t){return y.reject(e,t)}r===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,r)})}function s(e){var t=e&&e.then;if(e&&"object"===(void 0===e?"undefined":i(e))&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){i||(i=!0,y.reject(e,t))}function r(t){i||(i=!0,y.resolve(e,t))}function o(){t(r,n)}var i=!1,a=l(o);"error"===a.status&&n(a.value)}function l(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function f(e){return e instanceof this?e:y.resolve(new this(r),e)}function d(e){var t=new this(r);return y.reject(t,e)}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,y.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,y.reject(s,e))})}(e[u],u);return s}function p(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,y.resolve(a,e))},function(e){o||(o=!0,y.reject(a,e))})}(e[i]);return a}var v=n(19),y={},m=["REJECTED"],g=["FULFILLED"],b=["PENDING"];if(!t.browser)var _=["UNHANDLED"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===g||"function"!=typeof n&&this.state===m)return this;var o=new this.constructor(r);if(t.browser||this.handled===_&&(this.handled=null),this.state!==b){u(o,this.state===g?e:n,this.outcome)}else this.queue.push(new a(o,e,n));return o},a.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},a.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},a.prototype.callRejected=function(e){y.reject(this.promise,e)},a.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},y.resolve=function(e,t){var n=l(s,t);if("error"===n.status)return y.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},y.reject=function(e,n){e.state=m,e.outcome=n,t.browser||e.handled===_&&v(function(){e.handled===_&&t.emit("unhandledRejection",n,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},o.resolve=f,o.reject=d,o.all=h,o.race=p}).call(t,n(22))},function(e,t){function n(e){return null===e?String(e):"object"===(void 0===e?"undefined":i(e))||"function"==typeof e?c[h.call(e)]||"object":void 0===e?"undefined":i(e)}function r(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||p.call(e,t)}function a(e){return"function"===n(e)}function u(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)s(e,i.args,i.result);return o.key}function s(e,t,n){var r,u,s,c,l,f,d,h=t[0]||{},p=1,y=t.length,m=!1,g=/\d+/;for("boolean"==typeof h&&(m=h,h=t[1]||{},p=2),"object"===(void 0===h?"undefined":i(h))||a(h)||(h={}),y===p&&(h=this,--p);p<y;p++)if(null!=(r=t[p])){d=v(r);for(u in r)if(!(u in Object.prototype)){if(d&&!g.test(u))continue;if(s=h[u],c=r[u],h===c)continue;m&&c&&(o(c)||(l=v(c)))?(l?(l=!1,f=s&&v(s)?s:[]):f=s&&o(s)?s:{},e.push({args:[m,f,c],result:{container:h,key:u}})):void 0!==c&&(v(r)&&a(c)||(h[u]=c))}}n.container[n.key]=h}for(var c={},l=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],f=0;f<l.length;f++){var d=l[f];c["[object "+d+"]"]=d.toLowerCase()}var h=c.toString,p=c.hasOwnProperty,v=Array.isArray||function(e){return"array"===n(e)};e.exports=u},function(e,t){},function(e,t,n){!function(t){e.exports=t()}(function(e){var t=function(e,t){return e+t&4294967295},n=function(e,n,r,o,i,a){return n=t(t(n,e),t(o,a)),t(n<<i|n>>>32-i,r)},r=function(e,t,r,o,i,a,u){return n(t&r|~t&o,e,t,i,a,u)},o=function(e,t,r,o,i,a,u){return n(t&o|r&~o,e,t,i,a,u)},i=function(e,t,r,o,i,a,u){return n(t^r^o,e,t,i,a,u)},a=function(e,t,r,o,i,a,u){return n(r^(t|~o),e,t,i,a,u)},u=function(e,n){var u=e[0],s=e[1],c=e[2],l=e[3];u=r(u,s,c,l,n[0],7,-680876936),l=r(l,u,s,c,n[1],12,-389564586),c=r(c,l,u,s,n[2],17,606105819),s=r(s,c,l,u,n[3],22,-1044525330),u=r(u,s,c,l,n[4],7,-176418897),l=r(l,u,s,c,n[5],12,1200080426),c=r(c,l,u,s,n[6],17,-1473231341),s=r(s,c,l,u,n[7],22,-45705983),u=r(u,s,c,l,n[8],7,1770035416),l=r(l,u,s,c,n[9],12,-1958414417),c=r(c,l,u,s,n[10],17,-42063),s=r(s,c,l,u,n[11],22,-1990404162),u=r(u,s,c,l,n[12],7,1804603682),l=r(l,u,s,c,n[13],12,-40341101),c=r(c,l,u,s,n[14],17,-1502002290),s=r(s,c,l,u,n[15],22,1236535329),u=o(u,s,c,l,n[1],5,-165796510),l=o(l,u,s,c,n[6],9,-1069501632),c=o(c,l,u,s,n[11],14,643717713),s=o(s,c,l,u,n[0],20,-373897302),u=o(u,s,c,l,n[5],5,-701558691),l=o(l,u,s,c,n[10],9,38016083),c=o(c,l,u,s,n[15],14,-660478335),s=o(s,c,l,u,n[4],20,-405537848),u=o(u,s,c,l,n[9],5,568446438),l=o(l,u,s,c,n[14],9,-1019803690),c=o(c,l,u,s,n[3],14,-187363961),s=o(s,c,l,u,n[8],20,1163531501),u=o(u,s,c,l,n[13],5,-1444681467),l=o(l,u,s,c,n[2],9,-51403784),c=o(c,l,u,s,n[7],14,1735328473),s=o(s,c,l,u,n[12],20,-1926607734),u=i(u,s,c,l,n[5],4,-378558),l=i(l,u,s,c,n[8],11,-2022574463),c=i(c,l,u,s,n[11],16,1839030562),s=i(s,c,l,u,n[14],23,-35309556),u=i(u,s,c,l,n[1],4,-1530992060),l=i(l,u,s,c,n[4],11,1272893353),c=i(c,l,u,s,n[7],16,-155497632),s=i(s,c,l,u,n[10],23,-1094730640),u=i(u,s,c,l,n[13],4,681279174),l=i(l,u,s,c,n[0],11,-358537222),c=i(c,l,u,s,n[3],16,-722521979),s=i(s,c,l,u,n[6],23,76029189),u=i(u,s,c,l,n[9],4,-640364487),l=i(l,u,s,c,n[12],11,-421815835),c=i(c,l,u,s,n[15],16,530742520),s=i(s,c,l,u,n[2],23,-995338651),u=a(u,s,c,l,n[0],6,-198630844),l=a(l,u,s,c,n[7],10,1126891415),c=a(c,l,u,s,n[14],15,-1416354905),s=a(s,c,l,u,n[5],21,-57434055),u=a(u,s,c,l,n[12],6,1700485571),l=a(l,u,s,c,n[3],10,-1894986606),c=a(c,l,u,s,n[10],15,-1051523),s=a(s,c,l,u,n[1],21,-2054922799),u=a(u,s,c,l,n[8],6,1873313359),l=a(l,u,s,c,n[15],10,-30611744),c=a(c,l,u,s,n[6],15,-1560198380),s=a(s,c,l,u,n[13],21,1309151649),u=a(u,s,c,l,n[4],6,-145523070),l=a(l,u,s,c,n[11],10,-1120210379),c=a(c,l,u,s,n[2],15,718787259),s=a(s,c,l,u,n[9],21,-343485551),e[0]=t(u,e[0]),e[1]=t(s,e[1]),e[2]=t(c,e[2]),e[3]=t(l,e[3])},s=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,o,i,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)u(l,s(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(l,r),l},f=function(e){var t,n,r,o,i,a,s=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)u(l,c(e.subarray(t-64,t)));for(e=t-64<s?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(l,r),l},d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;t<4;t+=1)n+=d[e>>8*t+4&15]+d[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},v=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==function(e){return p(l(e))}("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),v.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},v.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)u(this._state,s(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},v.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},v.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(u(this._state,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,u(this._state,e)},v.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},v.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:p(n)},v.hashBinary=function(e,t){var n=l(e);return t?n:p(n)},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)u(this._state,c(n.subarray(t-64,t)));return this._buff=t-64<r?n.subarray(t-64):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},v.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return t?n:p(n)},v})},function(e,t,n){function r(e,t,n){t=u(t),e.request({method:"POST",url:"_index",body:t},n)}function o(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function a(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var a="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},n)}var u=n(38);t.createIndex=r,t.find=o,t.getIndexes=i,t.deleteIndex=a},function(e,t,n){var r=n(31),o=r.clone;e.exports=function(e){return e=o(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},function(e,t,n){var r=n(31),o=r.callbackify;t.createIndex=o(n(40)),t.find=o(n(53)),t.getIndexes=o(n(54)),t.deleteIndex=o(n(58))},function(e,t,n){function r(e,t,n){return u.upsert.call(e,t,n)}function o(e,t){function n(e){return e._rev&&"query"!==e.language&&(v=!0),e.language="query",e.views=e.views||{},!(y=!!e.views[c])&&(e.views[c]={map:{fields:i.mergeObjects(t.index.fields)},reduce:"_count",options:{def:o}},e)}t=d(t);var o=i.clone(t.index);t.index=f(t.index),l(t.index);var u=i.MD5(JSON.stringify(t)),c=t.name||"idx-"+u,h=t.ddoc||"idx-"+u,p="_design/"+h,v=!1,y=!1;return a("creating index",p),r(e,p,n).then(function(){if(v)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=h+"/"+c;return s.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:p,name:c,result:y?"exists":"created"}})})}var i=n(31),a=i.log,u=n(41),s=n(43),c=n(44),l=c.validateIndex,f=c.massageIndexDef,d=n(38);e.exports=o},function(e,t,n){function r(e,t,n){return"string"!=typeof t?i.reject(new Error("doc id is required")):e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i=r._rev,a=n(r);return a?(a._id=t,a._rev=i,o(e,a,n)):{updated:!1,rev:i}})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i=n(42);t.upsert=function(e,t,n){var o=this,i=r(o,e,t);if("function"!=typeof n)return i;i.then(function(e){n(null,e)},n)},t.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return!e._rev&&t},a=r(o,e,i);if("function"!=typeof n)return a;a.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(t)},function(e,t,n){var r=function(e){return e&&"object"===(void 0===e?"undefined":i(e))&&"default"in e?e.default:e}(n(33)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){function r(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++){for(var a=p(e[o]),u=n,s=0,c=a.length;s<c;s++){if(!(u=u[a[s]]))break}r.push(u)}t(r)}}function o(e,t){var n=p(e);return function(e){for(var r=e,o=0,i=n.length;o<i;o++){if(!(r=r[n[o]]))return}t(r)}}function i(e,t){return function(n){t(n[e])}}function a(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++)r.push(n[e[o]]);t(r)}}function u(e){for(var t=0,n=e.length;t<n;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function s(e,t){var n=u(e),s=1===e.length;return n?s?i(e[0],t):a(e,t):s?o(e[0],t):r(e,t)}function c(e,t){return s(Object.keys(e.fields),t)}function l(){throw new Error("reduce not supported")}function f(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var d=n(44),h=n(47),p=d.parseField,v=h({name:"indexes",mapper:c,reducer:l,ddocValidator:f});e.exports=v},function(e,t,n){function r(e){return Object.keys(e)[0]}function o(e){return e[r(e)]}function a(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function u(e){return E.indexOf(e)>-1}function s(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function c(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function l(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function f(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function d(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!==(void 0===r?"undefined":i(r))&&(r={$eq:r}),u(n))r instanceof Array?t[n]=r.map(function(e){return d([e])}):t[n]=d([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?s(e,t,o):"$lt"===e||"$lte"===e?c(e,t,o):"$ne"===e?l(t,o):"$eq"===e?f(t,o):void(o[e]=t)})}})}),t}function h(e){var t=x.clone(e),n=!1;"$and"in t&&(t=d(t.$and),n=!0),"$not"in t&&(t.$not=d([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var a=r[o],u=t[a];"object"!==(void 0===u?"undefined":i(u))||null===u?u={$eq:u}:"$ne"in u&&!n&&(u.$ne=[u.$ne]),t[a]=u}return t}function p(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function v(e,t){for(var n=[],o=0;o<t.def.fields.length;o++){var i=r(t.def.fields[o]);n.push(e[i])}return n}function y(e,t,n){for(var r=n.def.fields,o=0,i=e.length;o<i;o++){var a=e[o],u=v(a.doc,n);if(1===r.length)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs(k.collate(u,t))>0)break}return o>0?e.slice(o):e}function m(e){var t=x.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function g(e){var t=e.fields.filter(function(e){return"asc"===o(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function b(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function _(e){if("object"!==i(e.selector))throw new Error("you must provide a selector when you find()")}function w(e,t){var n,o=Object.keys(e),i=t?t.map(r):[];return n=o.length>=i.length?o:i,0===i.length?{fields:n}:(n=n.sort(function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(r)})}var x=n(31),k=n(45),E=["$or","$nor","$not"];e.exports={getKey:r,getValue:o,massageSort:a,massageSelector:h,validateIndex:g,validateFindRequest:_,validateSort:b,reverseOptions:m,filterInclusiveStart:y,massageIndexDef:p,parseField:x.parseField,getUserFields:w,isCombinationalField:u}},function(e,t,n){function r(e){if(null!==e)switch(void 0===e?"undefined":i(e)){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),r=n?e:Object.keys(e),o=-1,a=r.length,u="";if(n)for(;++o<a;)u+=t.toIndexableString(r[o]);else for(;++o<a;){var s=r[o];u+=t.toIndexableString(s)+t.toIndexableString(e[s])}return u}return""}function o(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+h),u=parseInt(a,10)+d;for(o&&(u=-u),t+=h;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function a(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function u(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++){var i=t.collate(e[o],n[o]);if(0!==i)return i}return e.length===n.length?0:e.length>n.length?1:-1}function s(e,t){return e===t?0:e>t?1:-1}function c(e,n){for(var r=Object.keys(e),o=Object.keys(n),i=Math.min(r.length,o.length),a=0;a<i;a++){var u=t.collate(r[a],o[a]);if(0!==u)return u;if(0!==(u=t.collate(e[r[a]],n[o[a]])))return u}return r.length===o.length?0:r.length>o.length?1:-1}function l(e){var t=["boolean","number","string","object"],n=t.indexOf(void 0===e?"undefined":i(e));return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-d,a=v.padLeft(i.toString(),"0",h);o+=p+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=p+s}var d=-324,h=3,p="",v=n(46);t.collate=function(e,n){if(e===n)return 0;e=t.normalizeKey(e),n=t.normalizeKey(n);var r=l(e),o=l(n);if(r-o!=0)return r-o;if(null===e)return 0;switch(void 0===e?"undefined":i(e)){case"number":return e-n;case"boolean":return e===n?0:e<n?-1:1;case"string":return s(e,n)}return Array.isArray(e)?u(e,n):c(e,n)},t.normalizeKey=function(e){switch(void 0===e?"undefined":i(e)){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=t.normalizeKey(n[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var a in n)if(n.hasOwnProperty(a)){var u=n[a];void 0!==u&&(e[a]=t.normalizeKey(u))}}}}return e},t.toIndexableString=function(e){return e=t.normalizeKey(e),l(e)+p+r(e)+"\0"},t.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var u=o(e,r);t.push(u.num),r+=u.length;break;case"4":for(var s="";;){var c=e[r];if("\0"===c)break;s+=c,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var f={element:{},index:t.length};t.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();a(t,n)}}}},function(e,t){function n(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}t.padLeft=function(e,t,r){return n(e,t,r)+e},t.padRight=function(e,t,r){return e+n(e,t,r)},t.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;n<r;n++){if(n===o)return 1;var i=e.charAt(n),a=t.charAt(n);if(i!==a)return i<a?-1:1}return r<o?-1:0},t.intToDecimalForm=function(e){var t=e<0,n="";do{n=(t?-Math.ceil(e%10):Math.floor(e%10))+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},function(e,t,n){(function(t){function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(e){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function a(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function u(e){return 1===e.length&&/^1-/.test(e[0].rev)}function s(e,t){var n=g(e.key,t.key);return 0!==n?n:g(e.value,t.value)}function c(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function l(e){var t=e.value;return t&&"object"===(void 0===t?"undefined":i(t))&&t._id||e.id}function f(e,t){try{e.emit("error",t)}catch(e){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function d(e,t,n){try{return{output:t.apply(null,n)}}catch(t){return f(e,t),{error:t}}}function h(e,t){var n=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[o]&&g(e[n],e[o])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new r('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new r('Invalid value for positive integer: "'+e.group_level+'"')}}function p(e){return function(t){if(404===t.status)return e;throw t}}function v(e){function n(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):k.resolve({rows:[]})}function o(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r[u._id]=!0,u._deleted=!c[u._id],!u._deleted)){var s=c[u._id];"value"in s&&(u.value=s.value)}}var l=Object.keys(c);return l.forEach(function(e){if(!r[e]){var t={_id:e},o=c[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=x.uniq(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},s=n[e],c=s.indexableKeysToKeyValues,l=s.changes;return function(){return u(l)?k.resolve(a):t.db.get(i).catch(p(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function r(e,t,r){return e.db.get("_local/lastSeq").catch(p({_id:"_local/lastSeq",seq:0})).then(function(o){var i=Object.keys(t);return k.all(i.map(function(r){return n(r,e,t)})).then(function(t){var n=x.flatten(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function f(e){var t="string"==typeof e?e:e.name,n=E[t];return n||(n=E[t]=new m),n}function v(e){return x.sequentialize(f(e),function(){return O(e)})()}function O(e){function t(e,t){var n={id:i._id,key:_(e)};void 0!==t&&null!==t&&(n.value=_(t)),o.push(n)}function n(t,n){return function(){return r(e,t,n)}}var o,i,a=L(e.mapFun,t),u=e.seq||0,c=new m;return new k(function(t,r){function l(){c.finish().then(function(){e.seq=u,t()})}function f(){function t(e){r(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:C}).on("complete",function(t){var r=t.results;if(!r.length)return l();for(var h={},p=0,v=r.length;p<v;p++){var y=r[p];if("_"!==y.doc._id[0]){o=[],i=y.doc,i._deleted||d(e.sourceDB,a,[i]),o.sort(s);for(var m,_={},w=0,x=o.length;w<x;w++){var k=o[w],E=[k.key,k.id];0===g(k.key,m)&&E.push(w);_[b(E)]=k,m=k.key}h[y.doc._id]={indexableKeysToKeyValues:_,changes:y.changes}}u=y.seq}return c.add(n(h,u)),r.length<C?l():f()}).on("error",t)}f()})}function T(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=I(e.reduceFun),i=[],a=n.group_level;t.forEach(function(e){var t=i[i.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&"number"==typeof a&&(n=n.length>a?n.slice(0,a):n),t&&0===g(t.key[0][0],n))return t.key.push([n,e.id]),void t.value.push(e.value);i.push({key:[[n,e.id]],value:[e.value]})});for(var u=0,s=i.length;u<s;u++){var l=i[u],f=d(e.sourceDB,o,[l.key,l.value,!1]);if(f.error&&/BuiltInError/.test(f.error.constructor))throw f.error;l.value=f.error?null:f.output,l.key=l.key[0][0]}return{rows:c(i,n.limit,n.skip)}}function A(e,t){return x.sequentialize(f(e),function(){return j(e,t)})()}function j(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"===i(e.doc.value)&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=y.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=a?T(e,n,t):{total_rows:o,offset:u,rows:n},t.include_docs){var i=x.uniq(n.map(l));return e.sourceDB.allDocs({keys:i,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=l(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,a=e.reduceFun&&!1!==t.reduce,u=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);var s=function(e){return e.reduce(function(e,t){return e.concat(t)})};if(void 0!==t.keys){var c=t.keys,f=c.map(function(e){return n({startkey:b([e]),endkey:b([e,{}])})});return k.all(f).then(s).then(r)}var d={descending:t.descending};if(void 0!==t.startkey&&(d.startkey=b(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var h=!1!==t.inclusive_end;t.descending&&(h=!h),d.endkey=b(h?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var p=b([t.key]),v=b([t.key,{}]);d.descending?(d.endkey=p,d.startkey=v):(d.startkey=p,d.endkey=v)}return a||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=u),n(d).then(r)}function M(e){return e.get("_local/"+D).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=a(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return x.sequentialize(f(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return k.all(a).then(function(){return{ok:!0}})})},p({ok:!0}))}function P(e,n,r){if("string"!=typeof n){h(r,n);var i={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0,pluginName:D};return S.add(function(){return w(i).then(function(e){function t(){return e.db.destroy()}return x.fin(v(e).then(function(){return A(e,r)}),t)})}),S.finish()}var u=n,s=a(u),c=s[0],l=s[1];return e.get("_design/"+c).then(function(n){var i=n.views&&n.views[l];if(!i)throw new o("ddoc "+n._id+" has no view named "+l);R(n,l),h(r,i);var a={db:e,viewName:u,map:i.map,reduce:i.reduce,pluginName:D};return w(a).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&t.nextTick(function(){v(e)}),A(e,r)):v(e).then(function(){return A(e,r)})})})}var D=e.name,L=e.mapper,I=e.reducer,R=e.ddocValidator;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=x.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=k.resolve().then(function(){return P(r,e,t)});return x.promisedCallback(o,n),o},viewCleanup:x.callbackify(function(){return M(this)})}}var y=n(45),m=n(48),g=y.collate,b=y.toIndexableString,_=y.normalizeKey,w=n(51);"undefined"!=typeof console&&"function"==typeof console.log&&Function.prototype.bind.call(console.log,console);var x=n(49),k=x.Promise,E={},S=new m,C=50;x.inherits(r,Error),x.inherits(o,Error),e.exports=v}).call(t,n(22))},function(e,t,n){function r(){this.promise=new o(function(e){e()})}var o=n(49).Promise;r.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},e.exports=r},function(e,t,n){(function(e){t.Promise=n(32),t.inherits=n(26),t.extend=n(34);var r=n(20);t.promisedCallback=function(t,n){return n&&t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t},t.callbackify=function(e){return r(function(n){var r=n.pop(),o=e.apply(this,n);return"function"==typeof r&&t.promisedCallback(o,r),o})},t.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},t.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},t.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},t.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};var o=n(50),i=n(36);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")}}).call(t,n(22))},function(e,t){},function(e,t,n){function r(e){if(!e)return"undefined";switch(void 0===e?"undefined":i(e)){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}var o=n(52),a=n(49),u=a.Promise;e.exports=function(e){var t=e.db,n=e.viewName,i=e.map,s=e.reduce,c=e.temporary,l=e.pluginName,f=r(i)+r(s)+"undefined";if(!c&&t._cachedViews){var d=t._cachedViews[f];if(d)return u.resolve(d)}return t.info().then(function(e){function r(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[u])return r[u]=!0,e}var u=e.db_name+"-mrview-"+(c?"temp":a.MD5(f));return o(t,"_local/"+l,r).then(function(){return t.registerDependentDatabase(u).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:u,db:n,sourceDB:t,adapter:t.adapter,mapFun:i,reduceFun:s};return r.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[f]=r,r.db.on("destroyed",function(){delete t._cachedViews[f]})),r})})})})}},function(e,t,n){var r=n(41).upsert;e.exports=function(e,t,n){return r.apply(e,[t,n])}},function(e,t,n){function r(e){return e.ddoc.substring(8)+"/"+e.name}function o(e,t){var n=u(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n)}function i(e,t){return t.selector&&(t.selector=p(t.selector)),t.sort&&(t.sort=v(t.sort)),m(t),s(e).then(function(n){var i=f(t,n.indexes),u=i.index;g(t,u);var s=a.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in s&&"endkey"in s&&c(s.startkey,s.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===y(t.sort[0])&&(s.descending=!0,s=b(s)),i.inMemoryFields.length||("limit"in t&&(s.limit=t.limit),"skip"in t&&(s.skip=t.skip)),w.resolve().then(function(){if("_all_docs"===u.name)return o(e,s);var t=r(u);return l.query.call(e,t,s)}).then(function(e){!1===s.inclusive_start&&(e.rows=_(e.rows,s.startkey,u)),i.inMemoryFields.length&&(e.rows=h(e.rows,t,i.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?a.pick(n,t.fields):n})};return u.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var a=n(31),u=a.clone,s=n(54),c=n(45).collate,l=n(43),f=n(55),d=n(44),h=n(56),p=d.massageSelector,v=d.massageSort,y=d.getValue,m=d.validateFindRequest,g=d.validateSort,b=d.reverseOptions,_=d.filterInclusiveStart,w=a.Promise;e.exports=i},function(e,t,n){function r(e){return e.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=o.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:a(n.options.def)}})})),t.indexes.sort(function(e,t){return o.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var o=n(31),i=n(44),a=i.massageIndexDef;e.exports=r},function(e,t,n){function r(e,t){for(var n=e.def.fields.map(S),r=0,o=n.length;r<o;r++){if(t===n[r])return!0}return!1}function o(e,t){var n=e[t];return"$eq"!==S(n)}function i(e,t){var n=t.def.fields.map(S);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),x.compare(r,o)})}function a(e,t,n){n=i(n,e);for(var a=!1,u=0,s=n.length;u<s;u++){var c=n[u];if(a||!r(e,c))return n.slice(u);u<s-1&&o(t,c)&&(a=!0)}return[]}function u(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function s(e,t,n,r){var o=x.flatten(e,a(t,n,r),u(n));return i(x.uniq(o),t)}function c(e,t,n){if(t){var r=x.oneArrayIsStrictSubArrayOfOther(t,e),o=x.oneArrayIsSubArrayOfOther(n,e);return r&&o}return x.oneSetIsSubArrayOfOther(n,e)}function l(e){return-1===A.indexOf(e)}function f(e,t){var n=e[0],r=t[n];return!!Object.keys(r).some(function(e){return!l(e)})&&!(1===Object.keys(r).length&&"$ne"===S(r))}function d(e,t,n,r){var o=e.def.fields.map(S);return!!c(o,t,n)&&f(o,r)}function h(e,t,n,r){return r.reduce(function(r,o){return d(o,n,t,e)&&r.push(o),r},[])}function p(e,t,n,r){function o(e){for(var t=e.def.fields.map(S),n=0,r=0,o=t.length;r<o;r++){var i=t[r];u[i]&&n++}return n}var i=h(e,t,n,r);if(0===i.length){var a=r[0];return a.defaultUsed=!0,a}if(1===i.length)return i[0];var u=x.arrayToObject(t);return x.max(i,o)}function v(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function y(e,t){var n,r=S(t.def.fields[0]),o=e[r],i=[],a=Object.keys(o);return a.forEach(function(e){if(l(e))return void i.push(r);var t=o[e],a=v(e,t);n=n?x.mergeObjects([n,a]):a}),{queryOpts:n,inMemoryFields:i}}function m(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function g(e,t){function n(e){!1!==r&&u.push(O),!1!==o&&s.push(T),a=i.slice(e)}for(var r,o,i=t.def.fields.map(S),a=[],u=[],s=[],c=0,l=i.length;c<l;c++){var f=i[c],d=e[f];if(!d){n(c);break}if(c>0){if("$ne"in d){n(c);break}var h="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,p=Object.keys(e[i[c-1]]),v=x.arrayEquals(p,["$eq"]),y=x.arrayEquals(p,Object.keys(d));if(h&&!v&&!y){n(c);break}}for(var g=Object.keys(d),b=null,_=0;_<g.length;_++){var w=g[_],k=d[w],E=m(w,k);b=b?x.mergeObjects([b,E]):E}u.push("startkey"in b?b.startkey:O),s.push("endkey"in b?b.endkey:T),"inclusive_start"in b&&(r=b.inclusive_start),"inclusive_end"in b&&(o=b.inclusive_end)}var C={startkey:u,endkey:s};return void 0!==r&&(C.inclusive_start=r),void 0!==o&&(C.inclusive_end=o),{queryOpts:C,inMemoryFields:a}}function b(){return{queryOpts:{startkey:null},inMemoryFields:[]}}function _(e,t){return t.defaultUsed?b(e,t):1===t.def.fields.length?y(e,t):g(e,t)}function w(e,t){k("planning query",e);var n=e.selector,r=e.sort,o=C(n,r),i=o.fields,a=o.sortOrder,u=p(n,i,a,t),c=_(n,u),l=c.queryOpts,f=c.inMemoryFields,d=s(f,u,n,i),h={queryOpts:l,index:u,inMemoryFields:d};return k("query plan",h),h}var x=n(31),k=x.log,E=n(44),S=E.getKey,C=E.getUserFields,O=null,T={"":{}},A=["$eq","$gt","$gte","$lt","$lte"];e.exports=w},function(e,t,n){function r(e){function t(t){return e.map(function(e){var n=x(e),r=E(n);return C(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=b(r,o);return 0!==i?i:S.compare(e.doc._id,n.doc._id)}}function o(e,t,n){if(e=e.filter(function(e){return a(e.doc,t.selector,n)}),t.sort){var o=r(t.sort);e=e.sort(o),"string"!=typeof t.sort[0]&&"desc"===k(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0,u=("limit"in t?t.limit:e.length)+i;e=e.slice(i,u)}return e}function a(e,t,n){return n.every(function(n){var r=t[n],o=E(n),i=C(e,o);return w(n)?s(n,r,e):u(r,e,o,i)})}function u(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return c(o,t,i,n,r)})}function s(e,t,n){return"$or"===e?t.some(function(e){return a(n,e,Object.keys(e))}):"$not"===e?!a(n,t,Object.keys(t)):!t.find(function(e){return a(n,e,Object.keys(e))})}function c(e,t,n,r,o){if(!O[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return O[e](t,n,r,o)}function l(e){return void 0!==e&&null!==e}function f(e){return void 0!==e}function d(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function h(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function p(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function v(e,t){return e.length===t}function y(e,t){return new RegExp(t).test(e)}function m(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var g=n(57),b=n(45).collate,_=n(44),w=_.isCombinationalField,x=_.getKey,k=_.getValue,E=_.parseField,S=n(31),C=S.getFieldFromDoc,O={$elemMatch:function(e,t,n,r){return!!g(r)&&(0!==r.length&&("object"===i(r[0])?r.some(function(e){return a(e,t,Object.keys(t))}):r.some(function(r){return u(t,e,n,r)})))},$eq:function(e,t,n,r){return f(r)&&0===b(r,t)},$gte:function(e,t,n,r){return f(r)&&b(r,t)>=0},$gt:function(e,t,n,r){return f(r)&&b(r,t)>0},$lte:function(e,t,n,r){return f(r)&&b(r,t)<=0},$lt:function(e,t,n,r){return f(r)&&b(r,t)<0},$exists:function(e,t,n,r){return t?f(r):!f(r)},$mod:function(e,t,n,r){return l(r)&&d(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==b(r,e)})},$in:function(e,t,n,r){return l(r)&&h(r,t)},$nin:function(e,t,n,r){return l(r)&&!h(r,t)},$size:function(e,t,n,r){return l(r)&&v(r,t)},$all:function(e,t,n,r){return g(r)&&p(r,t)},$regex:function(e,t,n,r){return l(r)&&y(r,t)},$type:function(e,t,n,r){return m(r,t)}};e.exports=o},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},function(e,t,n){function r(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[a]?{_id:r,_deleted:!0}:(delete e.views[a],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,a=t.name;return i(e,r,n).then(function(){return o.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var o=n(43),i=n(52);e.exports=r},function(e,t,n){function r(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/disk-usage")}function o(e,t,n){return(0,l.cozyFetchJSON)(e,"PUT","/settings/passphrase",{current_passphrase:t,new_passphrase:n})}function i(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/instance")}function a(e,t){return(0,l.cozyFetchJSON)(e,"PUT","/settings/instance",t)}function u(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/clients")}function s(e,t){return(0,l.cozyFetchJSON)(e,"DELETE","/settings/clients/"+t)}function c(e){return(0,l.cozyFetchJSON)(e,"POST","/settings/synchronized")}Object.defineProperty(t,"__esModule",{value:!0}),t.diskUsage=r,t.changePassphrase=o,t.getInstance=i,t.updateInstance=a,t.getClients=u,t.deleteClientById=s,t.updateLastSync=c;var l=n(8)},function(e,t,n){function r(e){return function(t,n,r){if(!n)throw new Error("missing doc argument");Array.isArray(r)||(r=[r]);var o=r.map(function(e){return{type:s.DOCTYPE_FILES,id:e}});return(0,u.cozyFetchJSON)(t,e,a(n),{data:o})}}function o(e,t){if(!t)throw new Error("missing doc argument");return(0,u.cozyFetchJSON)(e,"GET",a(t)).then(function(e){return e.map(function(e){return e._id})})}function i(e,t,n){if(!t)throw new Error("missing doc argument");var r=Object.keys(n).map(function(e){return"&page["+e+"]="+n[e]}).join("");return(0,u.cozyFetchRawJSON)(e,"GET",a(t)+"?include=files&sort=datetime"+r)}function a(e){return"/data/"+encodeURIComponent(e._type)+"/"+encodeURIComponent(e._id)+"/relationships/references"}Object.defineProperty(t,"__esModule",{value:!0}),t.removeReferencedFiles=t.addReferencedFiles=void 0,t.listReferencedFiles=o,t.fetchReferencedFiles=i;var u=n(8),s=n(11);t.addReferencedFiles=r("POST"),t.removeReferencedFiles=r("DELETE")}])})}).call(t,n(90)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RECIPIENT_DOCTYPE="io.cozy.mocks.recipients",t.ACCOUNT_DOCTYPE="io.cozy.bank.accounts",t.GROUP_DOCTYPE="io.cozy.bank.groups",t.TRANSACTION_DOCTYPE="io.cozy.bank.operations",t.BILLS_DOCTYPE="io.cozy.bills"},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(17),o=n(64);e.exports=n(16)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(7),o=n(31),i=n(30),a=n(65)("src"),u=Function.toString,s=(""+u).split("toString");n(44).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t,n){var r=n(0),o=n(9),i=n(46),a=/"/g,u=function(e,t,n,r){var o=String(i(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),u+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(u),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(103),o=n(46);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(104),o=n(64),i=n(36),a=n(45),u=n(30),s=n(258),c=Object.getOwnPropertyDescriptor;t.f=n(16)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(30),o=n(20),i=n(175)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(25);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(9);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var r=n(317),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){var i,a,u,s,c,l,f,d,h,p=Object.keys(n);for(i=0,a=p.length;i<a;++i)if(u=p[i],l=n[u],t.hasOwnProperty(u)||(t[u]=l),(s=t[u])!==l&&"_"!==u[0]){if(e.hasOwnProperty(u)||(e[u]=s),c=e[u],(f=typeof l)===typeof c)if("string"===f){if(d=o(c),d.valid&&(h=o(l),h.valid)){t[u]=h.mix(d,r).rgbString();continue}}else if("number"===f&&isFinite(c)&&isFinite(l)){t[u]=c+(l-c)*r;continue}t[u]=l}}var o=n(438),i=n(8),a=function(e){i.extend(this,e),this.initialize.apply(this,arguments)};i.extend(a.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=i.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,o=t._start,i=t._view;return n&&1!==e?(i||(i=t._view={}),o||(o=t._start={}),r(o,i,n,e),t):(t._view=n,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return i.isNumber(this._model.x)&&i.isNumber(this._model.y)}}),a.extend=i.inherits,e.exports=a},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(0),o=n(44),i=n(9);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(39),o=n(103),i=n(20),a=n(18),u=n(192);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,h=t||u;return function(t,u,p){for(var v,y,m=i(t),g=o(m),b=r(u,p,3),_=a(g.length),w=0,x=n?h(t,_):s?h(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],y=b(v,w,m),e))if(n)x[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(l)return!1;return f?-1:c||l?l:x}}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";if(n(16)){var r=n(66),o=n(7),i=n(9),a=n(0),u=n(133),s=n(198),c=n(39),l=n(72),f=n(64),d=n(31),h=n(74),p=n(47),v=n(18),y=n(284),m=n(68),g=n(45),b=n(30),_=n(105),w=n(10),x=n(20),k=n(189),E=n(69),S=n(38),C=n(70).f,O=n(191),T=n(65),A=n(12),j=n(49),M=n(124),P=n(131),D=n(194),L=n(86),I=n(128),R=n(71),N=n(193),F=n(274),B=n(17),z=n(37),q=B.f,U=z.f,H=o.RangeError,Y=o.TypeError,V=o.Uint8Array,W=Array.prototype,$=s.ArrayBuffer,G=s.DataView,J=j(0),K=j(2),Z=j(3),X=j(4),Q=j(5),ee=j(6),te=M(!0),ne=M(!1),re=D.values,oe=D.keys,ie=D.entries,ae=W.lastIndexOf,ue=W.reduce,se=W.reduceRight,ce=W.join,le=W.sort,fe=W.slice,de=W.toString,he=W.toLocaleString,pe=A("iterator"),ve=A("toStringTag"),ye=T("typed_constructor"),me=T("def_constructor"),ge=u.CONSTR,be=u.TYPED,_e=u.VIEW,we=j(1,function(e,t){return Ce(P(e,e[me]),t)}),xe=i(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),ke=!!V&&!!V.prototype.set&&i(function(){new V(1).set({})}),Ee=function(e,t){var n=p(e);if(n<0||n%t)throw H("Wrong offset!");return n},Se=function(e){if(w(e)&&be in e)return e;throw Y(e+" is not a typed array!")},Ce=function(e,t){if(!(w(e)&&ye in e))throw Y("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Te(P(e,e[me]),t)},Te=function(e,t){for(var n=0,r=t.length,o=Ce(e,r);r>n;)o[n]=t[n++];return o},Ae=function(e,t,n){q(e,t,{get:function(){return this._d[n]}})},je=function(e){var t,n,r,o,i,a,u=x(e),s=arguments.length,l=s>1?arguments[1]:void 0,f=void 0!==l,d=O(u);if(void 0!=d&&!k(d)){for(a=d.call(u),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);u=r}for(f&&s>2&&(l=c(l,arguments[2],2)),t=0,n=v(u.length),o=Ce(this,n);n>t;t++)o[t]=f?l(u[t],t):u[t];return o},Me=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Pe=!!V&&i(function(){he.call(new V(1))}),De=function(){return he.apply(Pe?fe.call(Se(this)):Se(this),arguments)},Le={copyWithin:function(e,t){return F.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return X(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(Se(this),arguments)},filter:function(e){return Oe(this,K(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Se(this),arguments)},lastIndexOf:function(e){return ae.apply(Se(this),arguments)},map:function(e){return we(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Se(this),arguments)},reduceRight:function(e){return se.apply(Se(this),arguments)},reverse:function(){for(var e,t=this,n=Se(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Se(this),e)},subarray:function(e,t){var n=Se(this),r=n.length,o=m(e,r);return new(P(n,n[me]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,v((void 0===t?r:m(t,r))-o))}},Ie=function(e,t){return Oe(this,fe.call(Se(this),e,t))},Re=function(e){Se(this);var t=Ee(arguments[1],1),n=this.length,r=x(e),o=v(r.length),i=0;if(o+t>n)throw H("Wrong length!");for(;i<o;)this[t+i]=r[i++]},Ne={entries:function(){return ie.call(Se(this))},keys:function(){return oe.call(Se(this))},values:function(){return re.call(Se(this))}},Fe=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Be=function(e,t){return Fe(e,t=g(t,!0))?f(2,e[t]):U(e,t)},ze=function(e,t,n){return!(Fe(e,t=g(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?q(e,t,n):(e[t]=n.value,e)};ge||(z.f=Be,B.f=ze),a(a.S+a.F*!ge,"Object",{getOwnPropertyDescriptor:Be,defineProperty:ze}),i(function(){de.call({})})&&(de=he=function(){return ce.call(this)});var qe=h({},Le);h(qe,Ne),d(qe,pe,Ne.values),h(qe,{slice:Ie,set:Re,constructor:function(){},toString:de,toLocaleString:De}),Ae(qe,"buffer","b"),Ae(qe,"byteOffset","o"),Ae(qe,"byteLength","l"),Ae(qe,"length","e"),q(qe,ve,{get:function(){return this[be]}}),e.exports=function(e,t,n,s){s=!!s;var c=e+(s?"Clamped":"")+"Array",f="get"+e,h="set"+e,p=o[c],m=p||{},g=p&&S(p),b=!p||!u.ABV,x={},k=p&&p.prototype,O=function(e,n){var r=e._d;return r.v[f](n*t+r.o,xe)},T=function(e,n,r){var o=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[h](n*t+o.o,r,xe)},A=function(e,t){q(e,t,{get:function(){return O(this,t)},set:function(e){return T(this,t,e)},enumerable:!0})};b?(p=n(function(e,n,r,o){l(e,p,c,"_d");var i,a,u,s,f=0,h=0;if(w(n)){if(!(n instanceof $||"ArrayBuffer"==(s=_(n))||"SharedArrayBuffer"==s))return be in n?Te(p,n):je.call(p,n);i=n,h=Ee(r,t);var m=n.byteLength;if(void 0===o){if(m%t)throw H("Wrong length!");if((a=m-h)<0)throw H("Wrong length!")}else if((a=v(o)*t)+h>m)throw H("Wrong length!");u=a/t}else u=y(n),a=u*t,i=new $(a);for(d(e,"_d",{b:i,o:h,l:a,e:u,v:new G(i)});f<u;)A(e,f++)}),k=p.prototype=E(qe),d(k,"constructor",p)):i(function(){p(1)})&&i(function(){new p(-1)})&&I(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,r,o){l(e,p,c);var i;return w(n)?n instanceof $||"ArrayBuffer"==(i=_(n))||"SharedArrayBuffer"==i?void 0!==o?new m(n,Ee(r,t),o):void 0!==r?new m(n,Ee(r,t)):new m(n):be in n?Te(p,n):je.call(p,n):new m(y(n))}),J(g!==Function.prototype?C(m).concat(C(g)):C(m),function(e){e in p||d(p,e,m[e])}),p.prototype=k,r||(k.constructor=p));var j=k[pe],M=!!j&&("values"==j.name||void 0==j.name),P=Ne.values;d(p,ye,!0),d(k,be,c),d(k,_e,!0),d(k,me,p),(s?new p(1)[ve]==c:ve in k)||q(k,ve,{get:function(){return c}}),x[c]=p,a(a.G+a.W+a.F*(p!=m),x),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i(function(){m.of.call(p,1)}),c,{from:je,of:Me}),"BYTES_PER_ELEMENT"in k||d(k,"BYTES_PER_ELEMENT",t),a(a.P,c,Le),R(c),a(a.P+a.F*ke,c,{set:Re}),a(a.P+a.F*!M,c,Ne),r||k.toString==de||(k.toString=de),a(a.P+a.F*i(function(){new p(1).slice()}),c,{slice:Ie}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!i(function(){k.toLocaleString.call([1,2])})),c,{toLocaleString:De}),L[c]=M?j:P,r||M||d(k,pe,P)}}else e.exports=function(){}},function(e,t,n){var r=n(279),o=n(0),i=n(123)("metadata"),a=i.store||(i.store=new(n(282))),u=function(e,t,n){var o=a.get(e);if(!o){if(!n)return;a.set(e,o=new r)}var i=o.get(t);if(!i){if(!n)return;o.set(t,i=new r)}return i},s=function(e,t,n){var r=u(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=u(t,n,!1);return void 0===r?void 0:r.get(e)},l=function(e,t,n,r){u(n,r,!0).set(e,t)},f=function(e,t){var n=u(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},h=function(e){o(o.S,"Reflect",e)};e.exports={store:a,map:u,has:s,get:c,set:l,keys:f,key:d,exp:h}},function(e,t,n){e.exports=n(2).createClass},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var r=n(1092),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.Loading=o.default,t.default=o.default},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return _r.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function a(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return bt(e,t,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=h()),e._pf}function v(e){if(null==e._isValid){var t=p(e),n=xr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function y(e){var t=d(NaN);return null!=e?f(p(t),e):p(t).userInvalidated=!0,t}function m(e,t){var n,r,o;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),kr.length>0)for(n=0;n<kr.length;n++)r=kr[n],o=t[r],a(o)||(e[r]=o);return e}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Er&&(Er=!0,t.updateOffset(this),Er=!1)}function b(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function x(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&a++;return a+i}function k(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,n){var r=!0;return f(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var o,i=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){o+="\n["+a+"] ";for(var u in arguments[0])o+=u+": "+arguments[0][u]+", ";o=o.slice(0,-2)}else o=arguments[a];i.push(o)}k(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function S(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Sr[e]||(k(n),Sr[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,r=f({},e);for(n in t)l(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&o(e[n])&&(r[n]=f({},r[n]));return r}function A(e){null!=e&&this.set(e)}function j(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function M(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function P(){return this._invalidDate}function D(e){return this._ordinal.replace("%d",e)}function L(e,t,n,r){var o=this._relativeTime[n];return C(o)?o(e,t,n,r):o.replace(/%d/i,e)}function I(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function R(e,t){var n=e.toLowerCase();Dr[n]=Dr[n+"s"]=Dr[t]=e}function N(e){return"string"==typeof e?Dr[e]||Dr[e.toLowerCase()]:void 0}function F(e){var t,n,r={};for(n in e)l(e,n)&&(t=N(n))&&(r[t]=e[n]);return r}function B(e,t){Lr[e]=t}function z(e){var t=[];for(var n in e)t.push({unit:n,priority:Lr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function q(e,n){return function(r){return null!=r?(H(this,e,r),t.updateOffset(this,n),this):U(this,e)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function Y(e){return e=N(e),C(this[e])?this[e]():this}function V(e,t){if("object"==typeof e){e=F(e);for(var n=z(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=N(e),C(this[e]))return this[e](t);return this}function W(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}function $(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(Fr[e]=o),t&&(Fr[t[0]]=function(){return W(o.apply(this,arguments),t[1],t[2])}),n&&(Fr[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function J(e){var t,n,r=e.match(Ir);for(t=0,n=r.length;t<n;t++)Fr[r[t]]?r[t]=Fr[r[t]]:r[t]=G(r[t]);return function(t){var o,i="";for(o=0;o<n;o++)i+=C(r[o])?r[o].call(t,e):r[o];return i}}function K(e,t){return e.isValid()?(t=Z(t,e.localeData()),Nr[t]=Nr[t]||J(t),Nr[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Rr.lastIndex=0;r>=0&&Rr.test(e);)e=e.replace(Rr,n),Rr.lastIndex=0,r-=1;return e}function X(e,t,n){no[e]=C(t)?t:function(e,r){return e&&n?n:t}}function Q(e,t){return l(no,e)?no[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ne(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)ro[e[n]]=r}function re(e,t){ne(e,function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)})}function oe(e,t,n){null!=t&&l(ro,e)&&ro[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ae(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||vo).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone}function ue(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[vo.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?(o=po.call(this._shortMonthsParse,a),-1!==o?o:null):(o=po.call(this._longMonthsParse,a),-1!==o?o:null):"MMM"===t?-1!==(o=po.call(this._shortMonthsParse,a))?o:(o=po.call(this._longMonthsParse,a),-1!==o?o:null):-1!==(o=po.call(this._longMonthsParse,a))?o:(o=po.call(this._shortMonthsParse,a),-1!==o?o:null)}function ce(e,t,n){var r,o,i;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!u(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function fe(e){return null!=e?(le(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function de(){return ie(this.year(),this.month())}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=go),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=bo),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ve(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=te(r[t]),o[t]=te(o[t]);for(t=0;t<24;t++)i[t]=te(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ye(e){return me(e)?366:365}function me(e){return e%4==0&&e%100!=0||e%400==0}function ge(){return me(this.year())}function be(e,t,n,r,o,i,a){var u=new Date(e,t,n,r,o,i,a);return e<100&&e>=0&&isFinite(u.getFullYear())&&u.setFullYear(e),u}function _e(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var r=7+t-n;return-(7+_e(e,0,r).getUTCDay()-t)%7+r-1}function xe(e,t,n,r,o){var i,a,u=(7+n-r)%7,s=we(e,r,o),c=1+7*(t-1)+u+s;return c<=0?(i=e-1,a=ye(i)+c):c>ye(e)?(i=e+1,a=c-ye(e)):(i=e,a=c),{year:i,dayOfYear:a}}function ke(e,t,n){var r,o,i=we(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?(o=e.year()-1,r=a+Ee(o,t,n)):a>Ee(e.year(),t,n)?(r=a-Ee(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function Ee(e,t,n){var r=we(e,t,n),o=we(e+1,t,n);return(ye(e)-r+o)/7}function Se(e){return ke(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Oe(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=ke(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function je(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone}function De(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Le(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?(o=po.call(this._weekdaysParse,a),-1!==o?o:null):"ddd"===t?(o=po.call(this._shortWeekdaysParse,a),-1!==o?o:null):(o=po.call(this._minWeekdaysParse,a),-1!==o?o:null):"dddd"===t?-1!==(o=po.call(this._weekdaysParse,a))?o:-1!==(o=po.call(this._shortWeekdaysParse,a))?o:(o=po.call(this._minWeekdaysParse,a),-1!==o?o:null):"ddd"===t?-1!==(o=po.call(this._shortWeekdaysParse,a))?o:-1!==(o=po.call(this._weekdaysParse,a))?o:(o=po.call(this._minWeekdaysParse,a),-1!==o?o:null):-1!==(o=po.call(this._minWeekdaysParse,a))?o:-1!==(o=po.call(this._weekdaysParse,a))?o:(o=po.call(this._shortWeekdaysParse,a),-1!==o?o:null)}function Re(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=je(e,this.localeData()),this.add(e-t,"d")):t}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Be(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function ze(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=So),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Co),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Oo),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],u=[],s=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),a.push(r),u.push(o),s.push(i),c.push(r),c.push(o),c.push(i);for(a.sort(e),u.sort(e),s.sort(e),c.sort(e),t=0;t<7;t++)u[t]=te(u[t]),s[t]=te(s[t]),c[t]=te(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ye(){return this.hours()%12||12}function Ve(){return this.hours()||24}function We(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $e(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Je(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,r,o,i=0;i<e.length;){for(o=Ke(e[i]).split("-"),t=o.length,n=Ke(e[i+1]),n=n?n.split("-"):null;t>0;){if(r=Xe(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&x(o,n,!0)>=t-1)break;t--}i++}return null}function Xe(t){var r=null;if(!Po[t]&&void 0!==e&&e&&e.exports)try{r=To._abbr,n(1159)("./"+t),Qe(r)}catch(e){}return Po[t]}function Qe(e,t){var n;return e&&(n=a(t)?nt(e):et(e,t))&&(To=n),To._abbr}function et(e,t){if(null!==t){var n=Mo;if(t.abbr=e,null!=Po[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Po[e]._config;else if(null!=t.parentLocale){if(null==Po[t.parentLocale])return Do[t.parentLocale]||(Do[t.parentLocale]=[]),Do[t.parentLocale].push({name:e,config:t}),null;n=Po[t.parentLocale]._config}return Po[e]=new A(T(n,t)),Do[e]&&Do[e].forEach(function(e){et(e.name,e.config)}),Qe(e),Po[e]}return delete Po[e],null}function tt(e,t){if(null!=t){var n,r=Mo;null!=Po[e]&&(r=Po[e]._config),t=T(r,t),n=new A(t),n.parentLocale=Po[e],Po[e]=n,Qe(e)}else null!=Po[e]&&(null!=Po[e].parentLocale?Po[e]=Po[e].parentLocale:null!=Po[e]&&delete Po[e]);return Po[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return To;if(!r(e)){if(t=Xe(e))return t;e=[e]}return Ze(e)}function rt(){return Tr(Po)}function ot(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[io]<0||n[io]>11?io:n[ao]<1||n[ao]>ie(n[oo],n[io])?ao:n[uo]<0||n[uo]>24||24===n[uo]&&(0!==n[so]||0!==n[co]||0!==n[lo])?uo:n[so]<0||n[so]>59?so:n[co]<0||n[co]>59?co:n[lo]<0||n[lo]>999?lo:-1,p(e)._overflowDayOfYear&&(t<oo||t>ao)&&(t=ao),p(e)._overflowWeeks&&-1===t&&(t=fo),p(e)._overflowWeekday&&-1===t&&(t=ho),p(e).overflow=t),e}function it(e){var t,n,r,o,i,a,u=e._i,s=Lo.exec(u)||Io.exec(u);if(s){for(p(e).iso=!0,t=0,n=No.length;t<n;t++)if(No[t][1].exec(s[1])){o=No[t][0],r=!1!==No[t][2];break}if(null==o)return void(e._isValid=!1);if(s[3]){for(t=0,n=Fo.length;t<n;t++)if(Fo[t][1].exec(s[3])){i=(s[2]||" ")+Fo[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(s[4]){if(!Ro.exec(s[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),dt(e)}else e._isValid=!1}function at(e){var t,n,r,o,i,a,u,s,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},l="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=zo.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",o="D MMM "+(n[2].length>10?"YYYY ":"YY "),i="HH:mm"+(n[4]?":ss":""),n[1]){var f=new Date(n[2]),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()];if(n[1].substr(0,3)!==d)return p(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===s?u=" +0000":(s=l.indexOf(n[5][1].toUpperCase())-12,u=(s<0?" -":" +")+(""+s).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:u=c[n[5]];break;default:u=c[" GMT"]}n[5]=u,e._i=n.splice(1).join(""),a=" ZZ",e._f=r+o+i+a,dt(e),p(e).rfc2822=!0}else e._isValid=!1}function ut(e){var n=Bo.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));it(e),!1===e._isValid&&(delete e._isValid,at(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function st(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,r,o,i=[];if(!e._d){for(r=ct(e),e._w&&null==e._a[ao]&&null==e._a[io]&&ft(e),null!=e._dayOfYear&&(o=st(e._a[oo],r[oo]),(e._dayOfYear>ye(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=_e(o,0,e._dayOfYear),e._a[io]=n.getUTCMonth(),e._a[ao]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[uo]&&0===e._a[so]&&0===e._a[co]&&0===e._a[lo]&&(e._nextDay=!0,e._a[uo]=0),e._d=(e._useUTC?_e:be).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[uo]=24)}}function ft(e){var t,n,r,o,i,a,u,s;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)i=1,a=4,n=st(t.GG,e._a[oo],ke(_t(),1,4).year),r=st(t.W,1),((o=st(t.E,1))<1||o>7)&&(s=!0);else{i=e._locale._week.dow,a=e._locale._week.doy;var c=ke(_t(),i,a);n=st(t.gg,e._a[oo],c.year),r=st(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(s=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(s=!0)):o=i}r<1||r>Ee(n,i,a)?p(e)._overflowWeeks=!0:null!=s?p(e)._overflowWeekday=!0:(u=xe(n,r,o,i,a),e._a[oo]=u.year,e._dayOfYear=u.dayOfYear)}function dt(e){if(e._f===t.ISO_8601)return void it(e);if(e._f===t.RFC_2822)return void at(e);e._a=[],p(e).empty=!0;var n,r,o,i,a,u=""+e._i,s=u.length,c=0;for(o=Z(e._f,e._locale).match(Ir)||[],n=0;n<o.length;n++)i=o[n],r=(u.match(Q(i,e))||[])[0],r&&(a=u.substr(0,u.indexOf(r)),a.length>0&&p(e).unusedInput.push(a),u=u.slice(u.indexOf(r)+r.length),c+=r.length),Fr[i]?(r?p(e).empty=!1:p(e).unusedTokens.push(i),oe(i,r,e)):e._strict&&!r&&p(e).unusedTokens.push(i);p(e).charsLeftOver=s-c,u.length>0&&p(e).unusedInput.push(u),e._a[uo]<=12&&!0===p(e).bigHour&&e._a[uo]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[uo]=ht(e._locale,e._a[uo],e._meridiem),lt(e),ot(e)}function ht(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function pt(e){var t,n,r,o,i;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],dt(t),v(t)&&(i+=p(t).charsLeftOver,i+=10*p(t).unusedTokens.length,p(t).score=i,(null==r||i<r)&&(r=i,n=t));f(e,n||t)}function vt(e){if(!e._d){var t=F(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function yt(e){var t=new g(ot(mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mt(e){var t=e._i,n=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new g(ot(t)):(s(t)?e._d=t:r(n)?pt(e):n?dt(e):gt(e),v(e)||(e._d=null),e))}function gt(e){var n=e._i;a(n)?e._d=new Date(t.now()):s(n)?e._d=new Date(n.valueOf()):"string"==typeof n?ut(e):r(n)?(e._a=c(n.slice(0),function(e){return parseInt(e,10)}),lt(e)):o(n)?vt(e):u(n)?e._d=new Date(n):t.createFromInputFallback(e)}function bt(e,t,n,a,u){var s={};return!0!==n&&!1!==n||(a=n,n=void 0),(o(e)&&i(e)||r(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=u,s._l=n,s._i=e,s._f=t,s._strict=a,yt(s)}function _t(e,t,n,r){return bt(e,t,n,r,!1)}function wt(e,t){var n,o;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return _t();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function xt(){return wt("isBefore",[].slice.call(arguments,0))}function kt(){return wt("isAfter",[].slice.call(arguments,0))}function Et(e){for(var t in e)if(-1===Yo.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Yo.length;++r)if(e[Yo[r]]){if(n)return!1;parseFloat(e[Yo[r]])!==w(e[Yo[r]])&&(n=!0)}return!0}function St(){return this._isValid}function Ct(){return Vt(NaN)}function Ot(e){var t=F(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||0,a=t.day||0,u=t.hour||0,s=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=Et(t),this._milliseconds=+l+1e3*c+6e4*s+1e3*u*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function Tt(e){return e instanceof Ot}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){$(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)})}function Mt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],o=(r+"").match(Vo)||["-",0,0],i=60*o[1]+w(o[2]);return 0===i?0:"+"===o[0]?i:-i}function Pt(e,n){var r,o;return n._isUTC?(r=n.clone(),o=(b(e)||s(e)?e.valueOf():_t(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),t.updateOffset(r,!1),r):_t(e).local()}function Dt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(e,n,r){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Mt(Qr,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(o=Dt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!n||this._changeInProgress?Kt(this,Vt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Dt(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Rt(e){return this.utcOffset(0,e)}function Nt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Dt(this),"m")),this}function Ft(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Mt(Xr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Bt(e){return!!this.isValid()&&(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=mt(e),e._a){var t=e._isUTC?d(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ut(){return!!this.isValid()&&!this._isUTC}function Ht(){return!!this.isValid()&&this._isUTC}function Yt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Vt(e,t){var n,r,o,i=e,a=null;return Tt(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:u(e)?(i={},t?i[t]=e:i.milliseconds=e):(a=Wo.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:w(a[ao])*n,h:w(a[uo])*n,m:w(a[so])*n,s:w(a[co])*n,ms:w(At(1e3*a[lo]))*n}):(a=$o.exec(e))?(n="-"===a[1]?-1:1,i={y:Wt(a[2],n),M:Wt(a[3],n),w:Wt(a[4],n),d:Wt(a[5],n),h:Wt(a[6],n),m:Wt(a[7],n),s:Wt(a[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=Gt(_t(i.from),_t(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),r=new Ot(i),Tt(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Gt(e,t){var n;return e.isValid()&&t.isValid()?(t=Pt(t,e),e.isBefore(t)?n=$t(e,t):(n=$t(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Jt(e,t){return function(n,r){var o,i;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),n="string"==typeof n?+n:n,o=Vt(n,r),Kt(this,o,e),this}}function Kt(e,n,r,o){var i=n._milliseconds,a=At(n._days),u=At(n._months);e.isValid()&&(o=null==o||o,i&&e._d.setTime(e._d.valueOf()+i*r),a&&H(e,"Date",U(e,"Date")+a*r),u&&le(e,U(e,"Month")+u*r),o&&t.updateOffset(e,a||u))}function Zt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Xt(e,n){var r=e||_t(),o=Pt(r,this).startOf("day"),i=t.calendarFormat(this,o)||"sameElse",a=n&&(C(n[i])?n[i].call(this,r):n[i]);return this.format(a||this.localeData().calendar(i,this,_t(r)))}function Qt(){return new g(this)}function en(e,t){var n=b(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&(t=N(a(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function tn(e,t){var n=b(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&(t=N(a(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function nn(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function rn(e,t){var n,r=b(e)?e:_t(e);return!(!this.isValid()||!r.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function on(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function an(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function un(e,t,n){var r,o,i,a;return this.isValid()?(r=Pt(e,this),r.isValid()?(o=6e4*(r.utcOffset()-this.utcOffset()),t=N(t),"year"===t||"month"===t||"quarter"===t?(a=sn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(i=this-r,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?a:_(a)):NaN):NaN}function sn(e,t){var n,r,o=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(o,"months");return t-i<0?(n=e.clone().add(o-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(o+1,"months"),r=(t-i)/(n-i)),-(o+r)||0}function cn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ln(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?K(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():K(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)}function dn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=K(this,e);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()&&(b(e)&&e.isValid()||_t(e).isValid())?Vt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.from(_t(),e)}function vn(e,t){return this.isValid()&&(b(e)&&e.isValid()||_t(e).isValid())?Vt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yn(e){return this.to(_t(),e)}function mn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function gn(){return this._locale}function bn(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _n(e){return void 0===(e=N(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function wn(){return this._d.valueOf()-6e4*(this._offset||0)}function xn(){return Math.floor(this.valueOf()/1e3)}function kn(){return new Date(this.valueOf())}function En(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Sn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Cn(){return this.isValid()?this.toISOString():null}function On(){return v(this)}function Tn(){return f({},p(this))}function An(){return p(this).overflow}function jn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mn(e,t){$(0,[e,e.length],0,t)}function Pn(e){return Rn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Dn(e){return Rn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return Ee(this.year(),1,4)}function In(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)}function Rn(e,t,n,r,o){var i;return null==e?ke(this,r,o).year:(i=Ee(e,r,o),t>i&&(t=i),Nn.call(this,e,t,n,r,o))}function Nn(e,t,n,r,o){var i=xe(e,t,n,r,o),a=_e(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Fn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Bn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function zn(e,t){t[lo]=w(1e3*("0."+e))}function qn(){return this._isUTC?"UTC":""}function Un(){return this._isUTC?"Coordinated Universal Time":""}function Hn(e){return _t(1e3*e)}function Yn(){return _t.apply(null,arguments).parseZone()}function Vn(e){return e}function Wn(e,t,n,r){var o=nt(),i=d().set(r,t);return o[n](i,e)}function $n(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Wn(e,r,n,"month");return o}function Gn(e,t,n,r){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var o=nt(),i=e?o._week.dow:0;if(null!=n)return Wn(t,(n+i)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Wn(t,(a+i)%7,r,"day");return s}function Jn(e,t){return $n(e,t,"months")}function Kn(e,t){return $n(e,t,"monthsShort")}function Zn(e,t,n){return Gn(e,t,n,"weekdays")}function Xn(e,t,n){return Gn(e,t,n,"weekdaysShort")}function Qn(e,t,n){return Gn(e,t,n,"weekdaysMin")}function er(){var e=this._data;return this._milliseconds=oi(this._milliseconds),this._days=oi(this._days),this._months=oi(this._months),e.milliseconds=oi(e.milliseconds),e.seconds=oi(e.seconds),e.minutes=oi(e.minutes),e.hours=oi(e.hours),e.months=oi(e.months),e.years=oi(e.years),this}function tr(e,t,n,r){var o=Vt(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function nr(e,t){return tr(this,e,t,1)}function rr(e,t){return tr(this,e,t,-1)}function or(e){return e<0?Math.floor(e):Math.ceil(e)}function ir(){var e,t,n,r,o,i=this._milliseconds,a=this._days,u=this._months,s=this._data;return i>=0&&a>=0&&u>=0||i<=0&&a<=0&&u<=0||(i+=864e5*or(ur(u)+a),a=0,u=0),s.milliseconds=i%1e3,e=_(i/1e3),s.seconds=e%60,t=_(e/60),s.minutes=t%60,n=_(t/60),s.hours=n%24,a+=_(n/24),o=_(ar(a)),u+=o,a-=or(ur(o)),r=_(u/12),u%=12,s.days=a,s.months=u,s.years=r,this}function ar(e){return 4800*e/146097}function ur(e){return 146097*e/4800}function sr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=N(e))||"year"===e)return t=this._days+r/864e5,n=this._months+ar(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ur(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function cr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function lr(e){return function(){return this.as(e)}}function fr(e){return e=N(e),this.isValid()?this[e+"s"]():NaN}function dr(e){return function(){return this.isValid()?this._data[e]:NaN}}function hr(){return _(this.days()/7)}function pr(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function vr(e,t,n){var r=Vt(e).abs(),o=_i(r.as("s")),i=_i(r.as("m")),a=_i(r.as("h")),u=_i(r.as("d")),s=_i(r.as("M")),c=_i(r.as("y")),l=o<=wi.ss&&["s",o]||o<wi.s&&["ss",o]||i<=1&&["m"]||i<wi.m&&["mm",i]||a<=1&&["h"]||a<wi.h&&["hh",a]||u<=1&&["d"]||u<wi.d&&["dd",u]||s<=1&&["M"]||s<wi.M&&["MM",s]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,pr.apply(null,l)}function yr(e){return void 0===e?_i:"function"==typeof e&&(_i=e,!0)}function mr(e,t){return void 0!==wi[e]&&(void 0===t?wi[e]:(wi[e]=t,"s"===e&&(wi.ss=t-1),!0))}function gr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=vr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function br(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=xi(this._milliseconds)/1e3,o=xi(this._days),i=xi(this._months);e=_(r/60),t=_(e/60),r%=60,e%=60,n=_(i/12),i%=12;var a=n,u=i,s=o,c=t,l=e,f=r,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(a?a+"Y":"")+(u?u+"M":"")+(s?s+"D":"")+(c||l||f?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(f?f+"S":""):"P0D"}var _r,wr;wr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var xr=wr,kr=t.momentProperties=[],Er=!1,Sr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Cr;Cr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Or,Tr=Cr,Ar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},jr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Mr=/\d{1,2}/,Pr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dr={},Lr={},Ir=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nr={},Fr={},Br=/\d/,zr=/\d\d/,qr=/\d{3}/,Ur=/\d{4}/,Hr=/[+-]?\d{6}/,Yr=/\d\d?/,Vr=/\d\d\d\d?/,Wr=/\d\d\d\d\d\d?/,$r=/\d{1,3}/,Gr=/\d{1,4}/,Jr=/[+-]?\d{1,6}/,Kr=/\d+/,Zr=/[+-]?\d+/,Xr=/Z|[+-]\d\d:?\d\d/gi,Qr=/Z|[+-]\d\d(?::?\d\d)?/gi,eo=/[+-]?\d+(\.\d{1,3})?/,to=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,no={},ro={},oo=0,io=1,ao=2,uo=3,so=4,co=5,lo=6,fo=7,ho=8;Or=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var po=Or;$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),$("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),B("month",8),X("M",Yr),X("MM",Yr,zr),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),ne(["M","MM"],function(e,t){t[io]=w(e)-1}),ne(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[io]=o:p(n).invalidMonth=e});var vo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),go=to,bo=to;$("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),R("year","y"),B("year",1),X("Y",Zr),X("YY",Yr,zr),X("YYYY",Gr,Ur),X("YYYYY",Jr,Hr),X("YYYYYY",Jr,Hr),ne(["YYYYY","YYYYYY"],oo),ne("YYYY",function(e,n){n[oo]=2===e.length?t.parseTwoDigitYear(e):w(e)}),ne("YY",function(e,n){n[oo]=t.parseTwoDigitYear(e)}),ne("Y",function(e,t){t[oo]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var _o=q("FullYear",!0);$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),B("week",5),B("isoWeek",5),X("w",Yr),X("ww",Yr,zr),X("W",Yr),X("WW",Yr,zr),re(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=w(e)});var wo={dow:0,doy:6};$("d",0,"do","day"),$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),X("d",Yr),X("e",Yr),X("E",Yr),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),re(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:p(n).invalidWeekday=e}),re(["d","e","E"],function(e,t,n,r){t[r]=w(e)});var xo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ko="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Eo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),So=to,Co=to,Oo=to;$("H",["HH",2],0,"hour"),$("h",["hh",2],0,Ye),$("k",["kk",2],0,Ve),$("hmm",0,0,function(){return""+Ye.apply(this)+W(this.minutes(),2)}),$("hmmss",0,0,function(){return""+Ye.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),We("a",!0),We("A",!1),R("hour","h"),B("hour",13),X("a",$e),X("A",$e),X("H",Yr),X("h",Yr),X("k",Yr),X("HH",Yr,zr),X("hh",Yr,zr),X("kk",Yr,zr),X("hmm",Vr),X("hmmss",Wr),X("Hmm",Vr),X("Hmmss",Wr),ne(["H","HH"],uo),ne(["k","kk"],function(e,t,n){var r=w(e);t[uo]=24===r?0:r}),ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ne(["h","hh"],function(e,t,n){t[uo]=w(e),p(n).bigHour=!0}),ne("hmm",function(e,t,n){var r=e.length-2;t[uo]=w(e.substr(0,r)),t[so]=w(e.substr(r)),p(n).bigHour=!0}),ne("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[uo]=w(e.substr(0,r)),t[so]=w(e.substr(r,2)),t[co]=w(e.substr(o)),p(n).bigHour=!0}),ne("Hmm",function(e,t,n){var r=e.length-2;t[uo]=w(e.substr(0,r)),t[so]=w(e.substr(r))}),ne("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[uo]=w(e.substr(0,r)),t[so]=w(e.substr(r,2)),t[co]=w(e.substr(o))});var To,Ao=/[ap]\.?m?\.?/i,jo=q("Hours",!0),Mo={calendar:Ar,longDateFormat:jr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Mr,relativeTime:Pr,months:yo,monthsShort:mo,week:wo,weekdays:xo,weekdaysMin:Eo,weekdaysShort:ko,meridiemParse:Ao},Po={},Do={},Lo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Io=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ro=/Z|[+-]\d\d(?::?\d\d)?/,No=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bo=/^\/?Date\((\-?\d+)/i,zo=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var qo=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),Uo=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}),Ho=function(){return Date.now?Date.now():+new Date},Yo=["year","quarter","month","week","day","hour","minute","second","millisecond"];jt("Z",":"),jt("ZZ",""),X("Z",Qr),X("ZZ",Qr),ne(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Mt(Qr,e)});var Vo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Wo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$o=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Vt.fn=Ot.prototype,Vt.invalid=Ct;var Go=Jt(1,"add"),Jo=Jt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ko=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mn("gggg","weekYear"),Mn("ggggg","weekYear"),Mn("GGGG","isoWeekYear"),Mn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),X("G",Zr),X("g",Zr),X("GG",Yr,zr),X("gg",Yr,zr),X("GGGG",Gr,Ur),X("gggg",Gr,Ur),X("GGGGG",Jr,Hr),X("ggggg",Jr,Hr),re(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=w(e)}),re(["gg","GG"],function(e,n,r,o){n[o]=t.parseTwoDigitYear(e)}),$("Q",0,"Qo","quarter"),R("quarter","Q"),B("quarter",7),X("Q",Br),ne("Q",function(e,t){t[io]=3*(w(e)-1)}),$("D",["DD",2],"Do","date"),R("date","D"),B("date",9),X("D",Yr),X("DD",Yr,zr),X("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ne(["D","DD"],ao),ne("Do",function(e,t){t[ao]=w(e.match(Yr)[0],10)});var Zo=q("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),B("dayOfYear",4),X("DDD",$r),X("DDDD",qr),ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),$("m",["mm",2],0,"minute"),R("minute","m"),B("minute",14),X("m",Yr),X("mm",Yr,zr),ne(["m","mm"],so);var Xo=q("Minutes",!1);$("s",["ss",2],0,"second"),R("second","s"),B("second",15),X("s",Yr),X("ss",Yr,zr),ne(["s","ss"],co);var Qo=q("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),B("millisecond",16),X("S",$r,Br),X("SS",$r,zr),X("SSS",$r,qr);var ei;for(ei="SSSS";ei.length<=9;ei+="S")X(ei,Kr);for(ei="S";ei.length<=9;ei+="S")ne(ei,zn);var ti=q("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var ni=g.prototype;ni.add=Go,ni.calendar=Xt,ni.clone=Qt,ni.diff=un,ni.endOf=_n,ni.format=dn,ni.from=hn,ni.fromNow=pn,ni.to=vn,ni.toNow=yn,ni.get=Y,ni.invalidAt=An,ni.isAfter=en,ni.isBefore=tn,ni.isBetween=nn,ni.isSame=rn,ni.isSameOrAfter=on,ni.isSameOrBefore=an,ni.isValid=On,ni.lang=Ko,ni.locale=mn,ni.localeData=gn,ni.max=Uo,ni.min=qo,ni.parsingFlags=Tn,ni.set=V,ni.startOf=bn,ni.subtract=Jo,ni.toArray=En,ni.toObject=Sn,ni.toDate=kn,ni.toISOString=ln,ni.inspect=fn,ni.toJSON=Cn,ni.toString=cn,ni.unix=xn,ni.valueOf=wn,ni.creationData=jn,ni.year=_o,ni.isLeapYear=ge,ni.weekYear=Pn,ni.isoWeekYear=Dn,ni.quarter=ni.quarters=Fn,ni.month=fe,ni.daysInMonth=de,ni.week=ni.weeks=Te,ni.isoWeek=ni.isoWeeks=Ae,ni.weeksInYear=In,ni.isoWeeksInYear=Ln,ni.date=Zo,ni.day=ni.days=Ne,ni.weekday=Fe,ni.isoWeekday=Be,ni.dayOfYear=Bn,ni.hour=ni.hours=jo,ni.minute=ni.minutes=Xo,ni.second=ni.seconds=Qo,ni.millisecond=ni.milliseconds=ti,ni.utcOffset=Lt,ni.utc=Rt,ni.local=Nt,ni.parseZone=Ft,ni.hasAlignedHourOffset=Bt,ni.isDST=zt,ni.isLocal=Ut,ni.isUtcOffset=Ht,ni.isUtc=Yt,ni.isUTC=Yt,ni.zoneAbbr=qn,ni.zoneName=Un,ni.dates=E("dates accessor is deprecated. Use date instead.",Zo),ni.months=E("months accessor is deprecated. Use month instead",fe),ni.years=E("years accessor is deprecated. Use year instead",_o),ni.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),ni.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qt);var ri=A.prototype;ri.calendar=j,ri.longDateFormat=M,ri.invalidDate=P,ri.ordinal=D,ri.preparse=Vn,ri.postformat=Vn,ri.relativeTime=L,ri.pastFuture=I,ri.set=O,ri.months=ae,ri.monthsShort=ue,ri.monthsParse=ce,ri.monthsRegex=pe,ri.monthsShortRegex=he,ri.week=Se,ri.firstDayOfYear=Oe,ri.firstDayOfWeek=Ce,ri.weekdays=Pe,ri.weekdaysMin=Le,ri.weekdaysShort=De,ri.weekdaysParse=Re,ri.weekdaysRegex=ze,ri.weekdaysShortRegex=qe,ri.weekdaysMinRegex=Ue,ri.isPM=Ge,ri.meridiem=Je,Qe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=E("moment.lang is deprecated. Use moment.locale instead.",Qe),t.langData=E("moment.langData is deprecated. Use moment.localeData instead.",nt);var oi=Math.abs,ii=lr("ms"),ai=lr("s"),ui=lr("m"),si=lr("h"),ci=lr("d"),li=lr("w"),fi=lr("M"),di=lr("y"),hi=dr("milliseconds"),pi=dr("seconds"),vi=dr("minutes"),yi=dr("hours"),mi=dr("days"),gi=dr("months"),bi=dr("years"),_i=Math.round,wi={ss:44,s:45,m:45,h:22,d:26,M:11},xi=Math.abs,ki=Ot.prototype;return ki.isValid=St,ki.abs=er,ki.add=nr,ki.subtract=rr,ki.as=sr,ki.asMilliseconds=ii,ki.asSeconds=ai,ki.asMinutes=ui,ki.asHours=si,ki.asDays=ci,ki.asWeeks=li,ki.asMonths=fi,ki.asYears=di,ki.valueOf=cr,ki._bubble=ir,ki.get=fr,ki.milliseconds=hi,ki.seconds=pi,ki.minutes=vi,ki.hours=yi,ki.days=mi,ki.weeks=hr,ki.months=gi,ki.years=bi,ki.humanize=gr,ki.toISOString=br,ki.toString=br,ki.toJSON=br,ki.locale=mn,ki.localeData=gn,ki.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",br),ki.lang=Ko,$("X",0,0,"unix"),$("x",0,0,"valueOf"),X("x",Zr),X("X",eo),ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ne("x",function(e,t,n){n._d=new Date(w(e))}),t.version="2.18.1",function(e){_r=e}(_t),t.fn=ni,t.min=xt,t.max=kt,t.now=Ho,t.utc=d,t.unix=Hn,t.months=Jn,t.isDate=s,t.locale=Qe,t.invalid=y,t.duration=Vt,t.isMoment=b,t.weekdays=Zn,t.parseZone=Yn,t.localeData=nt,t.isDuration=Tt,t.monthsShort=Kn,t.weekdaysMin=Qn,t.defineLocale=et,t.updateLocale=tt,t.locales=rt,t.weekdaysShort=Xn,t.normalizeUnits=N,t.relativeTimeRounding=yr,t.relativeTimeThreshold=mr,t.calendarFormat=Zt,t.prototype=ni,t})}).call(t,n(90)(e))},function(e,t,n){var r=n(65)("meta"),o=n(10),i=n(30),a=n(17).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(9)(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&p.NEED&&s(e)&&!i(e,r)&&l(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(e,t,n){var r=n(12)("unscopables"),o=Array.prototype;void 0==o[r]&&n(31)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectDates=t.addFilterForMostRecentTransactions=t.filterByDoc=t.resetFilterByDoc=t.addFilterByPeriod=t.getFilteredTransactions=t.getAccountsFiltered=t.getFilteringDoc=t.getPeriod=void 0;var o=n(316),i=r(o),a=n(776),u=r(a),s=n(345),c=r(s),l=n(97),f=r(l),d=n(89),h=n(791),p=n(351),v=n(889),y=r(v),m=n(940),g=n(28),b=n(409),_=t.getPeriod=function(e){return e.filters.period},w=t.getFilteringDoc=function(e){return e.filters.filteringDoc},x=function(e){var t=(0,m.getAccounts)(e).map(function(e){return e._id}),n=w(e);if(!n)return t;var r=n._type,o=n._id;if(r===g.ACCOUNT_DOCTYPE)return t.indexOf(o)>-1?[o]:(console.warn("Filtering by unavailable account, returning all accounts"),t);if(r===g.GROUP_DOCTYPE){var a=(0,m.getGroups)(e),u=(0,i.default)(a,{_id:o});return u?u.accounts:t}},k=(t.getAccountsFiltered=function(e){var t=(0,u.default)(x(e));return(0,m.getAccounts)(e).filter(function(e){return t[e._id]})},t.getFilteredTransactions=(0,h.createSelector)([m.getTransactions,x,_],function(e,t,n){return t&&(e=T(e,t)),O(e,n)}),function(e){return e&&e.substr(0,7)}),E=function(e){return e&&e.substr(0,4)},S=function(e){return e instanceof Date},C=function(e){return"string"==typeof e},O=function(e,t){var n=void 0,r=t.length;if(C(t)){if(4===r){var o=E;n=function(e){return o(e)===t}}else if(7===r){var i=k;n=function(e){return i(e)===t}}}else{if(2!==t.length||!S(t[0])||!S(t[1]))throw new Error("Invalid period: "+t);n=function(e){return(0,p.isWithinRange)((0,p.parse)(e),t[0],t[1])}}return e.filter(function(e){var t=e.date;return!!t&&n(t)})},T=function(e,t){return e.filter(function(e){return-1!==t.indexOf(e.account)})},A=t.addFilterByPeriod=function(e){return{type:"FILTER_BY_PERIOD",period:e}};t.resetFilterByDoc=function(){return{type:"RESET_FILTER_BY_DOC"}},t.filterByDoc=function(e){return{type:"FILTER_BY_DOC",doc:e}},t.addFilterForMostRecentTransactions=function(e){var t=(0,c.default)((0,f.default)(e,"date")),n=t?t.date:new Date;return A(k(n))};t.SelectDates=y.default;var j=function(){return k((0,p.format)(new Date))},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j(),t=arguments[1];switch(t.type){case"FILTER_BY_PERIOD":return t.period;default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case"FILTER_BY_DOC":return t.doc;case"RESET_FILTER_BY_DOC":return null;default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.account;return n===b.DESTROY_ACCOUNT&&e.filteringDoc&&e.filteringDoc.id===r.id?Object.assign({},e,{filteringDoc:null}):e};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}}((0,d.combineReducers)({period:M,filteringDoc:P}),D)},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e){return null==e||c.default.isValidElement(e)}function o(e){return r(e)||Array.isArray(e)&&e.every(r)}function i(e,t){return l({},e,t)}function a(e){var t=e.type,n=i(t.defaultProps,e.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(e,t){var n=[];return c.default.Children.forEach(e,function(e){if(c.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(a(e))}),n}function s(e){return o(e)?e=u(e):e&&!Array.isArray(e)&&(e=[e]),e}t.c=o,t.a=a,t.b=s;var c=n(2),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var r=n(50),o=(function(e){e&&e.__esModule}(r),t.addQueryStringValueToPath=function(e,t,n){var r=i(e),o=r.pathname,u=r.search,s=r.hash;return a({pathname:o,search:u+(-1===u.indexOf("?")?"?":"&")+t+"="+n,hash:s})},t.stripQueryStringValueFromPath=function(e,t){var n=i(e),r=n.pathname,o=n.search,u=n.hash;return a({pathname:r,search:o.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:u})},t.getQueryStringValueFromPath=function(e,t){var n=i(e),r=n.search,o=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return o&&o[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}),i=t.parsePath=function(e){var t=o(e),n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substring(i),t=t.substring(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substring(a),t=t.substring(0,a)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},a=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,o=e.hash,i=(t||"")+n;return r&&"?"!==r&&(i+=r),o&&(i+=o),i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isHealthExpense=t.computeCategorieData=t.transactionsByCategory=t.getParentCategory=t.getCategoryId=void 0;var o=n(120),i=r(o),a=n(431),u=r(a),s=i.default.get.bind(i.default),c=function(e){return{name:e.name,color:e.color,transactions:[],subcategories:{}}},l=function(e){return{name:u.default[e],transactions:[]}},f=t.getCategoryId=function(e){return e.manualCategoryId||e.automaticCategoryId};t.getParentCategory=function(e){return s(f(e))},t.transactionsByCategory=function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,d=f(u),h=s(d)||s("0");t.hasOwnProperty(h.name)||(t[h.name]=c(h));var p=t[h.name];p.subcategories.hasOwnProperty(d)||(p.subcategories[d]=l(d));var v=p.subcategories[d];p.transactions.push(u),v.transactions.push(u)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t},t.computeCategorieData=function(e){return Object.values(e).map(function(e){var t=Object.values(e.subcategories).map(function(e){var t=e.transactions.reduce(function(e,t){return t.amount<0?e+t.amount:e},0),n=e.transactions.reduce(function(e,t){return t.amount>0?e+t.amount:e},0);return{name:e.name,amount:n+t,debit:t,credit:n,percentage:0,currency:e.transactions[0].currency,transactionsNumber:e.transactions.length}}),n=e.transactions.reduce(function(e,t){return t.amount<0?e+t.amount:e},0),r=e.transactions.reduce(function(e,t){return t.amount>0?e+t.amount:e},0);return{name:e.name,color:e.color,amount:r+n,debit:n,credit:r,percentage:0,currency:e.transactions[0].currency,transactionsNumber:e.transactions.length,subcategories:t}})},t.isHealthExpense=function(e){return"400610"===f(e)&&e.amount<0}},function(e,t,n){"use strict";e.exports={},e.exports.Arc=n(1139),e.exports.Line=n(1140),e.exports.Point=n(1141),e.exports.Rectangle=n(1142)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(260),o=n(176);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(47),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(6),o=n(261),i=n(176),a=n(175)("IE_PROTO"),u=function(){},s=function(){var e,t=n(173)("iframe"),r=i.length;for(t.style.display="none",n(177).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(260),o=n(176).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(7),o=n(17),i=n(16),a=n(12)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(39),o=n(272),i=n(189),a=n(6),u=n(18),s=n(191),c={},l={},t=e.exports=function(e,t,n,f,d){var h,p,v,y,m=d?function(){return e}:s(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(h=u(e.length);h>b;b++)if((y=t?g(a(p=e[b])[0],p[1]):g(e[b]))===c||y===l)return y}else for(v=m.call(e);!(p=v.next()).done;)if((y=o(v,g,p.value,t))===c||y===l)return y};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(32);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){function r(e){var t=o(e);return t.setHours(0,0,0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e,{weekStartsOn:1})}var o=n(139);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=i(r),u=new Date(0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);var s=i(u);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}var o=n(1),i=n(76);e.exports=r},function(e,t,n){var r=n(107),o=n(108);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?u(e)?i(e[0],e[1]):o(e):s(e)}var o=n(718),i=n(765),a=n(152),u=n(29),s=n(772);e.exports=r},function(e,t,n){function r(e,t){var n=i(e,t);return o(n)?n:void 0}var o=n(730),i=n(735);e.exports=r},function(e,t,n){function r(e){return null!=e&&i(e.length)&&!o(e)}var o=n(206),i=n(212);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Topbar=void 0;var o=n(2),i=r(o),a=n(1094),u=r(a),s=n(14),c=cozy.bar.BarCenter,l=t.Topbar=(0,s.withBreakpoints)()(function(e){var t=e.children,n=e.breakpoints.isMobile,r=i.default.createElement("div",{className:u.default.Topbar},t);return n?i.default.createElement(c,{children:r}):r});t.default=l},function(e,t){e.exports={paleGrey:"#F5F6F7",silver:"#D6D8Da",coolGrey:"#95999D",slateGrey:"#5D6165",charcoalGrey:"#32363F",dodgerBlue:"#297EF2",scienceBlue:"#0B61D6",puertoRico:"#4DCEC5",emerald:"#35CE68",malachite:"#08b442",texasRose:"#FFAE5F",yourPink:"#FDCBCB",pomegranate:"#F52D2D",monza:"#DD0505",portage:"#9169F2"}},function(e,t,n){var r=n(17).f,o=n(30),i=n(12)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),o=n(46),i=n(9),a=n(179),u="["+a+"]",s="",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),f=function(e,t,n){var o={},u=i(function(){return!!a[e]()||s[e]()!=s}),c=o[e]=u?t(d):a[e];n&&(o[n]=c),r(r.P+r.F*u,"String",o)},d=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},function(e,t){e.exports={}},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var o=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(306),o=n(698),i=n(699),a=n(700),u=n(309);n(308);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return i.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return u.a})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function r(e){return null==e?void 0===e?s:u:c&&c in Object(e)?i(e):a(e)}var o=n(92),i=n(731),a=n(732),u="[object Null]",s="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=r},function(e,t,n){var r=n(42),o=r.Symbol;e.exports=o},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var o=n(327),i=n(760),a=n(81);e.exports=r},function(e,t,n){function r(e,t){return o(e)?e:i(e,t)?[e]:a(u(e))}var o=n(29),i=n(214),a=n(766),u=n(215);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var o=n(112),i=1/0;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var o=n(341);e.exports=r},function(e,t,n){var r=n(346),o=n(782),i=n(347),a=n(350),u=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])});e.exports=u},function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var u=-1,s=t.length;++u<s;){var c=t[u],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):o(n,c,l)}return n}var o=n(231),i=n(96);e.exports=r},function(e,t,n){"use strict";var r=n(50);n.n(r)},function(e,t,n){"use strict";function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){for(var t="",n=[],o=[],i=void 0,a=0,u=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;i=u.exec(e);)i.index!==a&&(o.push(e.slice(a,i.index)),t+=r(e.slice(a,i.index))),i[1]?(t+="([^/]+)",n.push(i[1])):"**"===i[0]?(t+="(.*)",n.push("splat")):"*"===i[0]?(t+="(.*?)",n.push("splat")):"("===i[0]?t+="(?:":")"===i[0]?t+=")?":"\\("===i[0]?t+="\\(":"\\)"===i[0]&&(t+="\\)"),o.push(i[0]),a=u.lastIndex;return a!==e.length&&(o.push(e.slice(a,e.length)),t+=r(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:o}}function i(e){return f[e]||(f[e]=o(e)),f[e]}function a(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=i(e),r=n.regexpSource,o=n.paramNames,a=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===a[a.length-1]&&(r+="$");var u=t.match(new RegExp("^"+r,"i"));if(null==u)return null;var s=u[0],c=t.substr(s.length);if(c){if("/"!==s.charAt(s.length-1))return null;c="/"+c}return{remainingPathname:c,paramNames:o,paramValues:u.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function u(e){return i(e).paramNames}function s(e,t){t=t||{};for(var n=i(e),r=n.tokens,o=0,a="",u=0,s=[],c=void 0,f=void 0,d=void 0,h=0,p=r.length;h<p;++h)if("*"===(c=r[h])||"**"===c)d=Array.isArray(t.splat)?t.splat[u++]:t.splat,null!=d||o>0||l()(!1),null!=d&&(a+=encodeURI(d));else if("("===c)s[o]="",o+=1;else if(")"===c){var v=s.pop();o-=1,o?s[o-1]+=v:a+=v}else if("\\("===c)a+="(";else if("\\)"===c)a+=")";else if(":"===c.charAt(0))if(f=c.substring(1),d=t[f],null!=d||o>0||l()(!1),null==d){if(o){s[o-1]="";for(var y=r.indexOf(c),m=r.slice(y,r.length),g=-1,b=0;b<m.length;b++)if(")"==m[b]){g=b;break}g>0||l()(!1),h=y+g-1}}else o?s[o-1]+=encodeURIComponent(d):a+=encodeURIComponent(d);else o?s[o-1]+=c:a+=c;return o<=0||l()(!1),a.replace(/\/+/g,"/")}t.c=a,t.b=u,t.a=s;var c=n(26),l=n.n(c),f=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),u=r(a),s=n(50),c=(r(s),n(61)),l=n(161),f=(t.createQuery=function(e){return i(Object.create(null),e)},t.createLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.POP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="string"==typeof e?(0,c.parsePath)(e):e;return{pathname:r.pathname||"/",search:r.search||"",hash:r.hash||"",state:r.state,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),d=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r=void 0===t?"undefined":o(t);if(r!==(void 0===n?"undefined":o(n)))return!1;if("function"===r&&(0,u.default)(!1),"object"===r){if(f(t)&&f(n)&&(0,u.default)(!1),!Array.isArray(t)){var i=Object.keys(t),a=Object.keys(n);return i.length===a.length&&i.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&d(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.TdWithIcon=t.TdSecondary=t.Table=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),u=r(a),s=n(1102),c=r(s),l=n(13),f=r(l),d=function(e){var t=e.children,n=e.className,r=o(e,["children","className"]);return u.default.createElement("table",i({className:(0,f.default)(c.default["c-table"],n)},r),t)};t.Table=d;var h=function(e){var t=e.children,n=e.className,r=o(e,["children","className"]);return u.default.createElement("td",i({className:(0,f.default)(c.default["c-table-td-secondary"],n)},r),t)};t.TdSecondary=h;var p=function(e){var t=e.children,n=e.className,r=o(e,["children","className"]);return u.default.createElement("td",i({className:(0,f.default)(c.default["c-table-td-with-icon"],n)},r),t)};t.TdWithIcon=p,t.default=d},function(e,t,n){var r=n(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(40),o=n(12)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){function r(e){var t=o(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),i(n)}var o=n(77),i=n(76);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var i=n(88);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"dans "+o:"il y a "+o:o}var t={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["janv.","fvr.","mars","avr.","mai","juin","juill.","aot","sept.","oct.","nov.","dc."],t=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],n=["di","lu","ma","me","je","ve","sa"],r=["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],u=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],s=["AM","PM"],c=["am","pm"],l=["du matin","de laprs-midi","du soir"],f={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return u[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){var t=e.getHours();return t<=12?l[0]:t<=16?l[1]:l[2]},Wo:function(e,t){return i(t.W(e))}};return["M","D","DDD","d","Q"].forEach(function(e){f[e+"o"]=function(t,n){return o(n[e](t))}}),["MMM","MMMM"].forEach(function(e){f["Do "+e]=function(t,n){var r=1===t.getDate()?"Do":"D";return(f[r]||n[r])(t,n)+" "+f[e](t)}}),{formatters:f,formattingTokensRegExp:a(f)}}function o(e){return 1===e?"1er":e+"e"}function i(e){return 1===e?"1re":e+"e"}var a=n(88);e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e){return"symbol"==typeof e||i(e)&&o(e)==a}var o=n(91),i=n(59),a="[object Symbol]";e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setDate(n.getDate()+r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e).getTime(),r=Number(t);return new Date(n+r)}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=n.getTime(),i=o(t),a=i.getTime();return r<a?-1:r>a?1:0}var o=n(1);e.exports=r},function(e,t,n){"use strict";(function(e){function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchApps=t.setApps=t.getAppUrlBySource=t.getApps=void 0;var o=n(19),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=t.getApps=function(e){return e.apps},u=(t.getAppUrlBySource=function(e,t){var n=a(e),r=!0,o=!1,i=void 0;try{for(var u,s=n[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value;if(-1!==c.attributes.source.indexOf(t))return c.links.related}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}},t.setApps=function(e){return{type:"SET_APPS",apps:e}}),s=(t.fetchApps=function(){return function(){var t=r(i.default.mark(function t(n){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchJSON("GET","/apps/").then(function(e){return n(u(e))}));case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"SET_APPS":return t.apps;default:return e}});t.default=s}).call(t,n(27))},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.c=r,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s});var o=n(5),i=(n.n(o),Object(o.shape)({listen:o.func.isRequired,push:o.func.isRequired,replace:o.func.isRequired,go:o.func.isRequired,goBack:o.func.isRequired,goForward:o.func.isRequired}),Object(o.oneOfType)([o.func,o.string])),a=Object(o.oneOfType)([i,o.object]),u=Object(o.oneOfType)([o.object,o.element]),s=Object(o.oneOfType)([u,Object(o.arrayOf)(u)])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1064);Object.defineProperty(t,"Media",{enumerable:!0,get:function(){return r.Media}}),Object.defineProperty(t,"Img",{enumerable:!0,get:function(){return r.Img}}),Object.defineProperty(t,"Bd",{enumerable:!0,get:function(){return r.Bd}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["(sans Secure Key)"];t.getAccountInstitutionLabel=function(e){return r.reduce(function(e,t){return e.replace(t,"")},e.institutionLabel)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParentCategory=t.categoryToParent=t.getCategoryName=t.getCategories=t.getCategoryIdFromName=t.categoriesStyle=void 0;var r=n(431),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=t.categoriesStyle={kids:{color:"#1FA8F1"},dailyLife:{color:"#FD7461"},educationAndTraining:{color:"#FC6D00"},health:{color:"#F62C2C"},homeAndRealEstate:{color:"#FF962F"},incomeCat:{color:"#35CE68"},activities:{color:"#FC4C83"},excludeFromBudgetCat:{color:"#6984CE"},services:{color:"#7F6BEE"},tax:{color:"#B449E7"},transportation:{color:"#4DCEC5"},goingOutAndTravel:{color:"#40DE8E"},uncategorized:{color:"#95999D"}},a=t.getCategoryIdFromName=function(e){return Object.keys(o.default).find(function(t){return o.default[t]===e})};for(var u in i)i[u].name=u,i[u].id=a(u),i[u].children={},i[u].icon=n(432)("./icon-cat-"+u+".svg");var s=(t.getCategories=function(){return i},t.getCategoryName=function(e){if(void 0===e)return o.default[0];var t=o.default[e];return void 0===t?o.default[0]:t},function(e){for(var t=parseInt(e,10),n=10,r=o.default[t];!i.hasOwnProperty(r);)t-=t%n,r=o.default[t],n*=10;return i[r]}),c=t.categoryToParent=new Map(Object.keys(o.default).map(function(e){return[e,s(e)]})),l=t.getParentCategory=function(e){var t=c.get(e);return t&&t.name?t.name:"uncategorized"};Object.keys(o.default).forEach(function(e){var t=o.default[e],n=l(e);i[n]&&(i[n].children[e]={name:t,color:i[n].color,id:e})}),t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FigureBlock=t.Figure=void 0;var o=n(434),i=r(o),a=n(1090),u=r(a);t.Figure=i.default,t.FigureBlock=u.default},function(e,t,n){"use strict";var r=n(8);e.exports={generators:{linear:function(e,t){var n,o=[];if(e.stepSize&&e.stepSize>0)n=e.stepSize;else{var i=r.niceNum(t.max-t.min,!1);n=r.niceNum(i/(e.maxTicks-1),!0)}var a=Math.floor(t.min/n)*n,u=Math.ceil(t.max/n)*n;e.min&&e.max&&e.stepSize&&r.almostWhole((e.max-e.min)/e.stepSize,n/1e3)&&(a=e.min,u=e.max);var s=(u-a)/n;s=r.almostEquals(s,Math.round(s),n/1e3)?Math.round(s):Math.ceil(s),o.push(void 0!==e.min?e.min:a);for(var c=1;c<s;++c)o.push(a+c*n);return o.push(void 0!==e.max?e.max:u),o},logarithmic:function(e,t){var n,o,i=[],a=r.valueOrDefault,u=a(e.min,Math.pow(10,Math.floor(r.log10(t.min)))),s=Math.floor(r.log10(t.max)),c=Math.ceil(t.max/Math.pow(10,s));0===u?(n=Math.floor(r.log10(t.minNotZero)),o=Math.floor(t.minNotZero/Math.pow(10,n)),i.push(u),u=o*Math.pow(10,n)):(n=Math.floor(r.log10(u)),o=Math.floor(u/Math.pow(10,n)));do{i.push(u),++o,10===o&&(o=1,++n),u=o*Math.pow(10,n)}while(n<s||n===s&&o<c);var l=a(e.max,u);return i.push(l),i}},formatters:{values:function(e){return r.isArray(e)?e:""+e},linear:function(e,t,n){var o=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(o)>1&&e!==Math.floor(e)&&(o=e-Math.floor(e));var i=r.log10(Math.abs(o)),a="";if(0!==e){var u=-1*Math.floor(i);u=Math.max(Math.min(u,20),0),a=e.toFixed(u)}else a="0";return a},logarithmic:function(e,t,n){var o=e/Math.pow(10,Math.floor(r.log10(e)));return 0===e?"0":1===o||2===o||5===o||0===t||t===n.length-1?e.toExponential():""}}}},function(e,t,n){var r=n(7),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(36),o=n(18),i=n(68);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(40);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10),o=n(40),i=n(12)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(12)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(6);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(31),o=n(32),i=n(9),a=n(46),u=n(12);e.exports=function(e,t,n){var s=u(e),c=n(a,s,""[e]),l=c[0],f=c[1];i(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),r(RegExp.prototype,s,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){var r=n(6),o=n(25),i=n(12)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(7),o=n(0),i=n(32),a=n(74),u=n(56),s=n(73),c=n(72),l=n(10),f=n(9),d=n(128),h=n(84),p=n(180);e.exports=function(e,t,n,v,y,m){var g=r[e],b=g,_=y?"set":"add",w=b&&b.prototype,x={},k=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(m||w.forEach&&!f(function(){(new b).entries().next()}))){var E=new b,S=E[_](m?{}:-0,1)!=E,C=f(function(){E.has(1)}),O=d(function(e){new b(e)}),T=!m&&f(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});O||(b=t(function(t,n){c(t,b,e);var r=p(new g,t,b);return void 0!=n&&s(n,y,r[_],r),r}),b.prototype=w,w.constructor=b),(C||T)&&(k("delete"),k("has"),y&&k("get")),(T||S)&&k(_),m&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,y,_),a(b.prototype,n),u.NEED=!0;return h(b,e),x[e]=b,o(o.G+o.W+o.F*(b!=g),x),m||v.setStrong(b,e,y),b}},function(e,t,n){for(var r,o=n(7),i=n(31),a=n(65),u=a("typed_array"),s=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(i(r.prototype,u,!0),i(r.prototype,s,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:u,VIEW:s}},function(e,t,n){"use strict";e.exports=n(66)||!n(9)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(7)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),o=n(25),i=n(39),a=n(73);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,u,s=arguments[1];return o(this),t=void 0!==s,t&&o(s),void 0==e?new this:(n=[],t?(r=0,u=i(s,arguments[2],2),a(e,!1,function(e){n.push(u(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):y=-1,p.length&&u())}function u(){if(!v){var e=o(a);v=!0;for(var t=p.length;t;){for(h=p,p=[];++y<t;)h&&h[y].run();y=-1,t=p.length}h=null,v=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],v=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||v||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e,t){var n=o(e),r=o(t),u=n.getTime()-n.getTimezoneOffset()*i,s=r.getTime()-r.getTimezoneOffset()*i;return Math.round((u-s)/a)}var o=n(75),i=6e4,a=864e5;e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=o(e),i=r.getDay(),a=(i<n?7:0)+i-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}var o=n(1);e.exports=r},function(e,t,n){var r=n(109),o=n(110);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getURL=t.getSharingInfo=t.reducers=void 0;var i=n(89),a=n(310),u=o(a),s=n(315),c=r(s),l=n(58),f=o(l),d=n(410),h=r(d),p=n(116),v=o(p),y=n(15),m=t.reducers={alerts:u.default,filters:f.default,mobile:h.default,apps:v.default,sharingStatus:c.reducer,cozy:y.reducer},g=(0,i.combineReducers)(m);t.getSharingInfo=function(e,t,n){return c.getSharingInfo(e.sharingStatus,t,n)},t.getURL=function(e){return h.getURL(e.mobile)};t.default=g},function(e,t,n){function r(e){var t=this.__data__=new o(e);this.size=t.size}var o=n(143),i=n(725),a=n(726),u=n(727),s=n(728),c=n(729);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=u,r.prototype.has=s,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(720),i=n(721),a=n(722),u=n(723),s=n(724);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(111);e.exports=r},function(e,t,n){var r=n(80),o=r(Object,"create");e.exports=o},function(e,t,n){function r(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}var o=n(744);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){var r=n(756),o=n(59),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t,n){(function(e){var r=n(42),o=n(757),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i,s=u?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||o;e.exports=l}).call(t,n(90)(e))},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t){t=o(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}var o=n(94),i=n(95);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t){var n=o(e),r=Number(t),a=n.getMonth()+r,u=new Date(0);u.setFullYear(n.getFullYear(),a,1),u.setHours(0,0,0,0);var s=i(u);return n.setMonth(a,Math.min(s,n.getDate())),n}var o=n(1),i=n(218);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=n.getTime(),i=o(t),a=i.getTime();return r>a?-1:r<a?1:0}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()-r.getTime()}var o=n(1);e.exports=r},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.isV2=t.sanitizeDoc=t.getIndexFields=t.getDownloadLink=t.downloadFile=t.downloadArchive=void 0;var a=n(19),u=r(a),s=n(390),c=r(s),l=n(234),f=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},d=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)};t.downloadArchive=function(){var t=i(u.default.mark(function t(n,r){var o,i,a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=f(n),t.next=3,e.files.getArchiveLinkByIds(r,o);case 3:return i=t.sent,t.next=6,e.fullpath(i);case 6:a=t.sent,d(a,o+".zip");case 8:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}(),t.downloadFile=function(){var t=i(u.default.mark(function t(n){var r,o;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.files.downloadById(n.id);case 2:return r=t.sent,t.next=5,r.blob();case 5:o=t.sent,d(window.URL.createObjectURL(o),n.name);case 7:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),t.getDownloadLink=function(t){return e.files.getDownloadLinkById(t.id).then(function(t){return""+e._url+t})},t.getIndexFields=function(e){var t=e.selector,n=e.sort;return n?[].concat(o(Object.keys(t)),o(Object.keys(n))).filter(function(e,t,n){return n.indexOf(e)===t}):Object.keys(t)},t.sanitizeDoc=function(e){return(0,c.default)(e,["_type","id"])},t.isV2=function(e){return(0,l.retry)(function(){return fetch(e+"/status/")},3)().then(function(e){if(e.ok)return e.json();throw new Error("Could not fetch cozy status")}).then(function(e){return 2==(void 0!==e.datasystem?2:3)})}}).call(t,n(27))},function(e,t,n){function r(e){return a(e)?o(e,!0):i(e)}var o=n(327),i=n(948),a=n(81);e.exports=r},function(e,t,n){"use strict";(function(t){function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||o()}var o,i=window.MutationObserver||window.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=window.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(window.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in window.document.createElement("script")?function(){var e=window.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},window.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(t,n(35))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function o(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function i(e){if(e instanceof ArrayBuffer)return o(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&X.call(n)==Q}function u(e){var t,n,o;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,o=e.length;n<o;n++)t[n]=u(e[n]);return t}if(e instanceof Date)return e.toISOString();if(r(e))return i(e);if(!a(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=u(e[n]);void 0!==s&&(t[n]=s)}return t}function s(e){var t=!1;return H()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function c(e){return H()(function(t){t=u(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new q.default(function(r,o){var i;try{var a=s(function(e,t){e?o(e):r(t)});t.push(a),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function l(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);e.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",e.name,t];o=o.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",o),i(n,r)}}}function f(e,t){return c(H()(function(n){if(this._closed)return q.default.reject(new Error("database is closed"));if(this._destroyed)return q.default.reject(new Error("database is destroyed"));var r=this;return l(r,e,n),this.taskqueue.isReady?t.apply(this,n):new q.default(function(t,o){r.taskqueue.addTask(function(i){i?o(i):t(r[e].apply(r,n))})})}))}function d(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function h(e){return e}function p(e){return[{ok:e}]}function v(e,t,n){function r(){var e=[];v.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++f===l&&r()}function i(e,t,n){v[e]={id:t,docs:n},o()}function a(){if(!(m>=y.length)){var e=Math.min(m+ee,y.length),t=y.slice(m,e);u(t,m),m+=t.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,s=c.get(n),l=d(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(h);var f=h;0===l.open_revs.length&&(delete l.open_revs,f=p),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:f(t),i(u,n,r),a()})})}var s=t.docs,c=new Y.a;s.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,f=0,v=new Array(l),y=[];c.forEach(function(e,t){y.push(t)});var m=0;a()}function y(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function m(){return Z}function g(e){y()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):m()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function b(){V.EventEmitter.call(this),this._listeners={},g(this)}function _(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function w(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function x(e){var t=0;return e||(t=2e3),w(e,t)}function k(e,t){_("info","The above "+e+" is totally normal. "+t)}function E(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return Object(K.e)(K.a,r)}}function S(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&E(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function C(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function O(){}function T(e){var t;if(e?"string"!=typeof e?t=Object(K.e)(K.b):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Object(K.e)(K.d)):t=Object(K.e)(K.c),t)throw t}function A(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}function j(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(_("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function M(e,t){return"listenerCount"in e?e.listenerCount(t):V.EventEmitter.listenerCount(e,t)}function P(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function D(e){var t=P(e);return t?t.join("/"):null}function L(e){for(var t=ce.exec(e),n={},r=14;r--;){var o=ae[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[ue]={},n[ae[12]].replace(se,function(e,t,r){t&&(n[ue][t]=r)}),n}function I(e,t){var n=[],r=[];for(var o in t)t.hasOwnProperty(o)&&(n.push(o),r.push(t[o]));return n.push(e),Function.apply(null,n).apply(null,r)}function R(e,t,n){return new q.default(function(r,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(N(e,s,n))})})}function N(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return R(e,t._id,n)})}function F(){return z.a.v4().replace(/-/g,"").toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adapterFun",function(){return f}),n.d(t,"assign",function(){return re}),n.d(t,"bulkGetShim",function(){return v}),n.d(t,"changesHandler",function(){return b}),n.d(t,"clone",function(){return u}),n.d(t,"defaultBackOff",function(){return x}),n.d(t,"explainError",function(){return k}),n.d(t,"filterChange",function(){return S}),n.d(t,"flatten",function(){return C}),n.d(t,"functionName",function(){return ie}),n.d(t,"guardedConsole",function(){return _}),n.d(t,"hasLocalStorage",function(){return m}),n.d(t,"invalidIdError",function(){return T}),n.d(t,"isChromeApp",function(){return y}),n.d(t,"isCordova",function(){return A}),n.d(t,"isRemote",function(){return j}),n.d(t,"listenerCount",function(){return M}),n.d(t,"normalizeDdocFunctionName",function(){return D}),n.d(t,"once",function(){return s}),n.d(t,"parseDdocFunctionName",function(){return P}),n.d(t,"parseUri",function(){return L}),n.d(t,"pick",function(){return d}),n.d(t,"rev",function(){return F}),n.d(t,"scopeEval",function(){return I}),n.d(t,"toPromise",function(){return c}),n.d(t,"upsert",function(){return R}),n.d(t,"uuid",function(){return le});var B=n(399),z=n.n(B),q=n(236),U=n(235),H=n.n(U),Y=n(237),V=n(402),W=(n.n(V),n(159)),$=n.n(W),G=n(158),J=n.n(G),K=n(975);n.d(t,"nextTick",function(){return J.a});var Z,X=Function.prototype.toString,Q=X.call(Object),ee=6;if(y())Z=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Z=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){Z=!1}$()(b,V.EventEmitter),b.prototype.addListener=function(e,t,n,r){function o(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var u=d(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&J()(o),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=o,this.on(e,o)}},b.prototype.removeListener=function(e,t){t in this._listeners&&(V.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},b.prototype.notifyLocalWindows=function(e){y()?chrome.storage.local.set({dbName:e}):m()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},b.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var te;te="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var ne,re=te,oe=O.name;ne=oe?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var ie=ne,ae=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ue="queryKey",se=/(?:^|&)([^&=]*)=?([^&]*)/g,ce=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,le=z.a.v4},function(e,t,n){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t,n){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.supportsPopstateOnHashchange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalDescription=t.ModalTitle=t.ModalButtons=t.ModalSection=t.ModalContent=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=r(c),f=n(5),d=r(f),h=n(13),p=r(h),v=n(1032),y=r(v),m=n(249),g=r(m),b=n(1034),_=r(b),w=function(e){var t=e.children,n=e.className;return l.default.createElement("div",{className:(0,p.default)(y.default["coz-modal-content"],n)},t)},x=function(e){var t=e.children,n=e.className;return l.default.createElement("div",{className:(0,p.default)(y.default["coz-modal-content"],y.default["coz-modal-section"],n)},t)},k=function(e){var t=e.children,n=e.className;return l.default.createElement("h2",{className:(0,p.default)(y.default["coz-modal-content"],y.default["coz-modal-title"],n)},t)},E=function(e){var t=e.onClick,n=e.className;return l.default.createElement("button",{className:(0,p.default)(y.default["coz-btn"],y.default["coz-btn--close"],y.default["coz-btn-modal-close"],n),onClick:t},l.default.createElement("span",{className:y.default["coz-hidden"]}))},S=function(e){var t=e.children,n=e.className;return l.default.createElement("div",{className:(0,p.default)(y.default["coz-modal-content"],y.default["coz-description"],n)},t)},C=function(e){var t=e.secondaryText,n=e.secondaryAction,r=e.secondaryType,o=e.primaryText,i=e.primaryAction,a=e.primaryType,u=o&&i,s=t&&n;return(s||u)&&l.default.createElement("div",{className:(0,p.default)(y.default["coz-modal-content"],y.default["coz-modal-buttons"])},s&&l.default.createElement("button",{className:(0,p.default)(y.default["coz-btn"],y.default["coz-btn--"+r]),onClick:n},t),u&&l.default.createElement("button",{className:(0,p.default)(y.default["coz-btn"],y.default["coz-btn--"+a]),onClick:i},o))},O=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleOutsideClick=function(e){e.target===e.currentTarget&&r.props.dismissAction()},o=n,a(r,o)}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.description,r=e.title,i=e.closable,a=e.dismissAction,u=e.overflowHidden,s=e.className,c=e.crossClassName;return l.default.createElement("div",{className:y.default["coz-modal-container"]},l.default.createElement(g.default,{onEscape:i&&a},l.default.createElement("div",{className:y.default["coz-modal-wrapper"],onClick:i&&this.handleOutsideClick},l.default.createElement("div",{className:(0,p.default)(y.default["coz-modal"],s,o({},y.default["coz-modal--overflowHidden"],u))},i&&l.default.createElement(E,{className:c,onClick:a}),r&&l.default.createElement(k,null,r),n&&l.default.createElement(S,null,n),t,l.default.createElement(C,this.props)))))}}]),t}(c.Component);O.propTypes={title:d.default.node,description:d.default.node,secondaryType:d.default.string,secondaryText:d.default.string,secondaryAction:d.default.func,primaryType:d.default.string,primaryText:d.default.string,primaryAction:d.default.func,closable:d.default.bool,overflowHidden:d.default.bool,className:d.default.string,crossClassName:d.default.string},O.defaultProps={primaryType:"secondary",secondaryType:"regular",closable:!0,overflowHidden:!1},t.default=(0,_.default)([{src:"withCross",dest:"closable"},{fn:function(e){var t=void 0;if(e.secondaryAction&&!e.dismissAction){t=Object.assign({},e),t.dismissAction=e.secondaryAction;return[t,"In the future, `secondaryAction` will not be bound to closing actions (clicking on cross, clicking outside), please use `dismissAction` for that"]}return[e,null]}}])(O),Object.assign(O,{ModalContent:w,ModalSection:x,ModalButtons:C,ModalTitle:k,ModalDescription:S}),t.ModalContent=w,t.ModalSection=x,t.ModalButtons=C,t.ModalTitle=k,t.ModalDescription=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var i=n(2),a=r(i),u=n(22),s=n(13),c=r(s),l=n(1040),f=r(l),d=t.Spinner=function(e){var t,n=e.t,r=e.loadingType,i=e.middle,u=e.noMargin,s=e.color,l=e.size;return a.default.createElement("div",{className:(0,c.default)(f.default["coz-spinner"],(t={},o(t,f.default["coz-spinner--middle"],i),o(t,f.default["coz-spinner--nomargin"],u),o(t,f.default["coz-spinner--"+s],s),o(t,f.default["coz-spinner--"+l],l),t))},r&&a.default.createElement("p",null,n("loading."+r)))};t.default=(0,u.translate)()(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1075);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(409);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(2),u=r(a),s=n(5),c=r(s),l=n(1096),f=r(l),d=n(1097),h=r(d),p=n(14),v=n(387),y=r(v),m=n(83),g=r(m),b=cozy.bar.BarLeft,_=function(e){var t=e.onClick,n=e.to,r=e.router,o=e.breakpoints.isMobile,i=e.arrow,a=void 0!==i&&i,s=r.getCurrentLocation();t||n||(n=s.pathname.split("/").slice(0,-1).join("/"));var c=t=t||function(){return n&&r.push(n)};return o?u.default.createElement(b,null,u.default.createElement("button",{className:"coz-bar-btn",onClick:c},u.default.createElement(p.Icon,{icon:y.default,color:g.default.coolGrey}))):a&&u.default.createElement("a",{onClick:c,className:f.default["back-arrow"]},u.default.createElement(p.Icon,{icon:y.default}))};_.propTypes={to:c.default.string,onClick:c.default.func,router:c.default.object},t.default=(0,i.default)((0,p.withBreakpoints)(),(0,h.default)({getLocation:function(e){return e.to}}))(_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(14),a=function(e){var t=e.category,r=e.className,a=void 0;try{void 0===t&&(t="uncategorized"),a=n(432)("./icon-cat-"+t+".svg")}catch(e){a=n(433)}return o.default.createElement(i.Icon,{icon:a.default,width:"2em",height:"2em",className:r})};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryIcon=t.CategoryChoice=t.CategoriesPage=t.withUpdateCategory=t.getCategories=t.getParentCategory=void 0;var o=n(120);Object.defineProperty(t,"getParentCategory",{enumerable:!0,get:function(){return o.getParentCategory}}),Object.defineProperty(t,"getCategories",{enumerable:!0,get:function(){return o.getCategories}});var i=n(1123),a=r(i),u=n(449),s=r(u),c=n(167),l=r(c),f=n(1182),d=r(f);t.withUpdateCategory=d.default,t.CategoriesPage=a.default,t.CategoryChoice=s.default,t.CategoryIcon=l.default},function(e,t,n){"use strict";var r={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null===e||void 0===e},isArray:Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return r.valueOrDefault(r.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,o){var i,a,u;if(r.isArray(e))if(a=e.length,o)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(r.isObject(e))for(u=Object.keys(e),a=u.length,i=0;i<a;i++)t.call(n,e[u[i]],u[i])},arrayEquals:function(e,t){var n,o,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,o=e.length;n<o;++n)if(i=e[n],a=t[n],i instanceof Array&&a instanceof Array){if(!r.arrayEquals(i,a))return!1}else if(i!==a)return!1;return!0},clone:function(e){if(r.isArray(e))return e.map(r.clone);if(r.isObject(e)){for(var t={},n=Object.keys(e),o=n.length,i=0;i<o;++i)t[n[i]]=r.clone(e[n[i]]);return t}return e},_merger:function(e,t,n,o){var i=t[e],a=n[e];r.isObject(i)&&r.isObject(a)?r.merge(i,a,o):t[e]=r.clone(a)},_mergerIf:function(e,t,n){var o=t[e],i=n[e];r.isObject(o)&&r.isObject(i)?r.mergeIf(o,i):t.hasOwnProperty(e)||(t[e]=r.clone(i))},merge:function(e,t,n){var o,i,a,u,s,c=r.isArray(t)?t:[t],l=c.length;if(!r.isObject(e))return e;for(n=n||{},o=n.merger||r._merger,i=0;i<l;++i)if(t=c[i],r.isObject(t))for(a=Object.keys(t),s=0,u=a.length;s<u;++s)o(a[s],e,t,n);return e},mergeIf:function(e,t){return r.merge(e,t,{merger:r._mergerIf})},extend:function(e){for(var t=function(t,n){e[n]=t},n=1,o=arguments.length;n<o;++n)r.each(arguments[n],t);return e},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},o=function(){this.constructor=n};return o.prototype=t.prototype,n.prototype=new o,n.extend=r.inherits,e&&r.extend(n.prototype,e),n.__super__=t.prototype,n}};e.exports=r,r.callCallback=r.callback,r.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},r.getValueOrDefault=r.valueOrDefault,r.getValueAtIndexOrDefault=r.valueAtIndexOrDefault},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withDispatch=void 0;var r=n(23),o=function(e){return(0,r.connect)(null,function(e){return{dispatch:e}})(e)};t.withDispatch=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSettings=t.initSettings=t.updateSettings=t.createSettings=t.fetchSettingsCollection=t.NewGroupSettings=t.GroupSettings=t.GroupsSettings=t.AccountSettings=t.AccountsSettings=t.Settings=t.DEFAULTS_SETTINGS=void 0;var o=n(1187),i=r(o),a=n(15),u=n(1193),s=r(u),c=n(1197),l=r(c),f=n(1199),d=r(f),h=n(1201),p=r(h),v=n(1202),y=r(v),m=t.DEFAULTS_SETTINGS={notifications:{balanceLower:{value:100,enabled:!1},transactionGreater:{value:30,enabled:!1},healthBillLinked:{enabled:!1},salaire:{enabled:!1},hebdo:{enabled:!1},mensuel:{enabled:!1}}};t.Settings=s.default,t.AccountsSettings=d.default,t.AccountSettings=l.default,t.GroupsSettings=y.default,t.GroupSettings=p.default,t.NewGroupSettings=h.NewGroupSettings;var g=(t.fetchSettingsCollection=function(){return(0,a.fetchCollection)("settings","io.cozy.bank.settings")},t.createSettings=function(e){return(0,a.createDocument)("io.cozy.bank.settings",e,{updateCollections:["settings"]})});t.updateSettings=function(e){return(0,a.updateDocument)(e)},t.initSettings=function(){return g(m)},t.getSettings=function(e){if(e&&e.data&&e.data.length>0){var t=e.data[0];return(0,i.default)(m,t)}return m}},function(e,t){e.exports={"btn--no-outline":"buttons_btn--no-outline_1RXzP"}},function(e,t,n){var r=n(10),o=n(7).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(7),o=n(44),i=n(66),a=n(259),u=n(17).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(123)("keys"),o=n(65);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(7).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(10),o=n(6),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(39)(Function.call,n(37).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){var r=n(10),o=n(178).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){"use strict";var r=n(47),o=n(46);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(47),o=n(46);e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(66),o=n(0),i=n(32),a=n(31),u=n(30),s=n(86),c=n(186),l=n(84),f=n(38),d=n(12)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,y,m,g){c(n,t,v);var b,_,w,x=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",E="values"==y,S=!1,C=e.prototype,O=C[d]||C["@@iterator"]||y&&C[y],T=O||x(y),A=y?E?x("entries"):T:void 0,j="Array"==t?C.entries||O:O;if(j&&(w=f(j.call(new e)))!==Object.prototype&&w.next&&(l(w,k,!0),r||u(w,d)||a(w,d,p)),E&&O&&"values"!==O.name&&(S=!0,T=function(){return O.call(this)}),r&&!g||!h&&!S&&C[d]||a(C,d,T),s[t]=T,s[k]=p,y)if(b={values:E?T:x("values"),keys:m?T:x("keys"),entries:A},g)for(_ in b)_ in C||i(C,_,b[_]);else o(o.P+o.F*(h||S),t,b);return b}},function(e,t,n){"use strict";var r=n(69),o=n(64),i=n(84),a={};n(31)(a,n(12)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(127),o=n(46);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(12)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(86),o=n(12)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(17),o=n(64);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(105),o=n(12)("iterator"),i=n(86);e.exports=n(44).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(549);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(20),o=n(68),i=n(18);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>u;)t[u++]=e;return t}},function(e,t,n){"use strict";var r=n(57),o=n(275),i=n(86),a=n(36);e.exports=n(185)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r,o,i,a=n(39),u=n(265),s=n(177),c=n(173),l=n(7),f=l.process,d=window.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,y=0,m={},g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){g.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++y]=function(){u("function"==typeof e?e:Function(e),t)},r(y),y},h=function(e){delete m[e]},"process"==n(40)(f)?r=function(e){f.nextTick(a(g,e,1))}:v&&v.now?r=function(e){v.now(a(g,e,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){var r=n(7),o=n(195).set,i=window.MutationObserver||window.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(40)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(i){var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(u&&u.resolve){var d=u.resolve();n=function(){d.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(25);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e,t,n){var r,o,i,a=Array(n),u=8*n-t-1,s=(1<<u)-1,c=s>>1,l=23===t?F(2,-24)-F(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=N(e),e!=e||e===I?(o=e!=e?1:0,r=s):(r=B(z(e)/q),e*(i=F(2,-r))<1&&(r--,i*=2),e+=r+c>=1?l/i:l*F(2,1-c),e*i>=2&&(r++,i/=2),r+c>=s?(o=0,r=s):r+c>=1?(o=(e*i-1)*F(2,t),r+=c):(o=e*F(2,c-1)*F(2,t),r=0));t>=8;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,u+=t;u>0;a[f++]=255&r,r/=256,u-=8);return a[--f]|=128*d,a}function o(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=e[s--],l=127&c;for(c>>=7;u>0;l=256*l+e[s],s--,u-=8);for(r=l&(1<<-u)-1,l>>=-u,u+=t;u>0;r=256*r+e[s],s--,u-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-I:I;r+=F(2,t),l-=a}return(c?-1:1)*r*F(2,l-t)}function i(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function u(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return r(e,52,8)}function l(e){return r(e,23,4)}function f(e,t,n){C(e[A],t,{get:function(){return this[n]}})}function d(e,t,n,r){var o=+n,i=E(o);if(i+t>e[H])throw L(j);var a=e[U]._b,u=i+e[Y],s=a.slice(u,u+t);return r?s:s.reverse()}function h(e,t,n,r,o,i){var a=+n,u=E(a);if(u+t>e[H])throw L(j);for(var s=e[U]._b,c=u+e[Y],l=r(+o),f=0;f<t;f++)s[c+f]=l[i?f:t-f-1]}var p=n(7),v=n(16),y=n(66),m=n(133),g=n(31),b=n(74),_=n(9),w=n(72),x=n(47),k=n(18),E=n(284),S=n(70).f,C=n(17).f,O=n(193),T=n(84),A="prototype",j="Wrong index!",M=p.ArrayBuffer,P=p.DataView,D=p.Math,L=p.RangeError,I=p.Infinity,R=M,N=D.abs,F=D.pow,B=D.floor,z=D.log,q=D.LN2,U=v?"_b":"buffer",H=v?"_l":"byteLength",Y=v?"_o":"byteOffset";if(m.ABV){if(!_(function(){M(1)})||!_(function(){new M(-1)})||_(function(){return new M,new M(1.5),new M(NaN),"ArrayBuffer"!=M.name})){M=function(e){return w(this,M),new R(E(e))};for(var V,W=M[A]=R[A],$=S(R),G=0;$.length>G;)(V=$[G++])in M||g(M,V,R[V]);y||(W.constructor=M)}var J=new P(new M(2)),K=P[A].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||b(P[A],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else M=function(e){w(this,M,"ArrayBuffer");var t=E(e);this._b=O.call(Array(t),0),this[H]=t},P=function(e,t,n){w(this,P,"DataView"),w(e,M,"DataView");var r=e[H],o=x(t);if(o<0||o>r)throw L("Wrong offset!");if(n=void 0===n?r-o:k(n),o+n>r)throw L("Wrong length!");this[U]=e,this[Y]=o,this[H]=n},v&&(f(M,"byteLength","_l"),f(P,"buffer","_b"),f(P,"byteLength","_l"),f(P,"byteOffset","_o")),b(P[A],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return i(d(this,4,e,arguments[1]))},getUint32:function(e){return i(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return o(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return o(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){h(this,1,e,a,t)},setUint8:function(e,t){h(this,1,e,a,t)},setInt16:function(e,t){h(this,2,e,u,t,arguments[2])},setUint16:function(e,t){h(this,2,e,u,t,arguments[2])},setInt32:function(e,t){h(this,4,e,s,t,arguments[2])},setUint32:function(e,t){h(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){h(this,4,e,l,t,arguments[2])},setFloat64:function(e,t){h(this,8,e,c,t,arguments[2])}});T(M,"ArrayBuffer"),T(P,"DataView"),g(P[A],m.VIEW,!0),t.ArrayBuffer=M,t.DataView=P},function(e,t,n){"use strict";var r=n(669);e.exports=Function.prototype.bind||r},function(e,t){function n(e){return e instanceof Date}e.exports=n},function(e,t,n){function r(e){var t=o(e),n=i(t).getTime()-a(t).getTime();return Math.round(n/u)+1}var o=n(1),i=n(76),a=n(106),u=6048e5;e.exports=r},function(e,t,n){"use strict";function r(e){if(!Object(a.a)(e)||Object(o.a)(e)!=u)return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(687),i=n(692),a=n(694),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object);t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=(t.shouldEnableTracking=function(){var e=document.querySelector("[role=application]");if(e&&e.dataset){var t=e.dataset.cozyTracking;if(""===t||"true"===t)return!0;if("false"===t)return!1}},t.getTracker=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==r)return r;try{!1===a&&Piwik.getTracker();var u=n(703);return r=u({url:e||"https://piwik.cozycloud.cc",siteId:t||255,injectScript:a}),i&&o(),r}catch(e){return console.warn(e),r=null,null}},t.configureTracker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!==r){var t=void 0,n=void 0,o=document.querySelector("[role=application]");if(o&&o.dataset){n=o.dataset.cozyAppName,t=o.dataset.cozyDomain||"";var i=t.indexOf(":");i>=0&&(t=t.substring(0,i))}e=Object.assign({userId:t,appDimensionId:1,app:n,heartbeat:15},e),parseInt(e.heartbeat)>0&&r.push(["enableHeartBeatTimer",parseInt(e.heartbeat)]),r.push(["setUserId",e.userId]),r.push(["setCustomDimension",e.appDimensionId,e.app])}});t.createTrackerMiddleware=function(){return function(e){return function(e){return function(t){return r&&t.trackEvent&&t.trackEvent.category&&t.trackEvent.action&&r.push(["trackEvent",t.trackEvent.category,t.trackEvent.action,t.trackEvent.name,t.trackEvent.value]),e(t)}}}},t.resetTracker=function(){r&&(r.disconnectFromHistory(),r=null)}},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){var r=n(80),o=n(42),i=r(o,"Map");e.exports=i},function(e,t,n){function r(e){if(!i(e))return!1;var t=o(e);return t==u||t==s||t==a||t==c}var o=n(91),i=n(34),a="[object AsyncFunction]",u="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(736),i=n(743),a=n(745),u=n(746),s=n(747);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e,t,n,a,u){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:o(e,t,n,a,r,u))}var o=n(748),i=n(59);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},function(e,t,n){var r=n(754),o=n(326),i=Object.prototype,a=i.propertyIsEnumerable,u=Object.getOwnPropertySymbols,s=u?function(e){return null==e?[]:(e=Object(e),r(u(e),function(t){return a.call(e,t)}))}:o;e.exports=s},function(e,t,n){var r=n(758),o=n(328),i=n(759),a=i&&i.isTypedArray,u=a?o(a):r;e.exports=u},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){function r(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(u.test(e)||!a.test(e)||null!=t&&e in Object(t))}var o=n(29),i=n(112),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=r},function(e,t,n){function r(e){return null==e?"":o(e)}var o=n(769);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){function r(e,t){return e&&o(e,t,i)}var o=n(344),i=n(93);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,7*n)}var o=n(113);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t),u=a(n,r),s=Math.abs(i(n,r));return n.setMonth(n.getMonth()-u*s),u*(s-(a(n,r)===-u))}var o=n(1),i=n(360),a=n(115);e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var o=n(155);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setHours(23,59,59,999),t}var o=n(1);e.exports=r},function(e,t,n){function r(e,t,n){var r=o(e,n),i=o(t,n);return r.getTime()===i.getTime()}var o=n(139);e.exports=r},function(e,t,n){function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var o=n(225),i=n(226);r.prototype=o(i.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){var r=n(34),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e){return a(i(e,void 0,o),e+"")}var o=n(891),i=n(348),a=n(349);e.exports=r},function(e,t,n){function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var o=n(225),i=n(226),a=4294967295;r.prototype=o(i.prototype),r.prototype.constructor=r,e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.icon,n=e.width,r=e.height,o=e.color,i=e.className,u=e.preserveColor,s=e.style,c=void 0;if(!(c=t.id?"#"+t.id:"#"===t[0]?t:d.default[t].id?"#"+d.default[t].id:d.default[t]))throw new Error("Icon not found "+t+".\nAvailable icons : "+Object.keys(d.default));s=Object.assign({},s),o&&(s.fill=o);var f=u?"icon--preserveColor":"icon",h=i?l.default[f]+" "+i:l.default[f];return a.default.createElement("svg",{className:h,style:s,width:n||"1em",height:r||"1em"},a.default.createElement("use",{xlinkHref:c}))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),u=n(5),s=r(u),c=n(902),l=r(c),f=n(903),d=r(f);o.propTypes={icon:s.default.oneOfType([s.default.string,s.default.object]).isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),color:s.default.oneOfType([s.default.string,s.default.object]),className:s.default.string,preserveColor:s.default.bool},t.default=o},function(e,t,n){function r(e,t,n){var r=e[t];u.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||o(e,t,n)}var o=n(96),i=n(111),a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(329),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=n(322);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.mapValues=function(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n},t.filterValues=function(e,t){var n={};for(var r in e)t(e[r],r)&&(n[r]=e[r]);return n},t.sleep=function(e,t){return new Promise(function(n){setTimeout(n,e,t)})}),o=(t.retry=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return function o(){for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return e.apply(void 0,u).catch(function(e){if(--t<0)throw e;return r(i(n,t)).then(function(){return o.apply(void 0,u)})})}},t.getFuzzedDelay=function(e){return e*(1+.3*(2*Math.random()-1))}),i=t.getBackedoffDelay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o(e*Math.pow(2,t-1))}},function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(974),o=n.n(r),i="function"==typeof Promise?Promise:o.a;t.default=i},function(e,t,n){"use strict";function r(e){return"$"+e}function o(e){return e.substring(1)}function i(){this._store={}}function a(e){if(this._store=new i,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}n.d(t,"b",function(){return u}),n.d(t,"a",function(){return s}),i.prototype.get=function(e){var t=r(e);return this._store[t]},i.prototype.set=function(e,t){var n=r(e);return this._store[n]=t,!0},i.prototype.has=function(e){return r(e)in this._store},i.prototype.delete=function(e){var t=r(e),n=t in this._store;return delete this._store[t],n},i.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n],a=this._store[i];i=o(i),e(a,i)}},Object.defineProperty(i.prototype,"size",{get:function(){return Object.keys(this._store).length}}),a.prototype.add=function(e){return this._store.set(e,!0)},a.prototype.has=function(e){return this._store.has(e)},a.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(a.prototype,"size",{get:function(){return this._store.size}});var u,s;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(u=a,s=i):(u=Set,s=Map)},function(e,t,n){"use strict";function r(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function o(e,t,n){return r(e,t,n)+e}function i(e,t){if(e===t)return 0;e=a(e),t=a(t);var n=v(e),r=v(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return h(e,t)}return Array.isArray(e)?d(e,t):p(e,t)}function a(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=a(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=a(i))}}}}return e}function u(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return y(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=s(n[r]);else for(;++r<o;){var a=n[r];i+=s(a)+s(e[a])}return i}return""}function s(e){return e=a(e),v(e)+b+u(e)+"\0"}function c(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+g),u=parseInt(a,10)+m;for(o&&(u=-u),t+=g;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function l(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function f(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=c(e,r);t.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var f={element:{},index:t.length};t.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();l(t,n)}}}function d(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=i(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function h(e,t){return e===t?0:e>t?1:-1}function p(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),a=0;a<o;a++){var u=i(n[a],r[a]);if(0!==u)return u;if(0!==(u=i(e[n[a]],t[r[a]])))return u}return n.length===r.length?0:n.length>r.length?1:-1}function v(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function y(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",a=(r?-n:n)-m,u=o(a.toString(),"0",g);i+=b+u;var s=Math.abs(parseFloat(t[0]));r&&(s=10-s);var c=s.toFixed(20);return c=c.replace(/\.?0+$/,""),i+=b+c}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"collate",function(){return i}),n.d(t,"normalizeKey",function(){return a}),n.d(t,"toIndexableString",function(){return s}),n.d(t,"parseIndexableString",function(){return f});var m=-324,g=3,b=""},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o={syncStatus:"pending",lastSync:null,seqNumber:0},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"START_DOCTYPE_SYNC":return Object.assign({},e,{syncStatus:"syncing",seqNumber:t.seqNumber});case"SYNC_DOCTYPE_OK":return Object.assign({},e,{syncStatus:"done",lastSync:Date.now()});case"SYNC_DOCTYPE_ERROR":return Object.assign({},e,{syncStatus:"error",lastSync:Date.now()});default:return e}},a={started:!1,initialStatus:"pending",doctypes:{}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case"START_SYNC":return Object.assign({},e,{started:!0});case"INITIAL_SYNC_OK":return Object.assign({},e,{initialStatus:"ok"});case"INITIAL_SYNC_ERROR":return Object.assign({},e,{initialStatus:"error"});case"START_DOCTYPE_SYNC":case"SYNC_DOCTYPE_OK":case"SYNC_DOCTYPE_ERROR":return Object.assign({},e,{doctypes:Object.assign({},e.doctypes,r({},t.doctype,i(e.doctypes[t.doctype],t)))});default:return e}};t.default=u;var s=(t.startSync=function(){return{types:["START_SYNC","INITIAL_SYNC_OK","INITIAL_SYNC_ERROR"],promise:function(e,t){return e.startSync(t)}}},t.startDoctypeSync=function(e){return{type:"START_DOCTYPE_SYNC",doctype:e,seqNumber:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},t.syncDoctypeOk=function(e,t){return{type:"SYNC_DOCTYPE_OK",doctype:e,infos:t}},t.syncDoctypeError=function(e,t){return{type:"SYNC_DOCTYPE_ERROR",doctype:e,error:t}},t.hasSyncStarted=function(e){return e.cozy.synchronization.started},t.isSyncOk=function(e){return"ok"===e.cozy.synchronization.initialStatus}),c=t.isSyncInError=function(e){return"error"===e.cozy.synchronization.initialStatus};t.isFirstSync=function(e){return Object.keys(e.cozy.synchronization.doctypes).map(function(t){return e.cozy.synchronization.doctypes[t].seqNumber}).every(function(e){return 0===e})},t.isSynced=function(e){return s(e)||c(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.isCollectionFetched=t.getDocument=t.getCollection=t.enhancePropsForActions=t.applySelectorForAction=t.makeFetchMoreAction=t.makeActionCreator=t.removeReferencedFiles=t.addReferencedFiles=t.trashFile=t.createFile=t.deleteDocuments=t.deleteDocument=t.updateDocuments=t.updateDocument=t.createDocument=t.fetchReferencedFiles=t.fetchDocument=t.refetchCollections=t.fetchCollection=t.makeFetchCollection=t.CREATE_DOCUMENT=void 0;var u=n(89),s=n(234),c=n(390),l=r(c),f=n(408),d=r(f),h=n(239),p=r(h),v=t.CREATE_DOCUMENT="CREATE_DOCUMENT",y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"RECEIVE_DATA":if(0===t.response.data.length)return e;var n=t.response.data,r=k(n);return Object.assign({},e,a({},r,Object.assign({},e[r],m(n))));case"RECEIVE_NEW_DOCUMENT":case"RECEIVE_UPDATED_DOCUMENT":if(0===t.response.data.length)return e;var o=t.response.data[0];return Object.assign({},e,a({},o._type,Object.assign({},e[o._type],a({},o.id,o))));case"RECEIVE_UPDATED_DOCUMENTS":if(0===t.response.data.length)return e;var i=t.response.data,u=i[0]._type;return Object.assign({},e,a({},u,Object.assign({},e[u],i.reduce(function(e,t){return(e[t.id]=t)&&e},{}))));case"RECEIVE_DELETED_DOCUMENT":if(0===t.response.data.length)return e;var s=t.response.data[0];return Object.assign({},e,a({},s._type,(0,l.default)(e[s._type],s.id)));case"RECEIVE_DELETED_DOCUMENTS":if(0===t.response.data.length)return e;var c=t.response.data,f=c[0];return Object.assign({},e,a({},f._type,(0,l.default)(e[f._type],c.map(function(e){return e.id}))));case"ADD_REFERENCED_FILES":return Object.assign({},e,{"io.cozy.files":Object.assign({},e["io.cozy.files"],b(e["io.cozy.files"],t.ids,t.document))});case"REMOVE_REFERENCED_FILES":return Object.assign({},e,{"io.cozy.files":Object.assign({},e["io.cozy.files"],w(e["io.cozy.files"],t.ids,t.document))});default:return e}},m=function(e){return e.reduce(function(e,t){return Object.assign({},e,a({},t.id,t))},{})},g=function(e,t){var n=e.relationships,r=n.referenced_by,a=i(n,["referenced_by"]),u=i(e,["relationships"]);return Object.assign({},u,{relationships:Object.assign({},a,{referenced_by:{data:null===r.data?[{id:t.id,type:t.type}]:[].concat(o(r.data),[{id:t.id,type:t.type}])}})})},b=function(e,t,n){return t.reduce(function(t,r){return Object.assign({},t,a({},r,g(e[r],n)))},{})},_=function(e,t){var n=e.relationships,r=n.referenced_by,o=i(n,["referenced_by"]),a=i(e,["relationships"]);return Object.assign({},a,{relationships:Object.assign({},o,{referenced_by:{data:r.data.filter(function(e){return e.type!==t.type&&e.id!==t.id})}})})},w=function(e,t,n){return t.reduce(function(t,r){return Object.assign({},t,a({},r,_(e[r],n)))},{})},x=function(e){var t=e._type;return"file"===t?"io.cozy.files":t},k=function(e){return x(e[0])},E={type:null,options:{},fetchStatus:"pending",lastFetch:null,hasMore:!1,count:0,ids:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return Object.assign({},e,{type:t.doctype||"io.cozy.files",options:t.options,fetchStatus:t.skip>0?"loadingMore":"loaded"===e.fetchStatus?"loaded":"loading"});case"RECEIVE_DATA":var n=t.response;return Object.assign({},e,{fetchStatus:"loaded",lastFetch:Date.now(),hasMore:void 0!==n.next?n.next:e.hasMore,count:n.meta&&n.meta.count?n.meta.count:n.data.length,ids:t.skip?[].concat(o(e.ids),o(n.data.map(function(e){return e.id}))):n.data.map(function(e){return e.id})});case"ADD_REFERENCED_FILES":return Object.assign({},e,{type:"io.cozy.files",count:e.count+t.ids.length,ids:[].concat(o(e.ids),o(t.ids))});case"REMOVE_REFERENCED_FILES":return Object.assign({},e,{count:e.count-t.ids.length,ids:e.ids.filter(function(e){return-1===t.ids.indexOf(e)})});case"RECEIVE_ERROR":return Object.assign({},e,{fetchStatus:"failed"});case"RECEIVE_NEW_DOCUMENT":return Object.assign({},e,{ids:[].concat(o(e.ids),[t.response.data[0].id])});case"RECEIVE_DELETED_DOCUMENT":return Object.assign({},e,{ids:e.ids.filter(function(e){return e!==t.response.data[0].id})});case"RECEIVE_DELETED_DOCUMENTS":var r=new Set(t.response.data.map(function(e){return e.id})),i=e.ids.filter(function(e){return!r.has(e)});return Object.assign({},e,{ids:i});default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":case"ADD_REFERENCED_FILES":case"REMOVE_REFERENCED_FILES":case"RECEIVE_DATA":case"RECEIVE_ERROR":return t.collection?Object.assign({},e,a({},t.collection,S(e[t.collection],t))):e;case"RECEIVE_NEW_DOCUMENT":case"RECEIVE_DELETED_DOCUMENT":case"RECEIVE_DELETED_DOCUMENTS":return t.updateCollections?Object.assign({},e,function(e,n){return n.updateCollections.reduce(function(n,r){return Object.assign({},n,a({},r,S(e[r],t)))},{})}(e,t)):e;default:return e}},O=(0,u.combineReducers)({collections:C,documents:y,sharings:d.default,synchronization:p.default}),T=function(e,t){return"RESET_STORE"===t.type&&(e=void 0),O(e,t)};t.default=T;var A=t.makeFetchCollection=function(e,t,n){return{types:["FETCH_COLLECTION","RECEIVE_DATA","RECEIVE_ERROR"],collection:e,doctype:t,options:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},skip:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,promise:n}},j=t.fetchCollection=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return A(e,t,function(o){return o.fetchDocuments(e,t,n,r)},n,r)},M=(t.refetchCollections=function(){return function(e,t){var n=L(t());return Object.keys(n).map(function(t){var r=n[t],o=r.type,i=r.options;e(j(t,o,i))})}},t.fetchDocument=function(e,t){return{types:["FETCH_DOCUMENT","RECEIVE_DATA","RECEIVE_ERROR"],doctype:e,id:t,promise:function(n){return n.fetchDocument(e,t)}}},t.fetchReferencedFiles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{types:["FETCH_REFERENCED_FILES","RECEIVE_DATA","RECEIVE_ERROR"],collection:e._type+"/"+e.id+"#files",document:e,options:{},skip:t,promise:function(n){return n.fetchReferencedFiles(e,t)}}}),P=(t.createDocument=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign({types:[v,"RECEIVE_NEW_DOCUMENT","RECEIVE_ERROR"],doctype:e,document:t,promise:function(n){return n.createDocument(e,t)}},n)},t.updateDocument=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({types:["UPDATE_DOCUMENT","RECEIVE_UPDATED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.updateDocument(e)}},t)},t.updateDocuments=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object.assign({types:["UPDATE_DOCUMENTS","RECEIVE_UPDATED_DOCUMENTS","RECEIVE_ERROR"],promise:function(r){return r.updateDocuments(e,t,n)}},r)},t.deleteDocument=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({types:["DELETE_DOCUMENT","RECEIVE_DELETED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.deleteDocument(e)}},t)},t.deleteDocuments=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign({types:["DELETE_DOCUMENTS","RECEIVE_DELETED_DOCUMENTS","RECEIVE_ERROR"],promise:function(n){return n.deleteDocuments(e,t)}},n)},t.createFile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign({types:[v,"RECEIVE_NEW_DOCUMENT","RECEIVE_ERROR"],doctype:"io.cozy.files",promise:function(n){return n.createFile(e,t)}},n)},t.trashFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({types:["DELETE_DOCUMENT","RECEIVE_DELETED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.trashFile(e)}},t)},t.addReferencedFiles=function(e,t){return{type:"ADD_REFERENCED_FILES",collection:e._type+"/"+e._id+"#files",document:e,ids:t,promise:function(n){return n.addReferencedFiles(e,t)}}},t.removeReferencedFiles=function(e,t){return{type:"REMOVE_REFERENCED_FILES",collection:e._type+"/"+e._id+"#files",document:e,ids:t,promise:function(n){return n.removeReferencedFiles(e,t)}}},t.makeActionCreator=function(e){return{promise:e}},t.makeFetchMoreAction=function(e,t){var n=e.types,r=e.collection,o=e.document,i=e.doctype,a=e.options;return"FETCH_REFERENCED_FILES"===n[0]?M(o,t):j(r,i,a,t)}),D=(t.applySelectorForAction=function(e,t){switch(t.types[0]){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return R(e,t.collection);case"FETCH_DOCUMENT":return N(e,t.doctype,t.id);case f.FETCH_SHARINGS:return t.id?(0,f.getSharingDetails)(e,t.doctype,t.id,t.options):(0,f.getSharings)(e,t.doctype,t.options);default:return null}},t.enhancePropsForActions=function(e,t,n){return(0,s.mapValues)(t,function(t,r){var o=e[r];switch(t.types[0]){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return Object.assign({},o,{fetchMore:o.hasMore?function(){return n(P(t,o.data.length))}:null});default:return o}})},function(e,t,n){return n.map(function(n){return e[t][n]})}),L=function(e){return e.cozy.collections},I=function(e){return e.cozy.documents},R=t.getCollection=function(e,t){var n=L(e)[t];return n?Object.assign({},n,{data:D(I(e),n.type,n.ids)}):Object.assign({},E,{data:null})},N=t.getDocument=function(e,t,n){var r=e.cozy.documents[t];return r?r[n]:null};t.isCollectionFetched=function(e,t){return e.cozy.collections[t]&&"loaded"===e.cozy.collections[t].fetchStatus}},function(e,t,n){"use strict";function r(e,t,n){function r(){if(a=!0,u)return void(c=[].concat(Array.prototype.slice.call(arguments)));n.apply(this,arguments)}function o(){if(!a&&(s=!0,!u)){for(u=!0;!a&&i<e&&s;)s=!1,t.call(this,i++,o,r);if(u=!1,a)return void n.apply(this,c);i>=e&&s&&(a=!0,n())}}var i=0,a=!1,u=!1,s=!1,c=void 0;o()}function o(e,t,n){function r(e,t,r){a||(t?(a=!0,n(t)):(i[e]=r,(a=++u===o)&&n(null,i)))}var o=e.length,i=[];if(0===o)return n(null,i);var a=!1,u=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.a=r,t.b=o},function(e,t,n){"use strict";var r=n(26),o=n.n(r),i=n(2),a=n(53),u=n.n(a),s=n(5),c=(n.n(s),n(1002)),l=n(243),f=n(60),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=u()({displayName:"RouterContext",mixins:[Object(l.a)("router")],propTypes:{router:s.object.isRequired,location:s.object.isRequired,routes:s.array.isRequired,params:s.object.isRequired,components:s.array.isRequired,createElement:s.func.isRequired},getDefaultProps:function(){return{createElement:i.default.createElement}},childContextTypes:{router:s.object.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,a=t.params,u=t.components,s=t.router,l=null;return u&&(l=u.reduceRight(function(t,o,i){if(null==o)return t;var u=r[i],l=Object(c.a)(u,a),p={location:n,params:a,route:u,router:s,routeParams:l,routes:r};if(Object(f.c)(t))p.children=t;else if(t)for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&(p[v]=t[v]);if("object"===(void 0===o?"undefined":h(o))){var y={};for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(y[m]=e.createElement(o[m],d({key:m},p)));return y}return e.createElement(o,p)},l)),null===l||!1===l||i.default.isValidElement(l)||o()(!1),l}});t.a=p},function(e,t,n){"use strict";function r(e){return"@@contextSubscriber/"+e}function o(e){var t,n,o=r(e),i=o+"/listeners",a=o+"/eventIndex",u=o+"/subscribe";return n={childContextTypes:(t={},t[o]=s.isRequired,t),getChildContext:function(){var e;return e={},e[o]={eventIndex:this[a],subscribe:this[u]},e},componentWillMount:function(){this[i]=[],this[a]=0},componentWillReceiveProps:function(){this[a]++},componentDidUpdate:function(){var e=this;this[i].forEach(function(t){return t(e[a])})}},n[u]=function(e){var t=this;return this[i].push(e),function(){t[i]=t[i].filter(function(t){return t!==e})}},n}function i(e){var t,n,o=r(e),i=o+"/lastRenderedEventIndex",a=o+"/handleContextUpdate",u=o+"/unsubscribe";return n={contextTypes:(t={},t[o]=s,t),getInitialState:function(){var e;return this.context[o]?(e={},e[i]=this.context[o].eventIndex,e):{}},componentDidMount:function(){this.context[o]&&(this[u]=this.context[o].subscribe(this[a]))},componentWillReceiveProps:function(){var e;this.context[o]&&this.setState((e={},e[i]=this.context[o].eventIndex,e))},componentWillUnmount:function(){this[u]&&(this[u](),this[u]=null)}},n[a]=function(e){if(e!==this.state[i]){var t;this.setState((t={},t[i]=e,t))}},n}t.a=o,t.b=i;var a=n(5),u=n.n(a),s=u.a.shape({subscribe:u.a.func.isRequired,eventIndex:u.a.number.isRequired})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(5),o=(n.n(r),Object(r.shape)({push:r.func.isRequired,replace:r.func.isRequired,go:r.func.isRequired,goBack:r.func.isRequired,goForward:r.func.isRequired,setRouteLeaveHook:r.func.isRequired,isActive:r.func.isRequired})),i=Object(r.shape)({pathname:r.string.isRequired,search:r.string.isRequired,state:r.object,action:r.string.isRequired,key:r.string})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(50),o=(function(e){e&&e.__esModule}(r),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1014),o=n(61),i=n(245),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(161),s=n(101),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getCurrentLocation,n=e.getUserConfirmation,i=e.pushLocation,c=e.replaceLocation,l=e.go,f=e.keyLength,d=void 0,h=void 0,p=[],v=[],y=[],m=function(){return h&&h.action===u.POP?y.indexOf(h.key):d?y.indexOf(d.key):-1},g=function(e){var t=m();d=e,d.action===u.PUSH?y=[].concat(y.slice(0,t+1),[d.key]):d.action===u.REPLACE&&(y[t]=d.key),v.forEach(function(e){return e(d)})},b=function(e){return p.push(e),function(){return p=p.filter(function(t){return t!==e})}},_=function(e){return v.push(e),function(){return v=v.filter(function(t){return t!==e})}},w=function(e,t){(0,r.loopAsync)(p.length,function(t,n,r){(0,a.default)(p[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(!1!==e)}):t(!1!==e)})},x=function(e){d&&(0,s.locationsAreEqual)(d,e)||h&&(0,s.locationsAreEqual)(h,e)||(h=e,w(e,function(t){if(h===e)if(h=null,t){if(e.action===u.PUSH){var n=(0,o.createPath)(d),r=(0,o.createPath)(e);r===n&&(0,s.statesAreEqual)(d.state,e.state)&&(e.action=u.REPLACE)}e.action===u.POP?g(e):e.action===u.PUSH?!1!==i(e)&&g(e):e.action===u.REPLACE&&!1!==c(e)&&g(e)}else if(d&&e.action===u.POP){var a=y.indexOf(d.key),f=y.indexOf(e.key);-1!==a&&-1!==f&&l(a-f)}}))},k=function(e){return x(A(e,u.PUSH))},E=function(e){return x(A(e,u.REPLACE))},S=function(){return l(-1)},C=function(){return l(1)},O=function(){return Math.random().toString(36).substr(2,f||6)},T=function(e){return(0,o.createPath)(e)},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O();return(0,s.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:b,listen:_,transitionTo:x,push:k,replace:E,go:l,goBack:S,goForward:C,createKey:O,createPath:o.createPath,createHref:T,createLocation:A}};t.default=c},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(101),o=n(162),i=n(422),a=n(61),u=n(247),s=u.canUseDOM&&!(0,o.supportsPopstateOnHashchange)(),c=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,i.readState)(t):void 0},void 0,t)},l=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return c(e)},f=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){(0,o.isExtraneousPopstateEvent)(t)||e(c(t.state))};(0,o.addEventListener)(window,"popstate",t);var n=function(){return e(l())};return s&&(0,o.addEventListener)(window,"hashchange",n),function(){(0,o.removeEventListener)(window,"popstate",t),s&&(0,o.removeEventListener)(window,"hashchange",n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,i.saveState)(r,n),t({key:r},(0,a.createPath)(e))});t.pushLocation=function(e){return f(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return f(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(1033),h=r(d),p=n(13),v=r(p),y=function(e){var t=e.style.overflow;return e.style.overflow="hidden",function(){e.style.overflow=t}},m=27,g=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleKeydown=function(e){e.keyCode===m&&r.props.onEscape()},r.handleClick=function(e){r.props.onClick&&e.target===e.currentTarget&&r.props.onClick()},o=n,a(r,o)}return u(t,e),c(t,[{key:"componentDidMount",value:function(){this.restoreScrollBody=y(document.body),this.restoreScrollHtml=y(document.body.parentNode),this.props.onEscape&&document.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){this.restoreScrollBody&&this.restoreScrollBody(),this.restoreScrollBody&&this.restoreScrollHtml(),this.props.onEscape&&document.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=(e.onClick,o(e,["children","className","onClick"]));return f.default.createElement("div",s({onClick:this.handleClick,className:(0,v.default)(h.default["c-overlay"],n)},r),t)}}]),t}(l.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1043),c=r(s),l=n(2),f=r(l),d=n(5),h=r(d),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"onChange",value:function(){this.props.onToggle&&this.props.onToggle(!this.props.checked)}},{key:"render",value:function(e,t){return f.default.createElement("span",{className:c.default.toggle},f.default.createElement("input",{type:"checkbox",id:e.id,className:c.default.checkbox,checked:e.checked,onChange:this.onChange.bind(this)}),f.default.createElement("label",{htmlFor:e.id,className:c.default.label}))}}]),t}(l.Component);p.propTypes={id:h.default.string.isRequired,checked:h.default.bool,onToggle:h.default.func},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1050);Object.defineProperty(t,"Media",{enumerable:!0,get:function(){return r.Media}}),Object.defineProperty(t,"Bd",{enumerable:!0,get:function(){return r.Bd}}),Object.defineProperty(t,"Img",{enumerable:!0,get:function(){return r.Img}})},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBillInvoice=t.getInvoice=t.getBill=t.getLabel=void 0;var i=n(19),a=r(i),u=n(335),s=r(u),c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=(t.getLabel=function(e){return e.label.toLowerCase().replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},t.getBill=function(e){return(0,s.default)(e,"bills[0]")}),f=(t.getInvoice=function(){var t=o(a.default.mark(function t(n){var r,o,i,u,s,d;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=l(n),o=r.split(":"),i=c(o,2),u=i[0],s=i[1],t.next=4,e.data.find(u,s);case 4:return d=t.sent,t.abrupt("return",f(d));case 6:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),t.getBillInvoice=function(e){if(!e.invoice)throw new Error("This bill has no invoice : ",e);var t=e.invoice.split(":"),n=c(t,2),r=n[0],o=n[1];if(!r||!o)throw new Error("Invoice is malformed. invoice: "+e.invoice);return[r,o]})}).call(t,n(27))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.HealthExpenseStatusIcon=t.PrimaryActionIcon=t.PrimaryAction=t.Action=t.ActionIcon=t.getLinkType=void 0;var l,f=n(19),d=r(f),h=n(1104),p=r(h),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=n(2),g=r(m),b=n(5),_=r(b),w=n(14),x=n(62),k=n(83),E=r(k),S=n(1106),C=r(S),O=n(1107),T=r(O),A=n(1108),j=r(A),M=n(1109),P=r(M),D=n(1110),L=r(D),I=n(252),R=n(1111),N=r(R),F=n(1119),B=r(F),z=n(255),q="app",U="bill",H="refund",Y="healthExpenseBill",V="url",W=(l={},c(l,"alert",T.default),c(l,q,j.default),c(l,"attach",P.default),c(l,U,L.default),c(l,"comment",C.default),c(l,H,j.default),c(l,V,j.default),c(l,Y,L.default),l),$=E.default.dodgerBlue,G=function(e,t){var n=t.label.toLowerCase();return(0,p.default)(e,function(e,t){return e&&-1!==n.indexOf(t.toLowerCase())})},J=function(e){return"400600"===e||"400610"===e||"400620"===e},K=t.getLinkType=function(e,t){var n=e.action,r=G(t,e);return J((0,x.getCategoryId)(e))&&t.HEALTH?H:r?q:(0,I.getBill)(e)?U:n&&n.type===V?V:void 0},Z=function(e){var t=e.type,n=e.color,r=s(e,["type","color"]),o=W[t];return o?g.default.createElement(w.Icon,y({icon:o,color:n},r)):null};t.ActionIcon=Z;var X=function(e){function t(e){var n=this;i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setType=function(e){var t=r.props,n=t.type,o=t.transaction,i=t.urls;r.setState({type:e||n||o&&K(o,i)})},r.setInvoiceFileId=o(d.default.mark(function e(){var t,o,i,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.type,o=r.props,i=o.bill,a=o.transaction,t){e.next=4;break}return e.abrupt("return");case 4:if(u=void 0,e.prev=5,t!==U){e.next=12;break}return e.next=9,(0,I.getInvoice)(a);case 9:u=e.sent,e.next=16;break;case 12:if(t!==Y||!i){e.next=16;break}return e.next=15,(0,I.getBillInvoice)(i);case 15:u=e.sent;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log("no invoice",i);case 21:u&&r.setState({invoiceFileId:u});case 22:case"end":return e.stop()}},e,n,[[5,18]])})),r.getInfo=function(){var e=r.state.type,t=r.props,n=t.t,o=t.urls,i=t.transaction,a=t.bill;if(e===H)return{href:o.HEALTH+"/#/remboursements",text:n("Transactions.actions."+e)};if(e===q){var u=G(o,i);return{href:o[u],text:n("Transactions.actions."+e,{appName:u})}}if(e===V){var s=i.action;return{text:s.trad,target:s.target,href:s.url}}return e===Y&&a?{text:n("Transactions.actions."+e).replace("%{vendor}",a.vendor)}:{text:n("Transactions.actions."+e)}},r.getGenericWidget=function(){var e=r.props,t=e.onClick,n=e.color,o=r.getInfo(),i=o.href,a=o.text,u=o.target;return g.default.createElement("a",{href:i,target:u,onClick:t,style:{color:n},className:B.default.TransactionAction},a)},r.getWidget=function(){var e=r.state,t=e.type,n=e.invoiceFileId,o=r.getGenericWidget();return t===U||t===Y?n?g.default.createElement(N.default,{getFileId:function(){return n}},o):void 0:o},r.getIconColor=function(){return r.props.color},r.state={},r.setType(),r.setInvoiceFileId(),r}return u(t,e),v(t,[{key:"componentWillReceiveProps",value:function(e){e.type!==this.state.type&&this.setType(e.type)}},{key:"render",value:function(){var e=this.state.type,t=this.props.showIcon;if(void 0!==e){var n=this.getWidget();if(void 0!==n){var r=this.getIconColor();return g.default.createElement("span",null,t&&g.default.createElement(Z,{type:e,className:"u-mr-half",color:r}),n)}}}}]),t}(m.Component),Q=t.Action=(0,w.translate)()(X),ee=function(e){var t=e.disabled,n=e.onClick,r=e.type,o=e.color,i=e.bill;return g.default.createElement(w.MenuItem,{disabled:t,onClick:n,icon:g.default.createElement(Z,{type:r,color:o})},g.default.createElement(Q,{type:r,color:o,bill:i}))},te=function(e){var t=e.transaction,n=e.urls,r=e.withoutDefault,o=e.onSelect,i=e.onSelectDisabled,a=K(t,n),u=!r&&a,s=(0,x.isHealthExpense)(t);return g.default.createElement("div",null,u&&!s&&g.default.createElement(w.MenuItem,{onClick:o,icon:g.default.createElement(re,{type:a})},g.default.createElement(ne,{transaction:t,urls:n,onClick:o})),s&&t.reimbursements&&t.reimbursements.map(function(e){return e.bill&&g.default.createElement(ee,{type:Y,bill:e.bill,color:$})}).filter(Boolean),g.default.createElement(ee,{type:"attach",disabled:!0,onClick:i}),g.default.createElement(ee,{type:"comment",disabled:!0,onClick:i}),g.default.createElement(ee,{type:"alert",disabled:!0,onClick:i}))},ne=t.PrimaryAction=function(e){return g.default.createElement(Q,y({},e,{color:$}))},re=t.PrimaryActionIcon=function(e){return g.default.createElement(Z,y({},e,{color:$}))},oe=function(e){var t=e.transaction,n=s(e,["transaction"]),r=(0,z.getVendors)(t),o=r.length>0?$:E.default.pomegranate;return g.default.createElement(Z,y({},n,{color:o}))};t.HealthExpenseStatusIcon=oe,te.propTypes={transaction:_.default.object.isRequired,urls:_.default.object.isRequired,withoutDefault:_.default.bool,onSelect:_.default.func.isRequired,onSelectDisabled:_.default.func.isRequired},t.default=te},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1117),i=r(o),a=n(1118),u=r(a),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t||(t=e,e="info");var r=document.createElement("div");r.classList.add(u.default.flash,u.default["flash--"+e]),r.innerHTML=t,document.body.appendChild(r),(0,i.default)(r,{opacity:[1,0],translateY:[0,-200]},{duration:300}),setTimeout(function(){(0,i.default)(r,{translateY:-200,opacity:0},{duration:300,complete:function(){document.body.removeChild(r)}})},n.duration||3e3)};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1120);Object.defineProperty(t,"HealthExpenseStatus",{enumerable:!0,get:function(){return r(o).default}}),Object.defineProperty(t,"HealthExpenseStatusIcon",{enumerable:!0,get:function(){return o.HealthExpenseStatusIcon}});var i=n(436);Object.defineProperty(t,"getVendors",{enumerable:!0,get:function(){return i.getVendors}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"plus",use:"plus-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="plus">\n    \x3c!-- Generator: Sketch 43 (38999) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>icons/16/plus</title>\n    <desc>Created with Sketch.</desc>\n        <polygon id="plus_path-1" points="7 0 9 0 9 7 16 7 16 9 9 9 9 16 7 16 7 9 0 9 0 7 7 7" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(21),s=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(23),h=n(116),p=function(e){return{fetchApps:function(){return e((0,h.fetchApps)())}}},v=function(e){return{collectUrl:(0,h.getAppUrlBySource)(e,"github.com/cozy/cozy-collect")}},y=(0,s.default)((0,d.connect)(v,p))(function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.fetchApps()}},{key:"render",value:function(){var e=this.props.collectUrl+"#/providers/banking";return f.default.createElement("span",{onClick:function(){window.location=e}},this.props.children)}}]),t}(l.Component)),m=function(e){return f.default.createElement(y,e)};t.default=m},function(e,t,n){e.exports=!n(16)&&!n(9)(function(){return 7!=Object.defineProperty(n(173)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(12)},function(e,t,n){var r=n(30),o=n(36),i=n(124)(!1),a=n(175)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(17),o=n(6),i=n(67);e.exports=n(16)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(36),o=n(70).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},function(e,t,n){"use strict";var r=n(67),o=n(125),i=n(104),a=n(20),u=n(103),s=Object.assign;e.exports=!s||n(9)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,f=i.f;s>c;)for(var d,h=u(arguments[c++]),p=l?r(h).concat(l(h)):r(h),v=p.length,y=0;v>y;)f.call(h,d=p[y++])&&(n[d]=h[d]);return n}:s},function(e,t,n){"use strict";var r=n(25),o=n(10),i=n(265),a=[].slice,u={},s=function(e,t,n){if(!(t in u)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?s(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(7).parseInt,o=n(85).trim,i=n(179),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(7).parseFloat,o=n(85).trim;e.exports=1/r(n(179)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(40);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(10),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(182),o=Math.pow,i=o(2,-52),a=o(2,-23),u=o(2,127)*(2-a),s=o(2,-126),c=function(e){return e+1/i-1/i};e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),l=r(e);return o<s?l*c(o/s/a)*s*a:(t=(1+a/i)*o,n=t-(t-o),n>u||n!=n?l*(1/0):l*n)}},function(e,t,n){var r=n(6);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(25),o=n(20),i=n(103),a=n(18);e.exports=function(e,t,n,u,s){r(t);var c=o(e),l=i(c),f=a(c.length),d=s?f-1:0,h=s?-1:1;if(n<2)for(;;){if(d in l){u=l[d],d+=h;break}if(d+=h,s?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;s?d>=0:f>d;d+=h)d in l&&(u=t(u,l[d],d,c));return u}},function(e,t,n){"use strict";var r=n(20),o=n(68),i=n(18);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),u=o(e,a),s=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-s,a-u),f=1;for(s<u&&u<s+l&&(f=-1,s+=l-1,u+=l-1);l-- >0;)s in n?n[u]=n[s]:delete n[u],u+=f,s+=f;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(16)&&"g"!=/./g.flags&&n(17).f(RegExp.prototype,"flags",{configurable:!0,get:n(129)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(6),o=n(10),i=n(197);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(280),o=n(87);e.exports=n(132)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(17).f,o=n(69),i=n(74),a=n(39),u=n(72),s=n(73),c=n(185),l=n(275),f=n(71),d=n(16),h=n(56).fastKey,p=n(87),v=d?"_s":"size",y=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){u(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&s(r,n,e[c],e)});return i(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=p(this,t),r=y(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(p(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return p(this,t)[v]}}),l},def:function(e,t,n){var r,o,i=y(e,t);return i?i.v=n:(e._l=i={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[v]++,"F"!==o&&(e._i[o]=i)),e},getEntry:y,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(280),o=n(87);e.exports=n(132)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,o=n(49)(0),i=n(32),a=n(56),u=n(263),s=n(283),c=n(10),l=n(9),f=n(87),d=a.getWeak,h=Object.isExtensible,p=s.ufstore,v={},y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(c(e)){var t=d(e);return!0===t?p(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(f(this,"WeakMap"),e,t)}},g=e.exports=n(132)("WeakMap",y,m,s,!0,!0);l(function(){return 7!=(new g).set((Object.freeze||Object)(v),7).get(v)})&&(r=s.getConstructor(y,"WeakMap"),u(r.prototype,m),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=g.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!h(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},function(e,t,n){"use strict";var r=n(74),o=n(56).getWeak,i=n(6),a=n(10),u=n(72),s=n(73),c=n(49),l=n(30),f=n(87),d=c(5),h=c(6),p=0,v=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return d(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){u(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?v(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return!0===n?v(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t,n){var r=n(47),o=n(18);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(70),o=n(125),i=n(6),a=n(7).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function r(e,t,n,c,l,f,d,h){for(var p,v,y=l,m=0,g=!!d&&u(d,h,3);m<c;){if(m in n){if(p=g?g(n[m],m,t):n[m],v=!1,i(p)&&(v=p[s],v=void 0!==v?!!v:o(p)),v&&f>0)y=r(e,t,p,a(p.length),y,f-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=p}y++}m++}return y}var o=n(126),i=n(10),a=n(18),u=n(39),s=n(12)("isConcatSpreadable");e.exports=r},function(e,t,n){var r=n(18),o=n(181),i=n(46);e.exports=function(e,t,n,a){var u=String(i(e)),s=u.length,c=void 0===n?" ":String(n),l=r(t);if(l<=s||""==c)return u;var f=l-s,d=o.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+u:u+d}},function(e,t,n){var r=n(67),o=n(36),i=n(104).f;e.exports=function(e){return function(t){for(var n,a=o(t),u=r(a),s=u.length,c=0,l=[];s>c;)i.call(a,n=u[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(105),o=n(290);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,n){var r=n(73);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,o){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-r)/(n-t)+r}},function(e,t,n){"use strict";function r(){}function o(e,t){var n,o,i,a,u=I;for(a=arguments.length;a-- >2;)L.push(arguments[a]);for(t&&null!=t.children&&(L.length||L.push(t.children),delete t.children);L.length;)if((o=L.pop())&&void 0!==o.pop)for(a=o.length;a--;)L.push(o[a]);else"boolean"==typeof o&&(o=null),(i="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(i=!1)),i&&n?u[u.length-1]+=o:u===I?u=[o]:u.push(o),n=i;var s=new r;return s.nodeName=e,s.children=u,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==D.vnode&&D.vnode(s),s}function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){return o(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function u(e){!e._dirty&&(e._dirty=!0)&&1==F.push(e)&&(D.debounceRendering||R)(s)}function s(){var e,t=F;for(F=[];e=t.pop();)e._dirty&&T(e)}function c(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&l(e,t.nodeName):n||e._componentConstructor===t.nodeName}function l(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function f(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function d(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===N.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,y,a):e.removeEventListener(t,y,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)v(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var u=o&&t!==(t=t.replace(/^xlink\:?/,""));null==r||!1===r?u?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(u?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function v(e,t,n){try{e[t]=n}catch(e){}}function y(e){return this._listeners[e.type](D.event&&D.event(e)||e)}function m(){for(var e;e=B.pop();)D.afterMount&&D.afterMount(e),e.componentDidMount&&e.componentDidMount()}function g(e,t,n,r,o,i){z++||(q=null!=o&&void 0!==o.ownerSVGElement,U=null!=e&&!("__preactattr_"in e));var a=b(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--z||(U=!1,i||m()),a}function b(e,t,n,r,o){var i=e,a=q;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),w(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if("function"==typeof u)return A(e,t,n,r);if(q="svg"===u||"foreignObject"!==u&&q,u=String(u),(!e||!l(e,u))&&(i=d(u,q),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),w(e,!0)}var s=i.firstChild,c=i.__preactattr_,f=t.children;if(null==c){c=i.__preactattr_={};for(var h=i.attributes,p=h.length;p--;)c[h[p].name]=h[p].value}return!U&&f&&1===f.length&&"string"==typeof f[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=f[0]&&(s.nodeValue=f[0]):(f&&f.length||null!=s)&&_(i,f,n,r,U||null!=c.dangerouslySetInnerHTML),k(i,t.attributes,c),q=a,i}function _(e,t,n,r,o){var i,a,u,s,l,f=e.childNodes,d=[],p={},v=0,y=0,m=f.length,g=0,_=t?t.length:0;if(0!==m)for(var x=0;x<m;x++){var k=f[x],E=k.__preactattr_,S=_&&E?k._component?k._component.__key:E.key:null;null!=S?(v++,p[S]=k):(E||(void 0!==k.splitText?!o||k.nodeValue.trim():o))&&(d[g++]=k)}if(0!==_)for(var x=0;x<_;x++){s=t[x],l=null;var S=s.key;if(null!=S)v&&void 0!==p[S]&&(l=p[S],p[S]=void 0,v--);else if(!l&&y<g)for(i=y;i<g;i++)if(void 0!==d[i]&&c(a=d[i],s,o)){l=a,d[i]=void 0,i===g-1&&g--,i===y&&y++;break}l=b(l,s,n,r),u=f[x],l&&l!==e&&l!==u&&(null==u?e.appendChild(l):l===u.nextSibling?h(u):e.insertBefore(l,u))}if(v)for(var x in p)void 0!==p[x]&&w(p[x],!1);for(;y<=g;)void 0!==(l=d[g--])&&w(l,!1)}function w(e,t){var n=e._component;n?j(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||h(e),x(e))}function x(e){for(e=e.lastChild;e;){var t=e.previousSibling;w(e,!0),e=t}}function k(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||p(e,r,n[r],n[r]=void 0,q);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||p(e,r,n[r],n[r]=t[r],q)}function E(e){var t=e.constructor.name;(H[t]||(H[t]=[])).push(e)}function S(e,t,n){var r,o=H[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),M.call(r,t,n)):(r=new M(t,n),r.constructor=e,r.render=C),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function C(e,t,n){return this.constructor(e,n)}function O(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===D.syncComponentUpdates&&e.base?u(e):T(e,1,o)),e.__ref&&e.__ref(e))}function T(e,t,n,r){if(!e._disable){var o,a,u,s=e.props,c=e.state,l=e.context,d=e.prevProps||s,h=e.prevState||c,p=e.prevContext||l,v=e.base,y=e.nextBase,b=v||y,_=e._component,x=!1;if(v&&(e.props=d,e.state=h,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,l)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,l),e.props=s,e.state=c,e.context=l),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){o=e.render(s,c,l),e.getChildContext&&(l=i(i({},l),e.getChildContext()));var k,E,C=o&&o.nodeName;if("function"==typeof C){var A=f(o);a=_,a&&a.constructor===C&&A.key==a.__key?O(a,A,1,l,!1):(k=a,e._component=a=S(C,A,l),a.nextBase=a.nextBase||y,a._parentComponent=e,O(a,A,0,l,!1),T(a,1,n,!0)),E=a.base}else u=b,k=_,k&&(u=e._component=null),(b||1===t)&&(u&&(u._component=null),E=g(u,o,l,n||!v,b&&b.parentNode,!0));if(b&&E!==b&&a!==_){var M=b.parentNode;M&&E!==M&&(M.replaceChild(E,b),k||(b._component=null,w(b,!1)))}if(k&&j(k),e.base=E,E&&!r){for(var P=e,L=e;L=L._parentComponent;)(P=L).base=E;E._component=P,E._componentConstructor=P.constructor}}if(!v||n?B.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(d,h,p),D.afterUpdate&&D.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);z||r||m()}}function A(e,t,n,r){for(var o=e&&e._component,i=o,a=e,u=o&&e._componentConstructor===t.nodeName,s=u,c=f(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return o&&s&&(!r||o._component)?(O(o,c,3,n,r),e=o.base):(i&&!u&&(j(i),e=a=null),o=S(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,a=null),O(o,c,1,n,r),e=o.base,a&&e!==a&&(a._component=null,w(a,!1))),e}function j(e){D.beforeUnmount&&D.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?j(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,h(t),E(e),x(t)),e.__ref&&e.__ref(null)}function M(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function P(e,t,n){return g(n,e,{},!1,t,!1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"h",function(){return o}),n.d(t,"createElement",function(){return o}),n.d(t,"cloneElement",function(){return a}),n.d(t,"Component",function(){return M}),n.d(t,"render",function(){return P}),n.d(t,"rerender",function(){return s}),n.d(t,"options",function(){return D});var D={},L=[],I=[],R="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,N=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,F=[],B=[],z=0,q=!1,U=!1,H={};i(M.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i({},n)),i(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),u(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),T(this,2)},render:function(){}});var Y={h:o,createElement:o,cloneElement:a,Component:M,render:P,rerender:s,options:D};t.default=Y},function(e,t,n){var r=n(199);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(671),o=n(673),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),a=Object.prototype.toString,u=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)},s=Object.defineProperty&&function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,n,r){(!(t in e)||u(r)&&r())&&(s?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),o(a,function(r){c(e,r,t[r],n[r])})};l.supportsDescriptors=!!s,e.exports=l},function(e,t,n){"use strict";var r=n(199),o=n(674),i=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=o.ToString(o.CheckObjectCoercible(this));return i(i(e,a,""),u,"")}},function(e,t,n){"use strict";var r=Function.prototype.toString,o=/^\s*class /,i=function(e){try{var t=r.call(e),n=t.replace(/\/\/.*\n/g,""),i=n.replace(/\/\*[.\s\S]*\*\//g,""),a=i.replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(a)}catch(e){return!1}},a=function(e){try{return!i(e)&&(r.call(e),!0)}catch(e){return!1}},u=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(s)return a(e);if(i(e))return!1;var t=u.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";var r=n(295),o="";e.exports=function(){return String.prototype.trim&&o.trim()===o?String.prototype.trim:r}},function(e,t,n){function r(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=n||{},a=i.locale,u=h.format.formatters,s=h.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(u=a.format.formatters,a.format.formattingTokensRegExp&&(s=a.format.formattingTokensRegExp));var c=f(e);return d(c)?o(r,u,s)(c):"Invalid Date"}function o(e,t,n){var r,o,a=e.match(n),u=a.length;for(r=0;r<u;r++)o=t[a[r]]||p[a[r]],a[r]=o||i(a[r]);return function(e){for(var t="",n=0;n<u;n++)a[n]instanceof Function?t+=a[n](e,p):t+=a[n];return t}}function i(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function a(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;return n+u(o,2)+t+u(i,2)}function u(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var s=n(299),c=n(201),l=n(77),f=n(1),d=n(301),h=n(78),p={M:function(e){return e.getMonth()+1},MM:function(e){return u(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return u(e.getDate(),2)},DDD:function(e){return s(e)},DDDD:function(e){return u(s(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return c(e)},WW:function(e){return u(c(e),2)},YY:function(e){return u(e.getFullYear(),4).substr(2)},YYYY:function(e){return u(e.getFullYear(),4)},GG:function(e){return String(l(e)).substr(2)},GGGG:function(e){return l(e)},H:function(e){return e.getHours()},HH:function(e){return u(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return u(p.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return u(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return u(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return u(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return u(e.getMilliseconds(),3)},Z:function(e){return a(e.getTimezoneOffset(),":")},ZZ:function(e){return a(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};e.exports=r},function(e,t,n){function r(e){var t=o(e);return a(t,i(t))+1}var o=n(1),i=n(300),a=n(138);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var o=n(1);e.exports=r},function(e,t,n){function r(e){if(o(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var o=n(200);e.exports=r},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./_lib/build_formatting_tokens_reg_exp":88,"./_lib/build_formatting_tokens_reg_exp/":88,"./_lib/build_formatting_tokens_reg_exp/index":88,"./_lib/build_formatting_tokens_reg_exp/index.js":88,"./en":78,"./en/":78,"./en/build_distance_in_words_locale":107,"./en/build_distance_in_words_locale/":107,"./en/build_distance_in_words_locale/index":107,"./en/build_distance_in_words_locale/index.js":107,"./en/build_format_locale":108,"./en/build_format_locale/":108,"./en/build_format_locale/index":108,"./en/build_format_locale/index.js":108,"./en/index":78,"./en/index.js":78,"./en/package":303,"./en/package.json":303,"./fr":140,"./fr/":140,"./fr/build_distance_in_words_locale":109,"./fr/build_distance_in_words_locale/":109,"./fr/build_distance_in_words_locale/index":109,"./fr/build_distance_in_words_locale/index.js":109,"./fr/build_format_locale":110,"./fr/build_format_locale/":110,"./fr/build_format_locale/index":110,"./fr/build_format_locale/index.js":110,"./fr/index":140,"./fr/index.js":140,"./fr/package":304,"./fr/package.json":304};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=302},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){/*!
    localForage -- Offline Storage, Improved
    Version 1.5.5
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.localforage=n()}}(function(){return function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||o()}var o,i=window.MutationObserver||window.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=window.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(window.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in window.document.createElement("script")?function(){var e=window.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},window.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,f=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,v.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,v.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}(e[i]);return a}var p=e(1),v={},y=["REJECTED"],m=["FULFILLED"],g=["PENDING"];t.exports=n=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===y)return this;var n=new this.constructor(r);if(this.state!==g){a(n,this.state===m?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=y,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},n.resolve=l,n.reject=f,n.all=d,n.race=h},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function i(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function s(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function c(e){return new le(function(t){var n=e.transaction(fe,pe),r=o([""]);n.objectStore(fe).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function l(e){return"boolean"==typeof se?le.resolve(se):c(e).then(function(e){return se=e})}function f(e){var t=ce[e.name],n={};n.promise=new le(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function d(e){var t=ce[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function h(e,t){var n=ce[e.name],r=n.deferredOperations.pop();r&&r.reject(t)}function p(e,t){return new le(function(n,r){if(e.db){if(!t)return n(e.db);f(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=ue.open.apply(ue,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(fe)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),d(e)}})}function v(e){return p(e,!1)}function y(e){return p(e,!0)}function m(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function g(e){return new le(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function b(e){return o([s(atob(e.data))],{type:e.type})}function _(e){return e&&e.__local_forage_encoded_blob}function w(e){var t=this,n=t._initReady().then(function(){var e=ce[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(n,e,e),n}function x(e){f(e);for(var t=ce[e.name],n=t.forages,r=0;r<n.length;r++)n[r]._dbInfo.db&&(n[r]._dbInfo.db.close(),n[r]._dbInfo.db=null);return p(e,!1).then(function(e){for(var t=0;t<n.length;t++)n[t]._dbInfo.db=e}).catch(function(t){throw h(e,t),t})}function k(e,t,n){try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(r){if(!e.db||"InvalidStateError"===r.name)return x(e).then(function(){var r=e.db.transaction(e.storeName,t);n(null,r)});n(r)}}function E(e){function t(){return le.resolve()}var n=this,r={db:null};if(e)for(var o in e)r[o]=e[o];ce||(ce={});var i=ce[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},ce[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=w);for(var a=[],u=0;u<i.forages.length;u++){var s=i.forages[u];s!==n&&a.push(s._initReady().catch(t))}var c=i.forages.slice(0);return le.all(a).then(function(){return r.db=i.db,v(r)}).then(function(e){return r.db=e,m(r,n._defaultConfig.version)?y(r):e}).then(function(e){r.db=i.db=e,n._dbInfo=r;for(var t=0;t<c.length;t++){var o=c[t];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function S(e,t){var n=this;e=u(e);var r=new le(function(t,r){n.ready().then(function(){k(n._dbInfo,he,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.get(e);u.onsuccess=function(){var e=u.result;void 0===e&&(e=null),_(e)&&(e=b(e)),t(e)},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function C(e,t){var n=this,r=new le(function(t,r){n.ready().then(function(){k(n._dbInfo,he,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.openCursor(),s=1;u.onsuccess=function(){var n=u.result;if(n){var r=n.value;_(r)&&(r=b(r));var o=e(r,n.key,s++);void 0!==o?t(o):n.continue()}else t()},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function O(e,t,n){var r=this;e=u(e);var o=new le(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===de.call(t)?l(i.db).then(function(e){return e?t:g(t)}):t}).then(function(t){k(r._dbInfo,pe,function(i,a){if(i)return o(i);try{var u=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var s=u.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return i(o,n),o}function T(e,t){var n=this;e=u(e);var r=new le(function(t,r){n.ready().then(function(){k(n._dbInfo,pe,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function A(e){var t=this,n=new le(function(e,n){t.ready().then(function(){k(t._dbInfo,pe,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n}function j(e){var t=this,n=new le(function(e,n){t.ready().then(function(){k(t._dbInfo,he,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n}function M(e,t){var n=this,r=new le(function(t,r){if(e<0)return void t(null);n.ready().then(function(){k(n._dbInfo,he,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=!1,s=a.openCursor();s.onsuccess=function(){var n=s.result;if(!n)return void t(null);0===e?t(n.key):u?t(n.key):(u=!0,n.advance(e))},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function P(e){var t=this,n=new le(function(e,n){t.ready().then(function(){k(t._dbInfo,he,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.openCursor(),u=[];a.onsuccess=function(){var t=a.result;if(!t)return void e(u);u.push(t.key),t.continue()},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n}function D(e){var t,n,r,o,i,a=.75*e.length,u=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<u;t+=4)n=ye.indexOf(e[t]),r=ye.indexOf(e[t+1]),o=ye.indexOf(e[t+2]),i=ye.indexOf(e[t+3]),l[s++]=n<<2|r>>4,l[s++]=(15&r)<<4|o>>2,l[s++]=(3&o)<<6|63&i;return c}function L(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=ye[n[t]>>2],r+=ye[(3&n[t])<<4|n[t+1]>>4],r+=ye[(15&n[t+1])<<2|n[t+2]>>6],r+=ye[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function I(e,t){var n="";if(e&&(n=De.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===De.call(e.buffer))){var r,o=be;e instanceof ArrayBuffer?(r=e,o+=we):(r=e.buffer,"[object Int8Array]"===n?o+=ke:"[object Uint8Array]"===n?o+=Ee:"[object Uint8ClampedArray]"===n?o+=Se:"[object Int16Array]"===n?o+=Ce:"[object Uint16Array]"===n?o+=Te:"[object Int32Array]"===n?o+=Oe:"[object Uint32Array]"===n?o+=Ae:"[object Float32Array]"===n?o+=je:"[object Float64Array]"===n?o+=Me:t(new Error("Failed to get type for BinaryArray"))),t(o+L(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=me+e.type+"~"+L(this.result);t(be+xe+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function R(e){if(e.substring(0,_e)!==be)return JSON.parse(e);var t,n=e.substring(Pe),r=e.substring(_e,Pe);if(r===xe&&ge.test(n)){var i=n.match(ge);t=i[1],n=n.substring(i[0].length)}var a=D(n);switch(r){case we:return a;case xe:return o([a],{type:t});case ke:return new Int8Array(a);case Ee:return new Uint8Array(a);case Se:return new Uint8ClampedArray(a);case Ce:return new Int16Array(a);case Te:return new Uint16Array(a);case Oe:return new Int32Array(a);case Ae:return new Uint32Array(a);case je:return new Float32Array(a);case Me:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function N(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new le(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){r(t)})})});return n.serializer=Le,o}function F(e,t){var n=this;e=u(e);var r=new le(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function B(e,t){var n=this,r=new le(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var s=i.item(u),c=s.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,s.key,u+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function z(e,t,n,r){var o=this;e=u(e);var a=new le(function(i,a){o.ready().then(function(){void 0===t&&(t=null);var u=t,s=o._dbInfo;s.serializer.serialize(t,function(t,c){c?a(c):s.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){i(u)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(z.apply(o,[e,u,n,r-1]));a(t)}})})}).catch(a)});return i(a,n),a}function q(e,t,n){return z.apply(this,[e,t,n,1])}function U(e,t){var n=this;e=u(e);var r=new le(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function H(e){var t=this,n=new le(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return i(n,e),n}function Y(e){var t=this,n=new le(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return i(n,e),n}function V(e,t){var n=this,r=new le(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function W(e){var t=this,n=new le(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})}).catch(n)});return i(n,e),n}function $(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}function G(){return!$()||localStorage.length>0}function J(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=n.name+"/",n.storeName!==t._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),G()?(t._dbInfo=n,n.serializer=Le,le.resolve()):le.reject()}function K(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return i(n,e),n}function Z(e,t){var n=this;e=u(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return i(r,t),r}function X(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var s=localStorage.key(u);if(0===s.indexOf(r)){var c=localStorage.getItem(s);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,s.substring(o),a++)))return c}}});return i(r,t),r}function Q(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return i(r,t),r}function ee(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return i(n,e),n}function te(e){var t=this,n=t.keys().then(function(e){return e.length});return i(n,e),n}function ne(e,t){var n=this;e=u(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return i(r,t),r}function re(e,t,n){var r=this;e=u(e);var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new le(function(o,i){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return i(o,n),o}function oe(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function ie(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ne(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var se,ce,le=Promise,fe="local-forage-detect-blob-support",de=Object.prototype.toString,he="readonly",pe="readwrite",ve={_driver:"asyncStorage",_initStorage:E,_support:function(){try{if(!ue)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:C,getItem:S,setItem:O,removeItem:T,clear:A,length:j,key:M,keys:P},ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",me="~~local_forage_type~",ge=/^~~local_forage_type~([^~]+)~/,be="__lfsc__:",_e=be.length,we="arbf",xe="blob",ke="si08",Ee="ui08",Se="uic8",Ce="si16",Oe="si32",Te="ur16",Ae="ui32",je="fl32",Me="fl64",Pe=_e+we.length,De=Object.prototype.toString,Le={serialize:I,deserialize:R,stringToBuffer:D,bufferToString:L},Ie={_driver:"webSQLStorage",_initStorage:N,_support:function(){return"function"==typeof openDatabase}(),iterate:B,getItem:F,setItem:q,removeItem:U,clear:H,length:Y,key:V,keys:W},Re={_driver:"localStorageWrapper",_initStorage:J,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&"function"==typeof localStorage.setItem}catch(e){return!1}}(),iterate:X,getItem:Z,setItem:re,removeItem:ne,clear:K,length:te,key:Q,keys:ee},Ne=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Fe={},Be={},ze={INDEXEDDB:ve,WEBSQL:Ie,LOCALSTORAGE:Re},qe=[ze.INDEXEDDB._driver,ze.WEBSQL._driver,ze.LOCALSTORAGE._driver],Ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],He={description:"",driver:qe.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Ye=function(){function e(t){r(this,e);for(var n in ze)if(ze.hasOwnProperty(n)){var o=ze[n],i=o._driver;this[n]=i,Fe[i]||this.defineDriver(o)}this._defaultConfig=ie({},He),this._config=ie({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ae(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new le(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=Ue.concat("_initStorage"),a=0,u=i.length;a<u;a++){var s=i[a];if(!s||!e[s]||"function"!=typeof e[s])return void n(o)}var c=function(n){Fe[r]&&console.info("Redefining LocalForage driver: "+r),Fe[r]=e,Be[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(c,n):c(!!e._support):c(!0)}catch(e){n(e)}});return a(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Fe[e]?le.resolve(Fe[e]):le.reject(new Error("Driver not found."));return a(r,t,n),r},e.prototype.getSerializer=function(e){var t=le.resolve(Le);return a(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return a(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){u._config.driver=u.driver()}function o(e){return u._extend(e),r(),u._ready=u._initStorage(u._config),u._ready}function i(e){return function(){function t(){for(;n<e.length;){var i=e[n];return n++,u._dbInfo=null,u._ready=null,u.getDriver(i).then(o).catch(t)}r();var a=new Error("No available storage method found.");return u._driverSet=le.reject(a),u._driverSet}var n=0;return t()}}var u=this;Ne(e)||(e=[e]);var s=this._getSupportedDrivers(e),c=null!==this._driverSet?this._driverSet.catch(function(){return le.resolve()}):le.resolve();return this._driverSet=c.then(function(){var e=s[0];return u._dbInfo=null,u._ready=null,u.getDriver(e).then(function(e){u._driver=e._driver,r(),u._wrapLibraryMethodsWithReady(),u._initDriver=i(s)})}).catch(function(){r();var e=new Error("No available storage method found.");return u._driverSet=le.reject(e),u._driverSet}),a(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Be[e]},e.prototype._extend=function(e){ie(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=Ue.length;e<t;e++)oe(this,Ue[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),Ve=new Ye;t.exports=Ve},{3:3}]},{},[4])(4)})},function(e,t,n){"use strict";function r(e,t,n){function i(){m===y&&(m=y.slice())}function s(){return v}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),m.push(e),function(){if(t){t=!1,i();var n=m.indexOf(e);m.splice(n,1)}}}function l(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,v=p(v,e)}finally{g=!1}for(var t=y=m,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");p=e,l({type:u.INIT})}function d(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var p=e,v=t,y=[],m=y,g=!1;return l({type:u.INIT}),h={dispatch:l,subscribe:c,getState:s,replaceReducer:f},h[a.a]=d,h}n.d(t,"a",function(){return u}),t.b=r;var o=n(202),i=n(695),a=n.n(i),u={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";var r=n(688),o=r.a.Symbol;t.a=o},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Alerter=t.alertClear=t.alertDismiss=t.alertShow=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=r(c),f=n(13),d=r(f),h=n(23),p=n(22),v=n(715),y=r(v),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t.alert)return t.alert.id||(t.alert.id=(new Date).getTime()),[t.alert].concat(u(e));switch(t.type){case"ALERT_SHOW":return[t.alert].concat(u(e.filter(function(e){return e.id!==t.id})));case"ALERT_DISMISS":return e.filter(function(e){return e.id!==t.id});case"ALERT_CLEAR":return[];default:return e}};t.default=m;var g=(t.alertShow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";return{type:"ALERT_SHOW",id:(new Date).getTime(),message:e,messageData:t,level:n}},t.alertDismiss=function(e){return{type:"ALERT_DISMISS",id:e}}),b=(t.alertClear=function(){return{type:"ALERT_CLEAR"}},function(e){var t=e.t,n=e.alerts,r=e.dismiss;return l.default.createElement("div",{className:y.default["coz-alerter"]},n.map(function(e){return l.default.createElement(x,{id:e.id,message:t(e.message,e.messageData),level:e.level||"info",buttonText:e.buttonText,buttonAction:e.buttonAction,onClose:r})}))}),_=function(e){return{alerts:e.alerts}},w=function(e){return{dismiss:function(t){return e(g(t))}}},x=(t.Alerter=(0,p.translate)()((0,h.connect)(_,w)(b)),function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={hidden:!0},n.shouldAutoClose=!e.buttonText,n.closeTimer=null,n.dismissTimer=null,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;if(this.shouldAutoClose){var t=this.props.duration?parseInt(this.props.duration,10):3500;this.closeTimer=setTimeout(function(){e.setState({hidden:!0}),e.dismissTimer=setTimeout(function(){e.props.onClose(e.props.id)},500)},t)}setTimeout(function(){e.setState({hidden:!1})},20)}},{key:"componentWillUnmount",value:function(){this.setState({hidden:!1}),this.closeTimer&&clearTimeout(this.closeTimer),this.dismissTimer&&clearTimeout(this.dismissTimer)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.level,r=e.buttonText,o=e.buttonAction,i=this.state.hidden;return l.default.createElement("div",{className:(0,d.default)(y.default["coz-alert"],y.default["coz-alert--"+n],i?y.default["coz-alert--hidden"]:"")},l.default.createElement("p",null,t),r&&l.default.createElement("button",{onClick:o,className:(0,d.default)(y.default["coz-btn"],y.default["coz-btn--alert-"+type])},r))}}]),t}(c.Component))},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(5),o=n.n(r),i=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),a=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function s(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function c(e){var t,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.getDisplayName,d=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,_=c.methodName,w=void 0===_?"connectAdvanced":_,x=c.renderCountProp,k=void 0===x?void 0:x,E=c.shouldHandleStateChanges,S=void 0===E||E,C=c.storeKey,O=void 0===C?"store":C,T=c.withRef,A=void 0!==T&&T,j=a(c,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),M=O+"Subscription",P=g++,D=(t={},t[O]=y.a,t[M]=y.b,t),L=(n={},n[M]=y.b,n);return function(t){h()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=d(n),c=m({},j,{getDisplayName:d,methodName:w,renderCountProp:k,shouldHandleStateChanges:S,storeKey:O,withRef:A,displayName:a,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){r(this,l);var i=o(this,n.call(this,e,t));return i.version=P,i.state={},i.renderCount=0,i.store=e[O]||t[O],i.propsMode=Boolean(e[O]),i.setWrappedInstance=i.setWrappedInstance.bind(i),h()(i.store,'Could not find "'+O+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+O+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}return i(l,n),l.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[M]=t||this.context[M],e},l.prototype.componentDidMount=function(){S&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},l.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},l.prototype.getWrappedInstance=function(){return h()(A,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+w+"() call."),this.wrappedInstance},l.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},l.prototype.initSelector=function(){var t=e(this.store.dispatch,c);this.selector=s(t,this.store),this.selector.run(this.props)},l.prototype.initSubscription=function(){if(S){var e=(this.propsMode?this.props:this.context)[M];this.subscription=new v.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},l.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.prototype.addExtraProps=function(e){if(!(A||k||this.propsMode&&this.subscription))return e;var t=m({},e);return A&&(t.ref=this.setWrappedInstance),k&&(t[k]=this.renderCount++),this.propsMode&&this.subscription&&(t[M]=this.subscription),t},l.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(p.createElement)(t,this.addExtraProps(e.props))},l}(p.Component);return l.WrappedComponent=t,l.displayName=a,l.childContextTypes=L,l.contextTypes=D,l.propTypes=D,f()(l,t)}}t.a=c;var l=n(706),f=n.n(l),d=n(26),h=n.n(d),p=n(2),v=n(707),y=n(311),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=0,b={}},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function i(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.a=r,t.b=i;n(314)},function(e,t,n){"use strict";n(202),n(204)},function(e,t,n){"use strict";(function(e){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getSharingInfo=t.reducer=t.fetchSharingInfo=void 0;var o=n(716),i=(t.fetchSharingInfo=function(t,n){return function(r){return r({type:"FETCH_DOC_SHARING",doctype:t,id:n}),(0,o.findSharing)(e,t,n).then(function(e){return r({type:"FETCH_DOC_SHARING_SUCCESS",doctype:t,id:n,sharing:e})},function(e){return r({type:"FETCH_DOC_SHARING_ERROR",doctype:t,id:n,error:e})})}},function(e,t){return e+"/"+t}),a={};t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,o=t.doctype,u=t.id,s=i(o,u),c=e[s]||{},l=void 0;switch(n){case"FETCH_DOC_SHARING":return l=Object.assign({},c,{fetching:!0}),Object.assign({},e,r({},s,l));case"FETCH_DOC_SHARING_SUCCESS":return l=Object.assign({},c,{fetching:!1,info:t.sharing}),Object.assign({},e,r({},s,l));case"FETCH_DOC_SHARING_ERROR":return l=Object.assign({},c,{fetching:!1}),Object.assign({},e,r({},s,l))}return e},t.getSharingInfo=function(e,t,n){return e[i(t,n)]}}).call(t,n(27))},function(e,t,n){var r=n(717),o=n(337),i=r(o);e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(35))},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;e.exports=n},function(e,t,n){function r(e,t,n,r,c,l){var f=n&u,d=e.length,h=t.length;if(d!=h&&!(f&&h>d))return!1;var p=l.get(e);if(p&&l.get(t))return p==t;var v=-1,y=!0,m=n&s?new o:void 0;for(l.set(e,t),l.set(t,e);++v<d;){var g=e[v],b=t[v];if(r)var _=f?r(b,g,v,t,e,l):r(g,b,v,e,t,l);if(void 0!==_){if(_)continue;y=!1;break}if(m){if(!i(t,function(e,t){if(!a(m,t)&&(g===e||c(g,e,n,r,l)))return m.push(t)})){y=!1;break}}else if(g!==b&&!c(g,b,n,r,l)){y=!1;break}}return l.delete(e),l.delete(t),y}var o=n(320),i=n(751),a=n(321),u=1,s=2;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=n(207),i=n(749),a=n(750);r.prototype.add=r.prototype.push=i,r.prototype.has=a,e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){var r=n(42),o=r.Uint8Array;e.exports=o},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e){return o(e,a,i)}var o=n(325),i=n(210),a=n(93);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return i(e)?r:o(r,n(e))}var o=n(209),i=n(29);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=!n&&i(e),l=!n&&!r&&u(e),d=!n&&!r&&!l&&c(e),h=n||r||l||d,p=h?o(e.length,String):[],v=p.length;for(var y in e)!t&&!f.call(e,y)||h&&("length"==y||l&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||p.push(y);return p}var o=n(755),i=n(148),a=n(29),u=n(149),s=n(150),c=n(211),l=Object.prototype,f=l.hasOwnProperty;e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(762),o=n(205),i=n(763),a=n(331),u=n(332),s=n(91),c=n(318),l=c(r),f=c(o),d=c(i),h=c(a),p=c(u),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var r=n(80),o=n(42),i=r(o,"Set");e.exports=i},function(e,t,n){var r=n(80),o=n(42),i=r(o,"WeakMap");e.exports=i},function(e,t,n){function r(e){return e===e&&!o(e)}var o=n(34);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){function r(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}var o=n(151);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&i(e,t,o)}var o=n(770),i=n(771);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:a(n);return s<0&&(s=u(r+s,0)),o(e,i(t,3),s)}var o=n(338),i=n(79),a=n(339),u=Math.max;e.exports=r},function(e,t){function n(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}e.exports=n},function(e,t,n){function r(e){var t=o(e),n=t%1;return t===t?n?t-n:t:0}var o=n(775);e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=c.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):s.test(e)?a:+e}var o=n(34),i=n(112),a=NaN,u=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){var r=n(80),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){function r(e,t){return function(n,r){var s=u(n)?o:i,c=t?t():{};return s(n,e,a(r,2),c)}}var o=n(777),i=n(778),a=n(79),u=n(29);e.exports=r},function(e,t,n){var r=n(217),o=n(780),i=o(r);e.exports=i},function(e,t,n){var r=n(779),o=r();e.exports=o},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t,n,a,u){var s=-1,c=e.length;for(n||(n=i),u||(u=[]);++s<c;){var l=e[s];t>0&&n(l)?t>1?r(l,t-1,n,a,u):o(u,l):a||(u[u.length]=l)}return u}var o=n(209),i=n(781);e.exports=r},function(e,t,n){function r(e,t){return a(i(e,t,o),e+"")}var o=n(152),i=n(348),a=n(349);e.exports=r},function(e,t,n){function r(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,u=i(r.length-t,0),s=Array(u);++a<u;)s[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(s),o(e,this,c)}}var o=n(787),i=Math.max;e.exports=r},function(e,t,n){var r=n(788),o=n(790),i=o(r);e.exports=i},function(e,t,n){function r(e,t,n){if(!u(n))return!1;var r=typeof t;return!!("number"==r?i(n)&&a(t,n.length):"string"==r&&t in n)&&o(n[t],e)}var o=n(111),i=n(81),a=n(150),u=n(34);e.exports=r},function(e,t,n){e.exports={addDays:n(113),addHours:n(352),addISOYears:n(353),addMilliseconds:n(114),addMinutes:n(355),addMonths:n(153),addQuarters:n(356),addSeconds:n(357),addWeeks:n(219),addYears:n(358),areRangesOverlapping:n(792),closestIndexTo:n(793),closestTo:n(794),compareAsc:n(115),compareDesc:n(154),differenceInCalendarDays:n(138),differenceInCalendarISOWeeks:n(795),differenceInCalendarISOYears:n(359),differenceInCalendarMonths:n(360),differenceInCalendarQuarters:n(796),differenceInCalendarWeeks:n(797),differenceInCalendarYears:n(362),differenceInDays:n(363),differenceInHours:n(798),differenceInISOYears:n(799),differenceInMilliseconds:n(155),differenceInMinutes:n(800),differenceInMonths:n(220),differenceInQuarters:n(801),differenceInSeconds:n(221),differenceInWeeks:n(802),differenceInYears:n(803),distanceInWords:n(365),distanceInWordsStrict:n(804),distanceInWordsToNow:n(805),eachDay:n(806),endOfDay:n(222),endOfHour:n(807),endOfISOWeek:n(808),endOfISOYear:n(809),endOfMinute:n(810),endOfMonth:n(367),endOfQuarter:n(811),endOfSecond:n(812),endOfToday:n(813),endOfTomorrow:n(814),endOfWeek:n(366),endOfYear:n(815),endOfYesterday:n(816),format:n(298),getDate:n(817),getDay:n(818),getDayOfYear:n(299),getDaysInMonth:n(218),getDaysInYear:n(819),getHours:n(820),getISODay:n(369),getISOWeek:n(201),getISOWeeksInYear:n(821),getISOYear:n(77),getMilliseconds:n(822),getMinutes:n(823),getMonth:n(824),getOverlappingDaysInRanges:n(825),getQuarter:n(361),getSeconds:n(826),getTime:n(827),getYear:n(828),isAfter:n(829),isBefore:n(830),isDate:n(200),isEqual:n(831),isFirstDayOfMonth:n(832),isFriday:n(833),isFuture:n(834),isLastDayOfMonth:n(835),isLeapYear:n(368),isMonday:n(836),isPast:n(837),isSameDay:n(838),isSameHour:n(370),isSameISOWeek:n(372),isSameISOYear:n(373),isSameMinute:n(374),isSameMonth:n(376),isSameQuarter:n(377),isSameSecond:n(379),isSameWeek:n(223),isSameYear:n(381),isSaturday:n(839),isSunday:n(840),isThisHour:n(841),isThisISOWeek:n(842),isThisISOYear:n(843),isThisMinute:n(844),isThisMonth:n(845),isThisQuarter:n(846),isThisSecond:n(847),isThisWeek:n(848),isThisYear:n(849),isThursday:n(850),isToday:n(851),isTomorrow:n(852),isTuesday:n(853),isValid:n(301),isWednesday:n(854),isWeekend:n(855),isWithinRange:n(856),isYesterday:n(857),lastDayOfISOWeek:n(858),lastDayOfISOYear:n(859),lastDayOfMonth:n(860),lastDayOfQuarter:n(861),lastDayOfWeek:n(382),lastDayOfYear:n(862),max:n(863),min:n(864),parse:n(1),setDate:n(865),setDay:n(866),setDayOfYear:n(867),setHours:n(868),setISODay:n(869),setISOWeek:n(870),setISOYear:n(354),setMilliseconds:n(871),setMinutes:n(872),setMonth:n(383),setQuarter:n(873),setSeconds:n(874),setYear:n(875),startOfDay:n(75),startOfHour:n(371),startOfISOWeek:n(76),startOfISOYear:n(106),startOfMinute:n(375),startOfMonth:n(876),startOfQuarter:n(378),startOfSecond:n(380),startOfToday:n(877),startOfTomorrow:n(878),startOfWeek:n(139),startOfYear:n(300),startOfYesterday:n(879),subDays:n(880),subHours:n(881),subISOYears:n(364),subMilliseconds:n(882),subMinutes:n(883),subMonths:n(884),subQuarters:n(885),subSeconds:n(886),subWeeks:n(887),subYears:n(888)}},function(e,t,n){function r(e,t){var n=Number(t);return o(e,n*i)}var o=n(114),i=36e5;e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return i(e,o(e)+n)}var o=n(77),i=n(354);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t),u=a(n,i(n)),s=new Date(0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),n=i(s),n.setDate(n.getDate()+u),n}var o=n(1),i=n(106),a=n(138);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,n*i)}var o=n(114),i=6e4;e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,3*n)}var o=n(153);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,1e3*n)}var o=n(114);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,12*n)}var o=n(153);e.exports=r},function(e,t,n){function r(e,t){return o(e)-o(t)}var o=n(77);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e);return Math.floor(t.getMonth()/3)+1}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getFullYear()-r.getFullYear()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t),u=a(n,r),s=Math.abs(i(n,r));return n.setDate(n.getDate()-u*s),u*(s-(a(n,r)===-u))}var o=n(1),i=n(138),a=n(115);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(353);e.exports=r},function(e,t,n){function r(e,t,n){var r=n||{},h=o(e,t),p=r.locale,v=s.distanceInWords.localize;p&&p.distanceInWords&&p.distanceInWords.localize&&(v=p.distanceInWords.localize);var y,m,g={addSuffix:Boolean(r.addSuffix),comparison:h};h>0?(y=i(e),m=i(t)):(y=i(t),m=i(e));var b,_=a(m,y),w=m.getTimezoneOffset()-y.getTimezoneOffset(),x=Math.round(_/60)-w;if(x<2)return r.includeSeconds?_<5?v("lessThanXSeconds",5,g):_<10?v("lessThanXSeconds",10,g):_<20?v("lessThanXSeconds",20,g):_<40?v("halfAMinute",null,g):_<60?v("lessThanXMinutes",1,g):v("xMinutes",1,g):0===x?v("lessThanXMinutes",1,g):v("xMinutes",x,g);if(x<45)return v("xMinutes",x,g);if(x<90)return v("aboutXHours",1,g);if(x<c){return v("aboutXHours",Math.round(x/60),g)}if(x<l)return v("xDays",1,g);if(x<f){return v("xDays",Math.round(x/c),g)}if(x<d)return b=Math.round(x/f),v("aboutXMonths",b,g);if((b=u(m,y))<12){return v("xMonths",Math.round(x/f),g)}var k=b%12,E=Math.floor(b/12);return k<3?v("aboutXYears",E,g):k<9?v("overXYears",E,g):v("almostXYears",E+1,g)}var o=n(154),i=n(1),a=n(221),u=n(220),s=n(78),c=1440,l=2520,f=43200,d=86400;e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=o(e),i=r.getDay(),a=6+(i<n?-7:0)-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getFullYear();return n%400==0||n%4==0&&n%100!=0}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getDay();return 0===n&&(n=7),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()===r.getTime()}var o=n(371);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setMinutes(0,0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){return o(e,t,{weekStartsOn:1})}var o=n(223);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()===r.getTime()}var o=n(106);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()===r.getTime()}var o=n(375);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setSeconds(0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()===r.getTime()}var o=n(378);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()===r.getTime()}var o=n(380);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setMilliseconds(0),t}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getFullYear()===r.getFullYear()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=o(e),i=r.getDay(),a=6+(i<n?-7:0)-(i-n);return r.setHours(0,0,0,0),r.setDate(r.getDate()+a),r}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t),a=n.getFullYear(),u=n.getDate(),s=new Date(0);s.setFullYear(a,r,15),s.setHours(0,0,0,0);var c=i(s);return n.setMonth(r,Math.min(u,c)),n}var o=n(1),i=n(218);e.exports=r},function(e,t,n){var r=n(892),o=n(385),i=r?function(e){return r.get(e)}:o;e.exports=i},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e){for(var t=e.name+"",n=o[t],r=a.call(o,t)?n.length:0;r--;){var i=n[r],u=i.func;if(null==u||u==e)return i.name}return t}var o=n(893),i=Object.prototype,a=i.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-arrow-left",use:"icon-arrow-left-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-arrow-left">\n  <g fill-rule="evenodd" transform="translate(-224 -160)">\n    <path d="M227.414214,167 L238.993155,167 C239.54922,167 240,167.443865 240,168 C240,168.552285 239.550051,169 238.993155,169 L227.414214,169 L232.707107,174.292893 C233.097631,174.683418 233.097631,175.316582 232.707107,175.707107 C232.316582,176.097631 231.683418,176.097631 231.292893,175.707107 L224.292893,168.707107 C223.902369,168.316582 223.902369,167.683418 224.292893,167.292893 L231.292893,160.292893 C231.683418,159.902369 232.316582,159.902369 232.707107,160.292893 C233.097631,160.683418 233.097631,161.316582 232.707107,161.707107 L227.414214,167 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){function r(e,t,n){var r=!0,u=!0;if("function"!=typeof e)throw new TypeError(a);return i(n)&&(r="leading"in n?!!n.leading:r,u="trailing"in n?!!n.trailing:u),o(e,t,{leading:r,maxWait:t,trailing:u})}var o=n(938),i=n(34),a="Expected a function";e.exports=r},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.StackOnlyStrategy=t.PouchFirstStrategy=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(943),s=r(u),c=n(964),l=r(c),f=function(){function t(){i(this,t),this.url=null,this.stackAdapter=new s.default,this.pouchAdapter=new l.default}return a(t,[{key:"setup",value:function(t,n){this.url=t;var r=n.offline,i=o(n,["offline"]),a=r&&r.doctypes&&-1!==r.doctypes.indexOf("io.cozy.files")?Object.assign({cozyURL:t,offline:{doctypes:["io.cozy.files"]}},i):Object.assign({cozyURL:t},i);e.init(a),r&&r.doctypes?(this.pouchAdapter.registerDoctypes(r.doctypes),this.strategy=new d):this.strategy=new h}},{key:"getUrl",value:function(){return this.url}},{key:"getAdapter",value:function(e){return this.strategy.getAdapter(e,this.stackAdapter,this.pouchAdapter)}},{key:"startSync",value:function(e){return this.pouchAdapter.startSync(e,c.SYNC_BIDIRECTIONAL)}},{key:"startReplicationTo",value:function(e){return this.pouchAdapter.startSync(e,c.SYNC_TO)}},{key:"startReplicationFrom",value:function(e){return this.pouchAdapter.startSync(e,c.SYNC_FROM)}},{key:"destroyAllDatabases",value:function(){this.pouchAdapter.destroyAllDatabases()}}]),t}();t.default=f;var d=t.PouchFirstStrategy=function(){function e(){i(this,e)}return a(e,[{key:"getAdapter",value:function(e,t,n){return void 0===n.getDatabase(e)?t:n}}]),e}(),h=t.StackOnlyStrategy=function(){function e(){i(this,e)}return a(e,[{key:"getAdapter",value:function(e,t,n){return t}}]),e}()}).call(t,n(27))},function(e,t,n){var r=n(216),o=n(944),i=n(961),a=n(94),u=n(98),s=n(963),c=n(227),l=n(393),f=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),u(e,l(e),n),c&&(n=o(n,7,s));for(var f=t.length;f--;)i(n,t[f]);return n});e.exports=f},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}var o=n(42),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i,s=u?o.Buffer:void 0,c=s?s.allocUnsafe:void 0;e.exports=r}).call(t,n(90)(e))},function(e,t,n){var r=n(209),o=n(232),i=n(210),a=n(326),u=Object.getOwnPropertySymbols,s=u?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t,n){function r(e){return o(e,a,i)}var o=n(325),i=n(392),a=n(157);e.exports=r},function(e,t){function n(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}e.exports=n},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var o=n(233);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:o(i(e))}var o=n(225),i=n(232),a=n(213);e.exports=r},function(e,t){function n(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}e.exports=n},function(e,t,n){function r(e){if(!a(e)||o(e)!=u)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(91),i=n(232),a=n(59),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object);e.exports=r},function(e,t,n){var r=n(966),o=n(967),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(35))},function(e,t){function n(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=n},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,s=0;s<o;s++)c[s].apply(this,u);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var r,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(l,i),r=0;r<16;r+=1)i[r]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function i(e){var n,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(l,i),n=0;n<16;n+=1)i[n]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function a(e){var t,n="";for(t=0;t<4;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),h.prototype.append=function(e){return this.appendBinary(s(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,o,i,a=n;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(s(e),t)},h.hashBinary=function(e,t){var n=o(e),r=u(n);return t?d(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,o=f(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,n=64;n<=i;n+=64)t(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=d(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=i(new Uint8Array(e)),r=u(n);return t?d(r):r},h})},function(e,t,n){"use strict";function r(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function o(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function i(e,t){return r([o(e)],{type:t})}function a(e,t){return i(s(e),t)}function u(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}n.d(t,"b",function(){return c}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return u});var s=function(e){return atob(e)},c=function(e){return btoa(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e){return Object(c.b)(e)}function o(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function i(e,t,n,r,i){(n>0||r<t.size)&&(t=o(t,n,r)),Object(c.c)(t,function(t){e.append(t),i()})}function a(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function u(e,t){function n(){d(u)}function o(){var e=y.end(!0),n=r(e);t(n),y.destroy()}function u(){var t=v*l,r=t+l;v++,v<p?m(y,e,t,r,n):m(y,e,t,r,o)}var s="string"==typeof e,c=s?e.length:e.size,l=Math.min(h,c),p=Math.ceil(c/l),v=0,y=s?new f.a:new f.a.ArrayBuffer,m=s?a:i;u()}function s(e){return f.a.hash(e)}n.d(t,"binaryMd5",function(){return u}),n.d(t,"stringMd5",function(){return s});var c=n(404),l=n(403),f=n.n(l),d=window.setImmediate||e.setTimeout,h=32768}.call(t,n(35))},function(e,t,n){"use strict";(function(e){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SHARED_WITH_OTHERS=t.SHARED_WITH_ME=t.SHARED_BY_LINK=t.SHARINGS_DOCTYPE=void 0;var a=n(19),u=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=(t.SHARINGS_DOCTYPE="io.cozy.sharings",t.SHARED_BY_LINK="sharedByLink"),l=t.SHARED_WITH_ME="sharedWithMe",f=t.SHARED_WITH_OTHERS="sharedWithOthers",d=function(){function t(){i(this,t)}return s(t,[{key:"create",value:function(t,n,r,o){var i={description:o,permissions:t,recipients:n,sharing_type:r};return e.fetchJSON("POST","/sharings/",i)}},{key:"destroy",value:function(e){return this.revoke(e)}},{key:"findByDoctype",value:function(){function e(e){return t.apply(this,arguments)}var t=o(u.default.mark(function e(t){var n,o,i,a,s=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSharingPermissions(t);case 2:return n=e.sent,o=function(e){return e.links.related},i=[].concat(r(n.byMe.map(o)),r(n.withMe.map(o))),e.next=7,Promise.all(i.map(function(e){return s.fetchSharing(e)}));case 7:return a=e.sent,e.abrupt("return",{permissions:n,sharings:a});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchSharingPermissions",value:function(){function t(e){return n.apply(this,arguments)}var n=o(u.default.mark(function t(n){var r,o,i,a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(t,n){return e.fetchJSON("GET","/permissions/doctype/"+t+"/"+n).catch(function(e){return console.error(e),[]})},t.next=3,r(n,f);case 3:return o=t.sent,t.next=6,r(n,c);case 6:return i=t.sent,t.next=9,r(n,l);case 9:return a=t.sent,t.abrupt("return",{byMe:o,byLink:i,withMe:a});case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchSharing",value:function(t){return e.fetchJSON("GET",t).catch(function(e){return console.error(e),{}})}},{key:"revoke",value:function(t){return e.fetchJSON("DELETE","/sharings/"+t)}},{key:"revokeForClient",value:function(t,n){return e.fetchJSON("DELETE","/sharings/"+t+"/recipient/"+n)}},{key:"createLink",value:function(t){return e.fetchJSON("POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:t}}})}},{key:"revokeLink",value:function(t){return e.fetchJSON("DELETE","/permissions/"+t._id)}}]),t}();t.default=d}).call(t,n(27))},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(t.APPS_DOCTYPE="io.cozy.apps",function(){function t(){n(this,t)}return r(t,[{key:"all",value:function(){return e.fetchJSON("GET","/apps/").then(function(e){return{data:e.map(function(e){return Object.assign({},e,{id:e._id})})}})}}]),t}());t.default=o}).call(t,n(27))},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSharingDetails=t.getSharingStatus=t.getSharings=t.getSharingLink=t.fetchContacts=t.fetchApps=t.revokeLink=t.shareByLink=t.leave=t.unshare=t.share=t.fetchSharings=t.FETCH_SHARINGS=void 0;var a=n(19),u=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(89),c=n(203),l=n(406),f=n(407),d=n(240),h=t.FETCH_SHARINGS="FETCH_SHARINGS",p=function(e,t){var n=e.findIndex(function(e){return e.recipient.id===t});return[].concat(i(e.slice(0,n)),i(e.slice(n+1)))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"RECEIVE_SHARINGS_DATA":return t.response.sharings;case"RECEIVE_NEW_SHARING":return[].concat(i(e),[t.response]);case"RECEIVE_SHARING_REVOKE":var n=e.findIndex(function(e){return e.attributes.sharing_id===t.sharingId});if(-1===n)return e;var r=e[n],o=void 0===r.attributes.recipients||1===r.attributes.recipients.length,a=o?Object.assign({},r,{attributes:Object.assign({},r.attributes,{revoked:!0})}):Object.assign({},r,{attributes:Object.assign({},r.attributes,{recipients:p(r.attributes.recipients,t.recipientId)})});return[].concat(i(e.slice(0,n)),[a],i(e.slice(n+1)));default:return e}},y={fetchStatus:"pending",byMe:[],byLink:[],withMe:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments[1],n=void 0;switch(t.type){case h:return Object.assign({},e,{fetchStatus:"loading"});case"RECEIVE_SHARINGS_DATA":return Object.assign({fetchStatus:"loaded"},t.response.permissions);case"RECEIVE_FETCH_SHARINGS_ERROR":return Object.assign({},e,{fetchStatus:"error"});case"RECEIVE_NEW_SHARING":return Object.assign({},e,{byMe:[].concat(i(e.byMe),[{attributes:{permissions:{files:{type:t.doctype,values:[t.id]}},source_id:t.response.attributes.sharing_id,type:"io.cozy.sharings"}}])});case"RECEIVE_NEW_SHARING_LINK":return Object.assign({},e,{byLink:[].concat(i(e.byLink),[t.response])});case"REVOKE_SHARING_LINK":return n=e.byLink.findIndex(function(e){return t.permission._id===e._id}),-1===n?e:Object.assign({},e,{byLink:[].concat(i(e.byLink.slice(0,n)),i(e.byLink.slice(n+1)))});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case h:case"RECEIVE_SHARINGS_DATA":case"RECEIVE_FETCH_SHARINGS_ERROR":case"RECEIVE_NEW_SHARING":case"RECEIVE_NEW_SHARING_LINK":case"REVOKE_SHARING_LINK":return t.doctype?Object.assign({},e,o({},t.doctype,m(e[t.doctype],t))):e;default:return e}};t.default=(0,s.combineReducers)({documents:v,permissions:g});var b=(t.fetchSharings=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{types:[h,"RECEIVE_SHARINGS_DATA","RECEIVE_FETCH_SHARINGS_ERROR"],doctype:e,id:t,options:n,promise:function(t){return t.getCollection(l.SHARINGS_DOCTYPE).findByDoctype(e)},dependencies:[w()]}},t.share=function(e,t,n,o){return function(){var i=r(u.default.mark(function r(i,a){var s;return u.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all(t.map(function(e){return e.id||i(E(e)).then(function(e){return e.data[0]}).then(function(e){return e.id})}));case 2:return s=r.sent,z(e),r.abrupt("return",i(b(e,s,n,o)));case 5:case"end":return r.stop()}},r,void 0)}));return function(e,t){return i.apply(this,arguments)}}()},t.unshare=function(e,t){return function(){var n=r(u.default.mark(function n(r,o){var i,a;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=M(o(),e,t),a=1===i.attributes.recipients.length,n.abrupt("return",r({types:["REVOKE_SHARING","RECEIVE_SHARING_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,sharingId:i.attributes.sharing_id,recipientId:t._id,promise:function(e){return a?e.getCollection(l.SHARINGS_DOCTYPE).revoke(i.attributes.sharing_id):e.getCollection(l.SHARINGS_DOCTYPE).revokeForClient(i.attributes.sharing_id,i.attributes.recipients.find(function(e){return e.recipient.id===t._id}).Client.client_id)}}));case 3:case"end":return n.stop()}},n,void 0)}));return function(e,t){return n.apply(this,arguments)}}()},t.leave=function(e){return function(){var t=r(u.default.mark(function t(n,r){var o,i;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=P(r(),e._type,e._id),i=o.find(function(e){return!1===e.attributes.owner}),t.abrupt("return",n({types:["REVOKE_SHARING","RECEIVE_SHARING_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,sharingId:i.attributes.sharing_id,promise:function(e){return e.getCollection(l.SHARINGS_DOCTYPE).revoke(i.attributes.sharing_id)}}));case 3:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()},t.shareByLink=function(e){return B(e),_(e)},t.revokeLink=function(e){return function(){var t=r(u.default.mark(function t(n,r){var o;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=j(r(),e._type,e._id),t.abrupt("return",n({types:["REVOKE_SHARING_LINK","RECEIVE_SHARING_LINK_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,permission:o,promise:function(e){return e.getCollection(l.SHARINGS_DOCTYPE).revokeLink(o)}}));case 2:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"two-way",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{types:["CREATE_SHARING","RECEIVE_NEW_SHARING","RECEIVE_ERROR"],doctype:e._type,id:e._id,promise:function(o){return o.getCollection(l.SHARINGS_DOCTYPE).create(S(e),t,n,r)}}}),_=function(e){return{types:["CREATE_SHARING_LINK","RECEIVE_NEW_SHARING_LINK","RECEIVE_ERROR"],doctype:e._type,id:e._id,promise:function(t){return t.getCollection(l.SHARINGS_DOCTYPE).createLink(S(e,!0))}}},w=t.fetchApps=function(){return(0,d.makeFetchCollection)("apps",f.APPS_DOCTYPE,function(e){return e.getCollection(f.APPS_DOCTYPE).all()})},x=function(e){return(0,d.getCollection)(e,"apps").data},k=function(e,t){var n=x(e),r=n.find(function(e){return e.attributes.slug===t&&"ready"===e.attributes.state});if(!r)throw new Error("Sharing link: app "+t+" not installed");return r.links.related},E=(t.fetchContacts=function(){var e=(0,d.fetchCollection)("contacts","io.cozy.contacts");return e.promise=function(){var e=r(u.default.mark(function e(t){var n,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchDocuments("contacts","io.cozy.contacts");case 2:return n=e.sent,e.next=5,Promise.all(n.data.map(function(e){return"string"!=typeof e.email?e:t.updateDocument(Object.assign({},e,{email:[{address:e.email,primary:!0}]})).then(function(e){return e.data[0]})}));case 5:return r=e.sent,e.abrupt("return",Object.assign({},n,{data:r}));case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),e},function(e){var t=e.email;return(0,d.createDocument)("io.cozy.contacts",{email:[{address:t,primary:!0}]})}),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e._id,r=e._type,o=t?["GET"]:["ALL"];return N(e)?{files:{type:"io.cozy.files",verbs:o,values:[n]}}:{collection:{type:r,verbs:o,values:[n]},files:{type:"io.cozy.files",verbs:o,values:[r+"/"+n],selector:"referenced_by"}}},C=function(e,t){return e.cozy.sharings.documents.find(function(e){return e.attributes&&e.attributes.sharing_id===t})},O=function(e,t){return(0,d.getDocument)(e,"io.cozy.contacts",t)},T=function(e,t){return e.cozy.sharings.permissions[t]?e.cozy.sharings.permissions[t]:y},A=t.getSharingLink=function(e,t,n){var r=j(e,t,n);return r&&r.attributes&&r.attributes.codes&&r.attributes.codes.email?R(e,n,t,r.attributes.codes.email):null},j=function(e,t,n){var r=T(e,t),o=N({_type:t})?"files":"collection";return r.byLink.find(function(e){return e.attributes&&e.attributes.permissions&&e.attributes.permissions[o]&&-1!==e.attributes.permissions[o].values.indexOf(n)})},M=function(e,t,n){return P(e,t._type,t._id).find(function(e){return e.attributes&&e.attributes.recipients&&e.attributes.recipients.find(function(e){return e.recipient&&e.recipient.id===n._id})})},P=function(e,t,n){var r=T(e,t);return[].concat(i(r.byMe.filter(function(e){return-1!==e.attributes.permissions.files.values.indexOf(n)})),i(r.withMe.filter(function(e){return-1!==e.attributes.permissions.rule0.values.indexOf(n)}))).map(function(t){return C(e,t.attributes.source_id)}).filter(function(e){return e&&e.attributes&&!e.attributes.revoked})},D=(t.getSharings=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],T(e,t)),r="io.cozy.files"===t?"files":"collection";return{byMe:n.byMe.map(function(e){return e.attributes.permissions.files.values[0]}),withMe:n.withMe.map(function(e){return e.attributes.permissions.rule0.values[0]}),byLink:n.byLink.map(function(e){return e.attributes.permissions[r].values[0]})}},t.getSharingStatus=function(e,t,n){var r=P(e,t,n);return{shared:0!==r.length,owner:0===r.length||r.some(function(e){return!0===e.attributes.owner}),sharingType:r.some(function(e){return"two-way"===e.attributes.sharing_type})?"two-way":"one-way",sharings:r}}),L=(t.getSharingDetails=function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],D(e,t,n)),o=r.shared,i=r.owner,a=r.sharingType,u=r.sharings,s=A(e,t,n);return{shared:o,owner:i,sharingType:a,sharingLink:s,sharer:o&&!i?{name:"John Doe",url:u[0].attributes.sharer.url}:null,readOnly:!i&&"one-way"===a,recipients:o&&i?L(e,u):[],byMe:o&&!0===i,withMe:o&&!i,byLink:!!s}},function(e,t){return t.filter(function(e){return e.attributes.recipients}).map(function(t){return t.attributes.recipients.map(function(n){return{contact:O(e,n.recipient.id),status:n.status,type:t.attributes.sharing_type}})}).reduce(function(e,t){return e.concat(t)},[])}),I=function(e,t){switch(t){case"io.cozy.files":return k(e,"drive");case"io.cozy.photos.albums":return k(e,"photos");default:throw new Error("Sharing link: don't know which app to use for doctype "+t)}},R=function(e,t,n,r){return I(e,n)+"public?sharecode="+r+"&id="+t},N=function(e){var t=e._type,n=e.type;return"io.cozy.files"===t||"directory"===n||"file"===n},F=function(e,t){var n=(0,c.getTracker)();n&&n.push(["trackEvent",N(e)?"Drive":"Photos",t,t+(N(e)?"File":"Album")])},B=function(e){return F(e,"shareByLink")},z=function(e){return F(e,"shareByEmail")}},function(e,t,n){"use strict";(function(e){function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyAccount=t.DESTROY_ACCOUNT=void 0;var o=n(19),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(983),u=n(15),s=n(28),c=function(e,t){return Object.assign({},e,{accounts:e.accounts.filter(function(e){return e!==t.id})})},l=function(){var t=r(i.default.mark(function t(n){var r,o,u=n.accountId;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.defineIndex(s.TRANSACTION_DOCTYPE,["account"]);case 2:return r=t.sent,t.next=5,(0,a.queryAll)(r,{selector:{account:u}});case 5:return o=t.sent,t.abrupt("return",(0,a.deleteAll)(s.TRANSACTION_DOCTYPE,o));case 7:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),f=t.DESTROY_ACCOUNT="DESTROY_ACCOUNT";t.destroyAccount=function(e){return function(){var t=r(i.default.mark(function t(n,r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:f,account:e}),t.next=3,n((0,u.updateDocuments)("io.cozy.bank.groups",{selector:{_id:{$gt:null}}},function(t){return c(t,e)},{updateCollections:["groups"]}));case 3:return t.next=5,n((0,u.deleteDocuments)(s.TRANSACTION_DOCTYPE,{selector:{account:e.id}},{updateCollections:["transactions"]}));case 5:return t.next=7,l({accountId:e.id});case 7:return t.abrupt("return",n((0,u.deleteDocument)(e,{updateCollections:["accounts","onboarding_accounts"]})));case 8:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()}}).call(t,n(27))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.isInitialSyncOK=t.getInitialSyncStatus=t.setInitialSyncStatus=t.getAccessToken=t.getURL=t.initialState=t.unlink=t.revokeClient=t.storeCredentials=t.setToken=void 0;var i=n(19),a=r(i),u=n(411),s=n(305),c=r(s),l=(t.setToken=function(e){return{type:"SET_TOKEN",token:e}},t.storeCredentials=function(e,t,n){return{type:"STORE_CREDENTIALS",url:e,client:t,token:n}},t.revokeClient=function(){return{type:"REVOKE_CLIENT"}},t.unlink=function(e){return(0,u.resetClient)(e),{type:"UNLINK"}},t.initialState={url:"",client:null,token:null,revoked:!1}),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"STORE_CREDENTIALS":return Object.assign({},e,{url:t.url,client:t.client,token:t.token,revoked:!1});case"SET_TOKEN":return Object.assign({},e,{token:t.token});case"REVOKE_CLIENT":return Object.assign({},e,{revoked:!0});case"UNLINK":return l;case"INITIAL_SYNC_OK":return d(!0),e;default:return e}};t.default=f;var d=(t.getURL=function(e){return e.url},t.getAccessToken=function(e){return e.token?e.token.accessToken:null},t.setInitialSyncStatus=function(e){return c.default.setItem("INITIAL_SYNC_OK",e)}),h=t.getInitialSyncStatus=function(){return c.default.getItem("INITIAL_SYNC_OK")};t.isInitialSyncOK=function(){var e=o(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.abrupt("return",!0===t);case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(t,n){document.getElementById("coz-bar")&&document.getElementById("coz-bar").remove(),n&&n.resetStore&&n.resetStore(),t&&e.auth.unregisterClient&&e.auth.unregisterClient(t),e._storage&&e._storage.clear()}Object.defineProperty(t,"__esModule",{value:!0}),t.updateAccessTokenBar=t.initBar=t.initClient=t.getToken=t.getDeviceName=void 0;var a=n(19),u=r(a),s=n(984),c=r(s);t.resetClient=i;var l=n(15),f=n(991),d=n(28),h=n(992),p=r(h),v=function(){return void 0!==window.cordova},y=function(){return v()&&void 0!==window.device},m=function(e){var t=["iPhone","iPad"],n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(e.match(new RegExp(u)))return u}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return"device"},g=t.getDeviceName=function(){if(!y())return"Device";var e=window.device,t=e.manufacturer,n=e.model,r="Apple"===t?m(n):n;return(0,c.default)(t)+" "+r},b=function(){return navigator&&navigator.language?navigator.language.slice(0,2):"en"};t.getToken=function(){var t=o(u.default.mark(function t(){var n;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.authorize();case 3:return n=t.sent,t.abrupt("return",n.token);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,void 0,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),t.initClient=function(e){return new l.CozyClient({cozyURL:e,oauth:{storage:new f.LocalStorage,clientParams:{redirectURI:"http://localhost",softwareID:"io.cozy.banks.mobile",clientName:"Cozy Banks ("+g()+")",softwareVersion:__APP_VERSION__,clientKind:"mobile",clientURI:"https://gitlab.cozycloud.cc/labs/cozy-bank",logoURI:"https://gitlab.cozycloud.cc/labs/cozy-bank/raw/master/src/targets/favicons/favicon-32x32.png",policyURI:"https://files.cozycloud.cc/cgu.pdf",scopes:(0,p.default)()}},offline:{doctypes:[d.ACCOUNT_DOCTYPE,d.GROUP_DOCTYPE,d.TRANSACTION_DOCTYPE]}})},t.initBar=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cozy.bar.init(Object.assign({appName:"Banks",appEditor:"Cozy",cozyURL:e,token:t,iconPath:n(994),lang:b(),replaceTitleOnMobile:!0,displayOnMobile:!0},r))},t.updateAccessTokenBar=function(e){cozy.bar.updateAccessToken(e)}}).call(t,n(27))},function(e,t){function n(e){return r.test(e)}var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=n},function(e,t,n){"use strict";function r(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e,t){function n(t,n){return t=e.createLocation(t),Object(u.a)(t,n,b.location,b.routes,b.params)}function o(e,n){E&&E.location===e?f(E,n):Object(c.a)(t,e,function(t,r){t?n(t):r?f(l({},r,{location:e}),n):n()})}function f(e,t){function n(n,o){if(n||o)return r(n,o);Object(s.a)(e,function(n,r){n?t(n):t(null,null,b=l({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var o=Object(i.a)(b,e),a=o.leaveRoutes,u=o.changeRoutes,c=o.enterRoutes;k(a,b),a.filter(function(e){return-1===c.indexOf(e)}).forEach(y),x(u,b,e,function(t,o){if(t||o)return r(t,o);w(c,e,n)})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=S++)}function h(e){return e.map(function(e){return C[d(e)]}).filter(function(e){return e})}function p(e,n){Object(c.a)(t,e,function(t,r){if(null==r)return void n();E=l({},r,{location:e});for(var o=h(Object(i.a)(b,E).leaveRoutes),a=void 0,u=0,s=o.length;null==a&&u<s;++u)a=o[u](e);n(a)})}function v(){if(b.routes){for(var e=h(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function y(e){var t=d(e);t&&(delete C[t],r(C)||(O&&(O(),O=null),T&&(T(),T=null)))}function m(t,n){var o=!r(C),i=d(t,!0);return C[i]=n,o&&(O=e.listenBefore(p),e.listenBeforeUnload&&(T=e.listenBeforeUnload(v))),function(){y(t)}}function g(t){function n(n){b.location===n?t(null,b):o(n,function(n,r,o){n?t(n):r?e.replace(r):o&&t(null,o)})}var r=e.listen(n);return b.location?t(null,b):n(e.getCurrentLocation()),r}var b={},_=Object(a.a)(),w=_.runEnterHooks,x=_.runChangeHooks,k=_.runLeaveHooks,E=void 0,S=1,C=Object.create(null),O=void 0,T=void 0;return{isActive:n,match:o,listenBeforeLeavingRoute:m,listen:g}}t.a=o;var i=(n(99),n(997)),a=n(998),u=n(999),s=n(1e3),c=n(1001),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then}t.a=r},function(e,t,n){"use strict";function r(e,t,n){return o(i({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive}),n)}function o(e,t){var n=t.location,r=t.params,o=t.routes;return e.location=n,e.params=r,e.routes=o,e}t.b=r,t.a=o;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return 0===e.button}function i(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function u(e,t){return"function"==typeof e?e(t.location):e}var s=n(2),c=n(53),l=n.n(c),f=n(5),d=(n.n(f),n(26)),h=n.n(d),p=n(244),v=n(243),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=l()({displayName:"Link",mixins:[Object(v.b)("router")],contextTypes:{router:p.b},propTypes:{to:Object(f.oneOfType)([f.string,f.object,f.func]),activeStyle:f.object,activeClassName:f.string,onlyActiveOnIndex:f.bool.isRequired,onClick:f.func,target:f.string},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t||h()(!1),!i(e)&&o(e)&&(this.props.target||(e.preventDefault(),t.push(u(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,o=e.activeStyle,i=e.onlyActiveOnIndex,c=r(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),l=this.context.router;if(l){if(!t)return s.default.createElement("a",c);var f=u(t,l);c.href=l.createHref(f),(n||null!=o&&!a(o))&&l.isActive(f,i)&&(n&&(c.className?c.className+=" "+n:c.className=n),o&&(c.style=y({},c.style,o)))}return s.default.createElement("a",y({},c,{onClick:this.handleClick}))}});t.a=m},function(e,t,n){"use strict";var r=n(53),o=n.n(r),i=n(5),a=(n.n(i),n(26)),u=n.n(a),s=n(60),c=n(100),l=n(117),f=o()({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=Object(s.a)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,o=e.params,i=void 0;if("/"===t.to.charAt(0))i=Object(c.a)(t.to,o);else if(t.to){var a=e.routes.indexOf(t),u=f.getRoutePattern(e.routes,a-1),s=u.replace(/\/*$/,"/")+t.to;i=Object(c.a)(s,o)}else i=r.pathname;n({pathname:i,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var o=e[r],i=o.path||"";if(n=i.replace(/\/*$/,"/")+n,0===i.indexOf("/"))break}return"/"+n}},propTypes:{path:i.string,from:i.string,to:i.string.isRequired,query:i.object,state:i.object,onEnter:l.c,children:l.c},render:function(){u()(!1)}});t.a=f},function(e,t,n){"use strict";function r(e){var t=c()(e),n=function(){return t};return i()(u()(n))(e)}t.a=r;var o=n(419),i=n.n(o),a=n(420),u=n.n(a),s=n(1013),c=n.n(s)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1010),i=n(245),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(101),s=n(61),c=function(e){return(0,o.stringify)(e).replace(/%20/g,"+")},l=o.parse,f=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),o=t.stringifyQuery,i=t.parseQueryString;"function"!=typeof o&&(o=c),"function"!=typeof i&&(i=l);var f=function(e){return e?(null==e.query&&(e.query=i(e.search.substring(1))),e):e},d=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,s.parsePath)(e):e,i=o(t);return r({},n,{search:i?"?"+i:""})};return r({},n,{getCurrentLocation:function(){return f(n.getCurrentLocation())},listenBefore:function(e){return n.listenBefore(function(t,n){return(0,a.default)(e,f(t),n)})},listen:function(e){return n.listen(function(t){return e(f(t))})},push:function(e){return n.push(d(e,e.query))},replace:function(e){return n.replace(d(e,e.query))},createPath:function(e){return n.createPath(d(e,e.query))},createHref:function(e){return n.createHref(d(e,e.query))},createLocation:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=n.createLocation.apply(n,[d(e,e.query)].concat(r));return e.query&&(i.query=(0,u.createQuery)(e.query)),f(i)}})}};t.default=f},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(245),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(61),u=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),o=t.basename,u=function(e){return e?(o&&null==e.basename&&(0===e.pathname.toLowerCase().indexOf(o.toLowerCase())?(e.pathname=e.pathname.substring(o.length),e.basename=o,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},s=function(e){if(!o)return e;var t="string"==typeof e?(0,a.parsePath)(e):e,n=t.pathname,i="/"===o.slice(-1)?o:o+"/",u="/"===n.charAt(0)?n.slice(1):n;return r({},t,{pathname:i+u})};return r({},n,{getCurrentLocation:function(){return u(n.getCurrentLocation())},listenBefore:function(e){return n.listenBefore(function(t,n){return(0,i.default)(e,u(t),n)})},listen:function(e){return n.listen(function(t){return e(u(t))})},push:function(e){return n.push(s(e))},replace:function(e){return n.replace(s(e))},createPath:function(e){return n.createPath(s(e))},createHref:function(e){return n.createHref(s(e))},createLocation:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return u(n.createLocation.apply(n,[s(e)].concat(r)))}})}};t.default=u},function(e,t,n){"use strict";function r(e){return function(t){return i()(u()(e))(t)}}t.a=r;var o=n(419),i=n.n(o),a=n(420),u=n.n(a)},function(e,t,n){"use strict";t.__esModule=!0,t.readState=t.saveState=void 0;var r=n(50),o=(function(e){e&&e.__esModule}(r),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),i={SecurityError:!0},a=function(e){return"@@History/"+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(a(e)):window.sessionStorage.setItem(a(e),JSON.stringify(t))}catch(e){if(i[e.name])return;if(o[e.name]&&0===window.sessionStorage.length)return;throw e}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(a(e))}catch(e){if(i[e.name])return}if(t)try{return JSON.parse(t)}catch(e){}}},function(e,t,n){"use strict";function r(e){var t=void 0;return i&&(t=Object(o.a)(e)()),t}t.a=r;var o=n(421),i=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=t.Content=void 0;var o=n(1025),i=r(o),a=n(425),u=r(a);t.Content=(0,u.default)("main",{className:i.default["c-content"]}),t.Layout=(0,u.default)("div",{className:i.default["c-layout"]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return i.default.createElement(e,r({},t,n))}}},function(e,t){e.exports={intentModal:"styles_intentModal_25jqp",intentModal__loading:"styles_intentModal__loading_XmLbv",intentModal__cross:"styles_intentModal__cross_1elWg"}},function(e,t,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(o,i,a,u){"use strict";function s(e,t,n){return setTimeout(h(e,n),t)}function c(e,t,n){return!!Array.isArray(e)&&(l(e,n[t],n),!0)}function l(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==u)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function f(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}function d(e,t,n){var r,o=t.prototype;r=e.prototype=Object.create(o),r.constructor=e,r._super=o,n&&pe(r,n)}function h(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==me?e.apply(t?t[0]||u:u,t):e}function v(e,t){return e===u?t:e}function y(e,t,n){l(_(t),function(t){e.addEventListener(t,n,!1)})}function m(e,t,n){l(_(t),function(t){e.removeEventListener(t,n,!1)})}function g(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function b(e,t){return e.indexOf(t)>-1}function _(e){return e.trim().split(/\s+/g)}function w(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function x(e){return Array.prototype.slice.call(e,0)}function k(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];w(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function E(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<ve.length;){if(n=ve[i],(r=n?n+o:t)in e)return r;i++}return u}function S(){return ke++}function C(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}function O(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){p(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t=e.options.inputClass;return new(t||(Ce?U:Oe?V:Se?$:q))(e,A)}function A(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&Ae&&r-o==0,a=t&(Me|Pe)&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,j(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function j(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=D(t)),o>1&&!n.firstMultiple?n.firstMultiple=D(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,s=t.center=L(r);t.timeStamp=_e(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=F(u,s),t.distance=N(u,s),M(n,t),t.offsetDirection=R(t.deltaX,t.deltaY);var c=I(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=be(c.x)>be(c.y)?c.x:c.y,t.scale=a?z(a.pointers,r):1,t.rotation=a?B(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,P(n,t);var l=e.element;g(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function M(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};t.eventType!==Ae&&i.eventType!==Me||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function P(e,t){var n,r,o,i,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!=Pe&&(s>Te||a.velocity===u)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,f=I(s,c,l);r=f.x,o=f.y,n=be(f.x)>be(f.y)?f.x:f.y,i=R(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}function D(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ge(e.pointers[n].clientX),clientY:ge(e.pointers[n].clientY)},n++;return{timeStamp:_e(),pointers:t,center:L(t),deltaX:e.deltaX,deltaY:e.deltaY}}function L(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:ge(n/t),y:ge(r/t)}}function I(e,t,n){return{x:t/e||0,y:n/e||0}}function R(e,t){return e===t?De:be(e)>=be(t)?e<0?Le:Ie:t<0?Re:Ne}function N(e,t,n){n||(n=qe);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function F(e,t,n){n||(n=qe);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}function B(e,t){return F(t[1],t[0],Ue)+F(e[1],e[0],Ue)}function z(e,t){return N(t[0],t[1],Ue)/N(e[0],e[1],Ue)}function q(){this.evEl=Ye,this.evWin=Ve,this.pressed=!1,O.apply(this,arguments)}function U(){this.evEl=Ge,this.evWin=Je,O.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Ze,this.evWin=Xe,this.started=!1,O.apply(this,arguments)}function Y(e,t){var n=x(e.touches),r=x(e.changedTouches);return t&(Me|Pe)&&(n=k(n.concat(r),"identifier",!0)),[n,r]}function V(){this.evTarget=et,this.targetIds={},O.apply(this,arguments)}function W(e,t){var n=x(e.touches),r=this.targetIds;if(t&(Ae|je)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=x(e.changedTouches),u=[],s=this.target;if(i=n.filter(function(e){return g(e.target,s)}),t===Ae)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&u.push(a[o]),t&(Me|Pe)&&delete r[a[o].identifier],o++;return u.length?[k(i.concat(u),"identifier",!0),u]:void 0}function $(){O.apply(this,arguments);var e=h(this.handler,this);this.touch=new V(this.manager,e),this.mouse=new q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function G(e,t){e&Ae?(this.primaryTouch=t.changedPointers[0].identifier,J.call(this,t)):e&(Me|Pe)&&J.call(this,t)}function J(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(o,tt)}}function K(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=nt&&a<=nt)return!0}return!1}function Z(e,t){this.manager=e,this.set(t)}function X(e){if(b(e,ut))return ut;var t=b(e,st),n=b(e,ct);return t&&n?ut:t||n?t?st:ct:b(e,at)?at:it}function Q(e){this.options=pe({},this.defaults,e||{}),this.id=S(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ft,this.simultaneous={},this.requireFail=[]}function ee(e){return e&yt?"cancel":e&pt?"end":e&ht?"move":e&dt?"start":""}function te(e){return e==Ne?"down":e==Re?"up":e==Le?"left":e==Ie?"right":""}function ne(e,t){var n=t.manager;return n?n.get(e):e}function re(){Q.apply(this,arguments)}function oe(){re.apply(this,arguments),this.pX=null,this.pY=null}function ie(){re.apply(this,arguments)}function ae(){Q.apply(this,arguments),this._timer=null,this._input=null}function ue(){re.apply(this,arguments)}function se(){re.apply(this,arguments)}function ce(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function le(e,t){return t=t||{},t.recognizers=v(t.recognizers,le.defaults.preset),new fe(e,t)}function fe(e,t){this.options=pe({},le.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=T(this),this.touchAction=new Z(this,this.options.touchAction),de(this,!0),l(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function de(e,t){var n=e.element;if(n.style){var r;l(e.options.cssProps,function(o,i){r=E(n.style,i),t?(e.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function he(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var pe,ve=["","webkit","Moz","MS","ms","o"],ye=i.createElement("div"),me="function",ge=Math.round,be=Math.abs,_e=Date.now;pe="function"!=typeof Object.assign?function(e){if(e===u||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==u&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var we=f(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===u)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),xe=f(function(e,t){return we(e,t,!0)},"merge","Use `assign`."),ke=1,Ee=/mobile|tablet|ip(ad|hone|od)|android/i,Se="ontouchstart"in o,Ce=E(o,"PointerEvent")!==u,Oe=Se&&Ee.test(navigator.userAgent),Te=25,Ae=1,je=2,Me=4,Pe=8,De=1,Le=2,Ie=4,Re=8,Ne=16,Fe=Le|Ie,Be=Re|Ne,ze=Fe|Be,qe=["x","y"],Ue=["clientX","clientY"];O.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(C(this.element),this.evWin,this.domHandler)}};var He={mousedown:Ae,mousemove:je,mouseup:Me},Ye="mousedown",Ve="mousemove mouseup";d(q,O,{handler:function(e){var t=He[e.type];t&Ae&&0===e.button&&(this.pressed=!0),t&je&&1!==e.which&&(t=Me),this.pressed&&(t&Me&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var We={pointerdown:Ae,pointermove:je,pointerup:Me,pointercancel:Pe,pointerout:Pe},$e={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ge="pointerdown",Je="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Ge="MSPointerDown",Je="MSPointerMove MSPointerUp MSPointerCancel"),d(U,O,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=We[r],i=$e[e.pointerType]||e.pointerType,a="touch"==i,u=w(t,e.pointerId,"pointerId");o&Ae&&(0===e.button||a)?u<0&&(t.push(e),u=t.length-1):o&(Me|Pe)&&(n=!0),u<0||(t[u]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(u,1))}});var Ke={touchstart:Ae,touchmove:je,touchend:Me,touchcancel:Pe},Ze="touchstart",Xe="touchstart touchmove touchend touchcancel";d(H,O,{handler:function(e){var t=Ke[e.type];if(t===Ae&&(this.started=!0),this.started){var n=Y.call(this,e,t);t&(Me|Pe)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Qe={touchstart:Ae,touchmove:je,touchend:Me,touchcancel:Pe},et="touchstart touchmove touchend touchcancel";d(V,O,{handler:function(e){var t=Qe[e.type],n=W.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var tt=2500,nt=25;d($,O,{handler:function(e,t,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)G.call(this,t,n);else if(o&&K.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=E(ye.style,"touchAction"),ot=rt!==u,it="auto",at="manipulation",ut="none",st="pan-x",ct="pan-y",lt=function(){if(!ot)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||o.CSS.supports("touch-action",n)}),e}();Z.prototype={set:function(e){"compute"==e&&(e=this.compute()),ot&&this.manager.element.style&&lt[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),X(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,o=b(r,ut)&&!lt[ut],i=b(r,ct)&&!lt[ct],a=b(r,st)&&!lt[st];if(o){var u=1===e.pointers.length,s=e.distance<2,c=e.deltaTime<250;if(u&&s&&c)return}return a&&i?void 0:o||i&&n&Fe||a&&n&Be?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ft=1,dt=2,ht=4,pt=8,vt=pt,yt=16;Q.prototype={defaults:{},set:function(e){return pe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ne(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=ne(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=ne(e,this),-1===w(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=ne(e,this);var t=w(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;r<pt&&t(n.options.event+ee(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=pt&&t(n.options.event+ee(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|ft)))return!1;e++}return!0},recognize:function(e){var t=pe({},e);if(!p(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(vt|yt|32)&&(this.state=ft),this.state=this.process(t),this.state&(dt|ht|pt|yt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},d(re,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(dt|ht),o=this.attrTest(e);return r&&(n&Pe||!o)?t|yt:r||o?n&Me?t|pt:t&dt?t|ht:dt:32}}),d(oe,re,{defaults:{event:"pan",threshold:10,pointers:1,direction:ze},getTouchAction:function(){var e=this.options.direction,t=[];return e&Fe&&t.push(ct),e&Be&&t.push(st),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Fe?(o=0===i?De:i<0?Le:Ie,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?De:a<0?Re:Ne,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return re.prototype.attrTest.call(this,e)&&(this.state&dt||!(this.state&dt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=te(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),d(ie,re,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&dt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),d(ae,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[it]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Me|Pe)&&!o)this.reset();else if(e.eventType&Ae)this.reset(),this._timer=s(function(){this.state=vt,this.tryEmit()},t.time,this);else if(e.eventType&Me)return vt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===vt&&(e&&e.eventType&Me?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=_e(),this.manager.emit(this.options.event,this._input)))}}),d(ue,re,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&dt)}}),d(se,re,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Fe|Be,pointers:1},getTouchAction:function(){return oe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Fe|Be)?t=e.overallVelocity:n&Fe?t=e.overallVelocityX:n&Be&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&be(t)>this.options.velocity&&e.eventType&Me},emit:function(e){var t=te(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),d(ce,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[at]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Ae&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=Me)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||N(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e;if(0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=s(function(){this.state=vt,this.tryEmit()},t.interval,this),dt):vt}return 32},failTimeout:function(){return this._timer=s(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),le.VERSION="2.0.7",le.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ue,{enable:!1}],[ie,{enable:!1},["rotate"]],[se,{direction:Fe}],[oe,{direction:Fe},["swipe"]],[ce],[ce,{event:"doubletap",taps:2},["tap"]],[ae]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};fe.prototype={set:function(e){return pe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&vt)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(dt|ht|pt)&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=w(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==u&&t!==u){var n=this.handlers;return l(_(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==u){var n=this.handlers;return l(_(e),function(e){t?n[e]&&n[e].splice(w(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&he(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&de(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pe(le,{INPUT_START:Ae,INPUT_MOVE:je,INPUT_END:Me,INPUT_CANCEL:Pe,STATE_POSSIBLE:ft,STATE_BEGAN:dt,STATE_CHANGED:ht,STATE_ENDED:pt,STATE_RECOGNIZED:vt,STATE_CANCELLED:yt,STATE_FAILED:32,DIRECTION_NONE:De,DIRECTION_LEFT:Le,DIRECTION_RIGHT:Ie,DIRECTION_UP:Re,DIRECTION_DOWN:Ne,DIRECTION_HORIZONTAL:Fe,DIRECTION_VERTICAL:Be,DIRECTION_ALL:ze,Manager:fe,Input:O,TouchAction:Z,TouchInput:V,MouseInput:q,PointerEventInput:U,TouchMouseInput:$,SingleTouchInput:H,Recognizer:Q,AttrRecognizer:re,Tap:ce,Pan:oe,Swipe:se,Pinch:ie,Rotate:ue,Press:ae,on:y,off:m,each:l,merge:xe,extend:we,assign:pe,inherit:d,bindFn:h,prefixed:E}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=le,(r=function(){return le}.call(t,n,t,e))!==u&&(e.exports=r)}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSharingStatus=void 0;var r=n(1060),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.AccountSharingStatus=o.default,t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"flag__"+e},o=function(e,t){return localStorage.setItem(r(e),JSON.stringify(t))},i=function(e){var t=localStorage.getItem(r(e));return t?JSON.parse(t):(o(e,null),JSON.stringify(null))},a=function(){if(window.localStorage){var e=[].slice.call(arguments);return 1===e.length?i(e[0]):o(e[0],e[1])}},u=new RegExp("^flag__"),s=t.listFlags=function(){return Object.keys(localStorage).filter(function(e){return e.indexOf("flag__")>-1}).map(function(e){return e.replace(u,"")})},c=t.resetFlags=function(){s().forEach(function(e){return localStorage.removeItem(r(e))})};a.list=s,a.reset=c,window.flag=a,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionsPage=t.getLabel=void 0;var r=n(252);Object.defineProperty(t,"getLabel",{enumerable:!0,get:function(){return r.getLabel}});var o=n(1074),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.TransactionsPage=i.default},function(e,t){e.exports={0:"uncategorized",100:"potentialTransfer",200:"check",300:"atm",200100:"incomeCat",200110:"activityIncome",200120:"replacementIncome",200130:"interests",200140:"dividends",200150:"donationsReceived",200160:"allocations",200170:"rentalIncome",200180:"additionalIncome",200190:"retirement",400100:"dailyLife",400110:"supermarket",400111:"tobaccoPress",400112:"shoppingECommerce",400120:"consumerLoan",400130:"dressing",400140:"pets",400150:"telecom",400160:"snaksAndworkMeals",400170:"charity",400180:"giftsOffered",400190:"personalCare",400200:"transportation",400205:"vehiculePurchase",400210:"vehiculeLoan",400220:"vehiculeRental",400230:"vehiculeInsurance",400240:"vehiculeMaintenance",400250:"vehiculeGas",400260:"privateParking",400270:"parkingAndToll",400280:"publicTransportation",400290:"taxi",400300:"services",400310:"post",400320:"legalCounsel",400330:"homeAssistance",400340:"bankFees",400350:"financialAdvisor",400400:"kids",400410:"kidsAllowance",400420:"schoolRestaurant",400430:"childCare",400440:"schoolInsurance",400450:"toysAndGifts",400460:"pensionPaid",400470:"kidsActivities",400500:"tax",400510:"incomeTax",400520:"socialTax",400530:"wealthTax",400540:"realEstateTax",400600:"health",400610:"healthExpenses",400620:"healthInsurance",400700:"activities",400710:"activityFees",400720:"activityEquipments",400730:"activityLessons",400740:"electronicsAndMultimedia",400750:"booksMoviesMusic",400760:"hobbyAndPassion",400800:"goingOutAndTravel",400810:"restaurantsAndBars",400820:"goingOutEntertainment",400830:"goingOutCulture",400840:"travel",400850:"journey",400900:"educationAndTraining",400910:"tuition",400920:"eduBooksAndSupplies",400930:"studentLoan",400940:"eduLessons",401000:"homeAndRealEstate",401010:"realEstateLoan",401020:"rent",401030:"homeCharges",401040:"homeInsurance",401050:"homeImprovement",401060:"homeHardware",401070:"water",401080:"power",600100:"excludeFromBudgetCat",600110:"internalTransfer",600120:"creditCardPayment",600130:"loanCredit",600140:"professionalExpenses",600150:"investmentBuySell",600160:"friendBorrowing",600170:"savings"}},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./icon-cat-activities.svg":1076,"./icon-cat-dailyLife.svg":1077,"./icon-cat-educationAndTraining.svg":1078,"./icon-cat-excludeFromBudgetCat.svg":1079,"./icon-cat-goingOutAndTravel.svg":1080,"./icon-cat-health.svg":1081,"./icon-cat-homeAndRealEstate.svg":1082,"./icon-cat-incomeCat.svg":1083,"./icon-cat-kids.svg":1084,"./icon-cat-services.svg":1085,"./icon-cat-tax.svg":1086,"./icon-cat-transportation.svg":1087,"./icon-cat-uncategorized.svg":433};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=432},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-uncategorized",use:"icon-cat-uncategorized-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-uncategorized">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#95999D" />\n    <path fill="#FFFFFF" d="M12,0 C18.616,0 24,5.383 24,12 C24,18.617 18.616,24 12,24 C5.383,24 0,18.617 0,12 C0,5.383 5.383,0 12,0 Z M12,1 C5.93441667,1 1,5.93441667 1,12 C1,18.0655833 5.93441667,23 12,23 C18.0646667,23 23,18.0655833 23,12 C23,5.93441667 18.0646667,1 12,1 Z M12,19 C11.447,19 11,18.553 11,18 C11,17.448 11.447,17 12,17 C12.551,17 13,17.448 13,18 C13,18.553 12.551,19 12,19 Z M12.5,12.965 L12.5,15.5 C12.5,15.777 12.275,16 12,16 C11.724,16 11.5,15.777 11.5,15.5 L11.5,12.5 C11.5,12.224 11.724,12 12,12 C13.378,12 14.5,10.879 14.5,9.5 C14.5,8.121 13.378,7 12,7 C10.621,7 9.5,8.121 9.5,9.5 C9.5,9.777 9.275,10 9,10 C8.724,10 8.5,9.777 8.5,9.5 C8.5,7.57 10.069,6 12,6 C13.93,6 15.5,7.57 15.5,9.5 C15.5,11.26 14.193,12.721 12.5,12.965 Z" transform="translate(4 4)" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(5),u=r(a),s=n(13),c=r(s),l=n(1089),f=r(l),d={EUR:"",USD:"$"},h=function(e){var t=e.currency,n=e.coloredPositive,r=e.coloredNegative,o=e.coloredWarning,a=e.warningLimit,u=e.signed,s=e.className,l=e.total,h=e.decimalNumbers;h=isNaN(h)?2:h;var p=l.toLocaleString("fr-FR",{minimumFractionDigits:h,maximumFractionDigits:h}),v=l>0,y=l>a,m="";return 0!==l&&(v&&n?m="bnk-figure-content--positive":!v&&r?m="bnk-figure-content--negative":!y&&o&&(m="bnk-figure-content--warning")),i.default.createElement("div",{className:(0,c.default)(f.default[m],s)},i.default.createElement("span",{className:f.default["bnk-figure-total"]},v&&u&&"+",p),t&&i.default.createElement("span",{className:f.default["bnk-figure-currency"]},d[t]||t))};h.propTypes={total:u.default.number.isRequired,currency:u.default.string,coloredPositive:u.default.bool,coloredNegative:u.default.bool,signed:u.default.bool,decimalNumbers:u.default.number,warningLimit:u.default.number},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;var i=n(2),a=r(i),u=n(13),s=r(u),c=n(1095),l=r(c),f=function(e){var t=e.separator;return a.default.createElement("span",{className:l.default.Breadcrumb__separator},t)},d=function(e){var t=e.item,n=t.tag;return a.default.createElement("div",{onClick:t.onClick,className:(0,s.default)(l.default.Breadcrumb__crumb,t.isLast&&l.default.Breadcrumb__last,o({},l.default.Breadcrumb__link,t.onClick))},a.default.createElement(n,{className:l.default.Breadcrumb__title},t.name,t.displaySeparator&&a.default.createElement(f,{separator:t.separator})))},h=t.Breadcrumb=function(e){var t=e.items,n=e.withLastSeparator,r=void 0!==n&&n,o=e.separator,i=void 0===o?"/":o,u=e.tag,s=void 0===u?"span":u,c=void 0;return a.default.createElement("div",{className:l.default.Breadcrumb},t.map(function(e,n){var o=n===t.length-1;return e.isLast=o,void 0===e.displaySeparator&&(e.displaySeparator=r||!o),void 0===e.separator&&(e.separator=i),void 0===e.tag&&(e.tag=s),c&&(e.previousOnClick=c),e.onClick&&(c=e.onClick),a.default.createElement(d,{item:e})}))};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getVendors=function(e){return e.reimbursements?e.reimbursements.map(function(e){return e&&e.bill&&e.bill.vendor}).filter(Boolean):[]},t.formatVendor=function(e){return{Ameli:"la CPAM"}[e]||e}},function(e,t){e.exports={"bnk-table-category":"styles_bnk-table-category_2cJbX","bnk-cat-top":"styles_bnk-cat-top_1TRQI","bnk-cat-form":"styles_bnk-cat-form_3XQkT","bnk-cat-filter":"styles_bnk-cat-filter_znmof","bnk-cat-figure":"styles_bnk-cat-figure_1GWsn","bnk-cat-chart":"styles_bnk-cat-chart_1w5C0","bnk-table-percentage":"styles_bnk-table-percentage_2U8s7","bnk-table-operation":"styles_bnk-table-operation_2sZBf","bnk-table-amount":"styles_bnk-table-amount_3FGZ4","bnk-table-total":"styles_bnk-table-total_1Vj1L","bnk-table-row":"styles_bnk-table-row_2QZIu","bnk-table-row--uncollapsed":"styles_bnk-table-row--uncollapsed_22uA3","bnk-table-category-category":"styles_bnk-table-category-category_Dh7gq","bnk-table-chevron":"styles_bnk-table-chevron_3r_7E","bnk-table-category--kids":"styles_bnk-table-category--kids_1cFf5","bnk-table-category--dailyLife":"styles_bnk-table-category--dailyLife_28e_h","bnk-table-category--educationAndTraining":"styles_bnk-table-category--educationAndTraining_2TVM5","bnk-table-category--health":"styles_bnk-table-category--health_3jZWp","bnk-table-category--homeAndRealEstate":"styles_bnk-table-category--homeAndRealEstate_VILfS","bnk-table-category--incomeCat":"styles_bnk-table-category--incomeCat_2ks_k","bnk-table-category--activities":"styles_bnk-table-category--activities_3ZB9r","bnk-table-category--excludeFromBudgetCat":"styles_bnk-table-category--excludeFromBudgetCat_BWsaR","bnk-table-category--services":"styles_bnk-table-category--services_TQNew","bnk-table-category--tax":"styles_bnk-table-category--tax_1zMpv","bnk-table-category--transportation":"styles_bnk-table-category--transportation_off3Z","bnk-table-category--goingOutAndTravel":"styles_bnk-table-category--goingOutAndTravel_ZRg3S","bnk-table-category--uncategorized":"styles_bnk-table-category--uncategorized_2k98D","bnk-category-total-mobile":"styles_bnk-category-total-mobile_1wzSx"}},function(e,t,n){var r=n(1135),o=n(1137),i=function(e){if(e instanceof i)return e;if(!(this instanceof i))return new i(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;"string"==typeof e?(t=o.getRgba(e),t?this.setValues("rgb",t):(t=o.getHsla(e))?this.setValues("hsl",t):(t=o.getHwb(e))&&this.setValues("hwb",t)):"object"==typeof e&&(t=e,void 0!==t.r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t))};i.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return o.hexString(this.values.rgb)},rgbString:function(){return o.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return o.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return o.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return o.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return o.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return o.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return o.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,r=e,o=void 0===t?.5:t,i=2*o-1,a=n.alpha()-r.alpha(),u=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,s=1-u;return this.rgb(u*n.red()+s*r.red(),u*n.green()+s*r.green(),u*n.blue()+s*r.blue()).alpha(n.alpha()*o+r.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new i,r=this.values,o=n.values;for(var a in r)r.hasOwnProperty(a)&&(e=r[a],t={}.toString.call(e),"[object Array]"===t?o[a]=e.slice(0):"[object Number]"===t?o[a]=e:console.error("unexpected color value:",e));return n}},i.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},i.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},i.prototype.setValues=function(e,t){var n,o=this.values,i=this.spaces,a=this.maxes,u=1;if(this.valid=!0,"alpha"===e)u=t;else if(t.length)o[e]=t.slice(0,e.length),u=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)o[e][n]=t[e.charAt(n)];u=t.a}else if(void 0!==t[i[e][0]]){var s=i[e];for(n=0;n<e.length;n++)o[e][n]=t[s[n]];u=t.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===u?o.alpha:u)),"alpha"===e)return!1;var c;for(n=0;n<e.length;n++)c=Math.max(0,Math.min(a[e][n],o[e][n])),o[e][n]=Math.round(c);for(var l in i)l!==e&&(o[l]=r[e][l](o[e]));return!0},i.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},i.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:n===r[t]?this:(r[t]=n,this.setValues(e,r),this)},"undefined"!=typeof window&&(window.Color=i),e.exports=i},function(e,t,n){"use strict";function r(e,t){return e.native?{x:e.x,y:e.y}:c.getRelativePosition(e,t)}function o(e,t){var n,r,o,i,a,u=e.data.datasets;for(r=0,i=u.length;r<i;++r)if(e.isDatasetVisible(r))for(n=e.getDatasetMeta(r),o=0,a=n.data.length;o<a;++o){var s=n.data[o];s._view.skip||t(s)}}function i(e,t){var n=[];return o(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function a(e,t,n,r){var i=Number.POSITIVE_INFINITY,a=[];return o(e,function(e){if(!n||e.inRange(t.x,t.y)){var o=e.getCenterPoint(),u=r(t,o);u<i?(a=[e],i=u):u===i&&a.push(e)}}),a}function u(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var o=t?Math.abs(e.x-r.x):0,i=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}}function s(e,t,n){var o=r(t,e);n.axis=n.axis||"x";var s=u(n.axis),c=n.intersect?i(e,o):a(e,o,!1,s),l=[];return c.length?(e.data.datasets.forEach(function(t,n){if(e.isDatasetVisible(n)){var r=e.getDatasetMeta(n),o=r.data[c[0]._index];o&&!o._view.skip&&l.push(o)}}),l):[]}var c=n(8);e.exports={modes:{single:function(e,t){var n=r(t,e),i=[];return o(e,function(e){if(e.inRange(n.x,n.y))return i.push(e),i}),i.slice(0,1)},label:s,index:s,dataset:function(e,t,n){var o=r(t,e);n.axis=n.axis||"xy";var s=u(n.axis),c=n.intersect?i(e,o):a(e,o,!1,s);return c.length>0&&(c=e.getDatasetMeta(c[0]._datasetIndex).data),c},"x-axis":function(e,t){return s(e,t,{intersect:!1})},point:function(e,t){return i(e,r(t,e))},nearest:function(e,t,n){var o=r(t,e);n.axis=n.axis||"xy";var i=u(n.axis),s=a(e,o,n.intersect,i);return s.length>1&&s.sort(function(e,t){var n=e.getArea(),r=t.getArea(),o=n-r;return 0===o&&(o=e._datasetIndex-t._datasetIndex),o}),s.slice(0,1)},x:function(e,t,n){var i=r(t,e),a=[],u=!1;return o(e,function(e){e.inXRange(i.x)&&a.push(e),e.inRange(i.x,i.y)&&(u=!0)}),n.intersect&&!u&&(a=[]),a},y:function(e,t,n){var i=r(t,e),a=[],u=!1;return o(e,function(e){e.inYRange(i.y)&&a.push(e),e.inRange(i.x,i.y)&&(u=!0)}),n.intersect&&!u&&(a=[]),a}}}},function(e,t,n){"use strict";var r=n(8),o=n(1143),i=n(1144),a=i._enabled?i:o;e.exports=r.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},a)},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})})},function(e,t,n){!function(e,t){t(n(55))}(0,function(e){"use strict";return e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(14),f=n(1180),d=r(f),h=n(168),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getOptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(e).map(function(r){var o=e[r],i=t?"subcategories":"categories";o.title=n.props.t("Data."+i+"."+o.name);var a=t?(0,h.getParentCategory)(o.id):o.name;return o.icon=c.default.createElement(h.CategoryIcon,{category:a}),t||(o.children=n.getOptions(o.children,!0).sort(function(e,t){return e.id===o.id?1:0})),o})},n.isSelected=function(e){var t=n.props.categoryId,r=(0,h.getParentCategory)(t),o=r===e.name,i=t===e.id;return o||i},n.options={children:n.getOptions((0,h.getCategories)()),title:e.t("Categories.choice.title")},n}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.onCancel,r=e.onSelect;return c.default.createElement(d.default,{title:t("Categories.choice.title"),options:this.options,isSelected:this.isSelected,onSelect:function(e){return r(e)},onCancel:n})}}]),t}(s.Component);t.default=(0,l.translate)()(p)},function(e,t,n){function r(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||o(e,t,n)}var o=n(96),i=n(111);e.exports=r},function(e,t){e.exports={AcnStg__tabList:"AccountsSettings_AcnStg__tabList_2UPgR",AcnsStg__accounts:"AccountsSettings_AcnsStg__accounts_1eP1K",AcnsStg__libelle:"AccountsSettings_AcnsStg__libelle_2MIN5 styles_mobile-row-main_33UqS",AcnsStg__bank:"AccountsSettings_AcnsStg__bank_2pf7X styles_mobile-row-label_ETXwu",AcnsStg__number:"AccountsSettings_AcnsStg__number_-H29c styles_mobile-row-label_ETXwu",AcnsStg__type:"AccountsSettings_AcnsStg__type_20NpF",AcnsStg__shared:"AccountsSettings_AcnsStg__shared_286H4",AcnsStg__actions:"AccountsSettings_AcnsStg__actions_WZlQW",AcnsStg__accountRow:"AccountsSettings_AcnsStg__accountRow_12w9C styles_mobile-row_1lKus mobile_nav-row_3AtPi",AcnStg__tab:"AccountsSettings_AcnStg__tab_1rJSS",AcnStg__info:"AccountsSettings_AcnStg__info_t4WM7"}},function(e,t){e.exports={GrpStg__form:"GroupsSettings_GrpStg__form_1lpsQ","coz-form":"GroupsSettings_coz-form_2Qa4n","coz-form-group":"GroupsSettings_coz-form-group_JGGnr","coz-form-desc":"GroupsSettings_coz-form-desc_yipwf","coz-form-label":"GroupsSettings_coz-form-label_29ZZf","coz-form-label--error":"GroupsSettings_coz-form-label--error_2RK1j","coz-form-errors":"GroupsSettings_coz-form-errors_DZH98",error:"GroupsSettings_error_amuOz",GrpsStg__table:"GroupsSettings_GrpsStg__table_q-zMA",GrpStg__table:"GroupsSettings_GrpStg__table_i9SLG",GrpsStg__label:"GroupsSettings_GrpsStg__label_1lUYN styles_mobile-row-main_33UqS",GrpsStg__accounts:"GroupsSettings_GrpsStg__accounts_3HwM9 styles_mobile-row-label_ETXwu",GrpsStg__row:"GroupsSettings_GrpsStg__row_3e5-D styles_mobile-row_1lKus mobile_nav-row_3AtPi",GrpStg__accntLabel:"GroupsSettings_GrpStg__accntLabel_McGf4",GrpStg__accntBank:"GroupsSettings_GrpStg__accntBank_I_RVi",GrpStg__accntNumber:"GroupsSettings_GrpStg__accntNumber_1xP9d",GrpStg__accntToggle:"GroupsSettings_GrpStg__accntToggle_32Glw","save-button":"GroupsSettings_save-button_2ZrRM",spin:"GroupsSettings_spin_3Di-7"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(21),s=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(14),h=n(82),p=r(h),v=n(257),y=r(v),m=n(1221),g=r(m),b=n(1222),_=r(b),w=n(1223),x=r(w),k=n(83),E=r(k),S=n(1224),C=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.breakpoints.isMobile;return f.default.createElement(S.Hero,null,f.default.createElement(p.default,null,f.default.createElement(S.Title,null,t("Onboarding.title."+(n?"mobile":"desktop")))),f.default.createElement(S.Sections,null,f.default.createElement(S.Section,null,f.default.createElement(S.Icon,{color:E.default.pomegranate,icon:g.default}),f.default.createElement(S.Subtitle,null,t("Onboarding.manage-budget.title")),f.default.createElement(S.Paragraph,null,t("Onboarding.manage-budget.description"))),f.default.createElement(S.Section,null,f.default.createElement(S.Icon,{color:E.default.portage,icon:_.default}),f.default.createElement(S.Subtitle,null,t("Onboarding.save-time.title")),f.default.createElement(S.Paragraph,null,t("Onboarding.save-time.description"))),f.default.createElement(S.Section,null,f.default.createElement(S.Icon,{color:E.default.dodgerBlue,icon:x.default}),f.default.createElement(S.Subtitle,null,t("Onboarding.cozy-assistant.title")),f.default.createElement(S.Paragraph,null,t("Onboarding.cozy-assistant.description")))),f.default.createElement(S.CTA,null,f.default.createElement(y.default,null,f.default.createElement(d.Button,{theme:"regular"},t("Onboarding.connect-bank-account")))))}}]),t}(l.Component);t.default=(0,s.default)((0,d.translate)(),(0,d.withBreakpoints)())(C)},function(e,t){e.exports={General:{delete:"Delete",deleting:"Deleting...",cancel:"Cancel",confirm:"Confirm"},Loading:{loading:"Loading...",error:"An error occured while loading the data. Please try again later."},Nav:{categorisation:"Categorization",settings:"Settings",savings:"Savings",projections:"Forecasts",balance:"Current balance",movements:"Movements"},Error:{"more-information":"More information","less-information":"Less information"},AccountSwitch:{account_counter:"%{smart_count} account |||| %{smart_count} accounts",all_accounts:"All accounts",groups:"Groups",accounts:"Accounts"},AccountDetails:{label:"Label",institutionLabel:"Bank",number:"Number",type:"Type",types:{Checkings:"Checkings",Savings:"Savings",CreditCard:"Credit card",Loan:"Loan"}},AccountSettings:{details:"Details",sharing:"Sharing","back-to-accounts":"Back to accounts",delete:"Reset",deleting:"Resetting...","confirm-deletion":{description:"This action will delete your transactions in the Cozy Banks app along with the links set up with your bills. You can delete your bank account in #{LINK}the Cozy Collect app#{/LINK} if you do not wish to reimport your banking data at the next scheduled synchronization.",confirm:"Confirm account deletion",title:"Are you definitive ?"}},Balance:{bank_name:"Bank",subtitle:{all:"Total of all your accounts",group:"Total group %{label}",account:"Total account %{label}"},title:"Current balance",solde:"Balance",account_number:"Account number",account_name:"Account name"},SelectDates:{last_12_months:"Last 12 months"},Accounts:{account:"Account","no-accounts":"You do not have any account yet.","shared-accounts":"Accounts shared to me","no-shared-accounts":"You do not have any shared account yet.","my-accounts":"My accounts",shared:"Shared","add-account":"Add an account",type:"Type",bank:"Bank",label:"Label","manage-accounts":"Manage my accounts"},Groups:{edit_group:"Edit Group",edit:"edit","manage-groups":"Manage my groups",create:"Create a group",label:"Label",banks:"Banks",accounts:"Accounts",groups:"Groups",delete:"remove","no-groups":"Using groups, you can easily gather several accounts, feel free to create one.","back-to-groups":"Back to groups",rename:"Rename",save:"Save",included:"Included","account-number":"Account number","total-balance":"Total"},Data:{categories:{uncategorized:"To be categorized",incomeCat:"Earnings",dailyLife:"Everyday life",transportation:"Transportation, vehicles",services:"Services",kids:"Children",tax:"Taxes",health:"Health",activities:"Leisure, sports",goingOutAndTravel:"Outings, trips",educationAndTraining:"Education, training",homeAndRealEstate:"Housing, real estate",excludeFromBudgetCat:"Out of budget"},subcategories:{potentialTransfer:"Potential transfers",check:"Checks",atm:"Cash withdrawal",activityIncome:"Activity income",replacementIncome:"Replacement income",interests:"Interests",dividends:"Dividends",donationsReceived:"Donations received",allocations:"Allocations",rentalIncome:"Rental income",additionalIncome:"Additional income",retirement:"Retirement",supermarket:"Supermarket",consumerLoan:"Consumer loan",dressing:"Dressing",pets:"Pets",telecom:"Telecom",snaksAndworkMeals:"Snacks and work meals",charity:"Charity",giftsOffered:"Gifts offered",personalCare:"Personal care",tobaccoPress:"Tobacco press",shoppingECommerce:"Shopping and E-commerce",vehiculePurchase:"Vehicule purchase",vehiculeLoan:"Vehicule loan",vehiculeRental:"Vehicule rental",vehiculeInsurance:"Vehicule insurance",vehiculeMaintenance:"Vehicule maintenance",vehiculeGas:"Vehicule gas",privateParking:"Private parking",parkingAndToll:"Parking and toll",publicTransportation:"Public transportation",taxi:"Taxi",post:"Post service",legalCounsel:"Legal counseling",homeAssistance:"Home assistance",bankFees:"Bank fees",financialAdvisor:"Financial advisor",kidsAllowance:"Kids allowance",schoolRestaurant:"School restaurant",childCare:"Child care",schoolInsurance:"School insurance",toysAndGifts:"Toys and gifts",pensionPaid:"Pension paid",kidsActivities:"Kids activities",incomeTax:"Income tax",socialTax:"Social tax",wealthTax:"Wealth tax",realEstateTax:"Real estate tax",healthExpenses:"Health expenses",healthInsurance:"Health insurance",activityFees:"Activity fees",activityEquipments:"Activity equipments",activityLessons:"Activity lessons",electronicsAndMultimedia:"Electronis and multimedia",booksMoviesMusic:"Books, movies, music",hobbyAndPassion:"Hobby and passion",restaurantsAndBars:"Restaurants and bars",goingOutEntertainment:"Going out entertainment",goingOutCulture:"Going out culture",travel:"Travel",journey:"Plane/train/boat...",tuition:"Tuition",eduBooksAndSupplies:"Edu books and supplies",studentLoan:"Student loan",eduLessons:"Edu lessons",realEstateLoan:"Real estate loan",rent:"Rent",homeCharges:"Home charges",homeInsurance:"Home insurance",homeImprovement:"Home improvement",homeHardware:"Home hardware",water:"Water",power:"Power",internalTransfer:"Internal transfer",creditCardPayment:"Credit card payment",loanCredit:"Loan credit",professionalExpenses:"Professional expenses",investmentBuySell:"Investment buy sell",friendBorrowing:"Friend borrowing",savings:"Savings",kids:"Others : Children",dailyLife:"Others : Everyday life",educationAndTraining:"Others : Education, training",health:"Others : Health",homeAndRealEstate:"Others : Housing, real estate",incomeCat:"Others : Earning",activities:"Others : Leisure, sports",excludeFromBudgetCat:"Others : Out of budget",services:"Others : Services",tax:"Others : Taxes",transportation:"Others : Transportation, vehicles",goingOutAndTravel:"Others : Outings, trips",uncategorized:"Others : To be categorized"}},Categories:{choice:{title:"Update category"},filter:{credit:"earnings",total:"Total",debit:"Total excl. earnings"},headers:{transactions:"Transactions",credit:"Credit",total:"Total",categories:"Categories",debit:"Debit"},board:{"debit-header":"Spent","credit-header":"Earnings","total-header":"Total"},title:{empty_text:"No categories to display.",total:"Balance of the period",general:"Categorization",debit:"Net expenditure"}},Transactions:{title:"Movements","no-movements":"No movements to display",total:"Total",transactions:"Transactions",debit:"Debit",credit:"Credit",header:{date:"Date",description:"Description",amount:"Amount",action:"Action"},actions:{refund:"Check your refunds",comment:"Add a comment",app:"Access your space %{appName}",bill:"View your invoice",alert:"Create an alert",attach:"Attach a document",more:"More",healthExpenseStatus:"Expense processed by %{vendors}",healthExpensePending:"Expense not yet processed by your medical insurances",healthExpenseBill:"%{vendor} Statement",vendorsGlue:"and"}},Notifications:{title:"Notifications",weekly_summary:{description:"You will receive a summary of your expenses and revenues every Monday of every week.",title:"Weekly Synthesis"},when_month_revenue:{description:"You will receive an email at the reception of your salary each month.",title:"Payment of salary"},monthly_summary:{description:"You will receive a summary of your expenses and income each month.",title:"Monthly summary"},if_balance_lower:{description:"You will receive an email if your balance is less than",title:"Balance threshold",notification:{one:{title:"Balance alert: '%{label}' account is at %{balance}%{currency}",debitContent:"Debit of %{amount}%{currency}: '%{label}'.",creditContent:"Credit of %{amount}%{currency}: '%{label}'."},several:{title:"%{accountsLength} accounts are below your threshold amount of %{lowerBalance}%{currency}",content:"Balance of %{balance}%{currency} on '%{label}' account."}}},if_transaction_greater:{description:"You will receive a notification if a movement is greater than",title:"Movement amount",notification:{debit:{title:"Debit of %{amount}%{currency}",content:"%{label}"},credit:{title:"Credit of %{amount}%{currency}",content:"%{label}"},others:{title:"%{transactionsLength} transactions greater than %{maxAmount}",debitContent:"Debit of %{amount}%{currency} with label '%{label}'.",creditContent:"Credit of %{amount}%{currency} with label '%{label}'."}}},no_revenue:{description:"You will be notified if you have not received your salary at the %{input} of each month.",title:"Salary Delay"},when_health_bill_linked:{title:"Medical expenses coverage",description:"You will be notified when a reimbursement is found for a medical expense. This requires to connect your Cozy to your medical insurance.",notification:{title:"New health reimbursements found",content:{title:"Health reimbursement notification",treatedBy:"expenditure treated by"}}}},ComingSoon:{description:"These features will soon be available.",title:"To come up"},Settings:{title:"Settings",accounts:"Accounts",groups:"Groups",notifications:"Notifications",app:"App"},AppSettings:{reset:"reset",description:"By clicking Reset, you will be able to start your application over, and will only lose the data saved on your smartphone.",confirmation:{title:"Reset this application?",description:"By logging out of your Cozy, you will erase all data synchronized locally by your mobile application.",cancel:"Cancel",confirm:"Reset"}},Onboarding:{title:{desktop:"Connect your bank accounts",mobile:"Cozy Banks"},"connect-bank-account":"Connect your bank accounts","manage-budget":{description:"Summary of all your accounts at a glance",title:"Control your budget"},"save-time":{description:"Your invoices at your fingertips directly from your statements",title:"Save Time"},"cozy-assistant":{description:"Automatic follow-up of your medical expenses",title:"Cozy is working for you"}},mobile:{onboarding:{welcome:{title1:"Welcome to Cozy",title2:"Your own personal cloud",button:"Sign in to your Cozy",sign_up:"Sign up now!",no_account_link:"Dont have an account? Request one here."},server_selection:{description:"This is the web address you use to access your Cozy.",cozy_address_placeholder:"tonystark.mycozy.cloud",button:"Next",wrong_address_with_email:"You typed an email address. To connect on your cozy you must type its url, something like https://tonystark.mycozy.cloud",wrong_address_v2:"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)",wrong_address:"This address doesnt seem to be a cozy. Please check the address you provide.",wrong_address_cosy:'Woops, the address is not correct. Try with "mycozy.cloud" with a "z"!'},password:{placeholder:"Password",description:"You need to choose a strong password. Use numbers, uppercase latters, special characters"},email:{cozy_email_placeholder:"tony.stark@cozy.cc",description:"We will send you an email to confirm the creation of your Cozy.",invalid:"This doesn't seem to be a valid email address.",taken:"There's already a Cozy bound to this email address."},instance:{placeholder:"tonystark",description:"This is the web address you use to sign it to your Cozy.  It might be a good idea to write it down.",existing:"This internet address is already used. Try adding extra characters.",blacklisted:"This internet address is not available.",invalid:"This internet address is not valid."},waiting:{description:"Preparing *%{domain}*"}},revoked:{title:"Access revoked",description:"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.",loginagain:"Log in again",logout:"Log out"}},FileOpener:{error:"Unable to find the file. It may have been deleted in the Drive application."}}},function(e,t){e.exports={General:{delete:"Supprimer",deleting:"Suppression...",cancel:"Annuler",confirm:"Confirmer"},Loading:{loading:"Chargement...",error:"Il y a eu une erreur pendant le chargement des donnes. Merci de ressayer plus tard."},Error:{"more-information":"More information","less-information":"Less information"},AccountSwitch:{all_accounts:"Tous les comptes",accounts:"Comptes",groups:"Groupes",account_counter:"%{smart_count} compte |||| %{smart_count} comptes"},Nav:{movements:"Mouvements",balance:"Solde actuel",categorisation:"Catgorisation",projections:"Prvisions",savings:"Economiser",settings:"Paramtres"},AccountDetails:{label:"Libell",institutionLabel:"Banque",number:"Numro",type:"Type",types:{Checkings:"Compte courant",Savings:"Compte d'pargne",CreditCard:"Carte de crdit",Loan:"Prt"}},AccountSettings:{details:"Dtails",sharing:"Partage","back-to-accounts":"Revenir aux comptes",delete:"Effacer",deleting:"Effacement...","confirm-deletion":{description:"Cette action supprimera les mouvements dj prsents dans l'application Banks, ainsi que les liens avec vos factures. Supprimez galement votre compte depuis #{LINK}l'app Cozy Collect#{/LINK}, si vous ne souhaitez pas rimporter vos donnes  la prochaine synchronisation.",confirm:"Confirmer la suppression",title:"tes-vous sr ?"}},Accounts:{account:"Compte ","add-account":"Ajouter un compte",bank:"Banque",label:"Libell","my-accounts":"Mes comptes","no-accounts":"Vous n'avez pas encore de compte.","no-shared-accounts":"Vous n'avez pas encore de compte partag.",shared:"Partag","shared-accounts":"Comptes que l'on m'a partag",type:"Type","manage-accounts":"Grer mes comptes"},Balance:{title:"Solde actuel",subtitle:{all:"Total de tous vos comptes",group:"Total du groupe %{label}",account:"Total du compte %{label}"},account_name:"Nom du compte",solde:"Solde",bank_name:"Nom de la banque",account_number:"Numro du compte"},Transactions:{title:"Mouvements","no-movements":"Pas de mouvements  afficher",total:"Total",transactions:"Oprations",debit:"Dbit",credit:"Crdit",header:{date:"Date",description:"Description",amount:"Montant",action:"Action"},actions:{more:"Plus",bill:"Afficher votre facture",refund:"Vrifier vos remboursements",app:"Accder  votre espace %{appName}",attach:"Attacher un document",alert:"Crer une alerte",comment:"Ajouter un commentaire",healthExpenseStatus:"Dpense traite par %{vendors}",healthExpensePending:"Dpense pas encore traite par les assurances sant",healthExpenseBill:"Relev %{vendor}",vendorsGlue:"et"}},Categories:{choice:{title:"Modifier la catgorie"},board:{"debit-header":"Dpense","credit-header":"Revenu","total-header":"Total"},filter:{debit:"Total hors categ. revenus",credit:"Revenus",total:"Total"},title:{general:"Catgorisation",total:"Solde de la priode",debit:"Dpense nette",empty_text:"Pas de catgories  afficher."},headers:{categories:"Catgories",transactions:"Oprations",debit:"Dbit",credit:"Crdit",total:"Total"}},Data:{categories:{uncategorized:"A catgoriser",incomeCat:"Revenus",dailyLife:"Dpenses vie courante",transportation:"Transports, vhicules",services:"Services",kids:"Enfants",tax:"Impts",health:"Sant, prvoyance",activities:"Sports, loisirs",goingOutAndTravel:"Sorties, voyages",educationAndTraining:"Education, formation",homeAndRealEstate:"Logement, immobilier",excludeFromBudgetCat:"Hors budget"},subcategories:{potentialTransfer:"Virements  catgoriser",check:"Chques",atm:"Retraits d'espces",activityIncome:"Salaire/Revenus d'activit",replacementIncome:"Revenus de remplacement",interests:"Intrts",dividends:"Dividendes",donationsReceived:"Cadeaux, dons reus",allocations:"Aides et allocations",rentalIncome:"Revenus locatifs",additionalIncome:"Revenus complmentaires",retirement:"Retraite",supermarket:"Alimentation, supermarch",consumerLoan:"Remb. prt conso",dressing:"Habillement",pets:"Animaux",telecom:"Internet, TV, tlcom",snaksAndworkMeals:"Snacks, repas au travail",charity:"Dons caritatifs",giftsOffered:"Cadeaux offerts",personalCare:"Coiffeur, esthtique, cosmtique, soins",tobaccoPress:"Tabac/Presse",shoppingECommerce:"Shopping/e-Commerce",vehiculePurchase:"Achat vhicule",vehiculeLoan:"Remb. prt vhicule",vehiculeRental:"Location vhicule",vehiculeInsurance:"Assurance vhicule",vehiculeMaintenance:"Entretien, quipements vhicules",vehiculeGas:"Carburant",privateParking:"Garage, parking priv",parkingAndToll:"Parking, pages, PV",publicTransportation:"Transports en commun",taxi:"Taxi et VTC",post:"Poste, courrier",legalCounsel:"Conseil juridique",homeAssistance:"Aide--domicile",bankFees:"Frais bancaires",financialAdvisor:"Conseil financier",kidsAllowance:"Argent de poche",schoolRestaurant:"Restauration scolaire",childCare:"Garde d'enfants",schoolInsurance:"Assurance scolaire",toysAndGifts:"Jouets, cadeaux",pensionPaid:"Pension verse",kidsActivities:"Activits enfants",incomeTax:"Impts sur le revenu",socialTax:"Contributions sociales",wealthTax:"ISF",realEstateTax:"Taxes foncires, d'habitation",healthExpenses:"Frais, remb sant",healthInsurance:"Cotis mutuelle, prvoyance",activityFees:"Cotis. sports, loisirs",activityEquipments:"Equipement sports, loisirs",activityLessons:"Cours sports, loisirs",electronicsAndMultimedia:"Electronique, multimdia",booksMoviesMusic:"Musique, livres, films",hobbyAndPassion:"Passion, hobby",restaurantsAndBars:"Restaurants, soires",goingOutEntertainment:"Sorties dtente",goingOutCulture:"Sorties culturelles",travel:"Voyages",journey:"Avion/train/bateau...",tuition:"Inscription, scolarit",eduBooksAndSupplies:"Livres, fournitures (ducation)",studentLoan:"Remb. prt tudiant",eduLessons:"Cours, soutien scolaire",realEstateLoan:"Remb. prt immobilier",rent:"Loyer",homeCharges:"Charges logement",homeInsurance:"Assurance logement",homeImprovement:"Travaux, dco, jardin",homeHardware:"Meubles, quipement",water:"Eau",power:"Electricit, gaz, chauffage",internalTransfer:"Virements internes",creditCardPayment:"Prl. carte dbit diffr",loanCredit:"Dblocage prt, crdits, rserves",professionalExpenses:"Notes de frais (+/-)",investmentBuySell:"Achats, ventes de titres",friendBorrowing:"Avances, remboursements",savings:"Virements d'pargne",kids:"Autres : Enfants",dailyLife:"Autres : Dpenses vie courante",educationAndTraining:"Autres : Education, formation",health:"Autres : Sant, prvoyance",homeAndRealEstate:"Autres : Logement, immobilier",incomeCat:"Autres : Revenus",activities:"Autres : Sports, loisirs",excludeFromBudgetCat:"Autres : Hors budget",services:"Autres : Services",tax:"Autres : Impts",transportation:"Autres : Transports, vhicules",goingOutAndTravel:"Autres : Sorties, voyages",uncategorized:"Autres : A catgoriser"}},Groups:{groups:"Groupes",label:"Libell",banks:"Banques",accounts:"Comptes",create:"Crer un groupe",edit:"diter","manage-groups":"Grer mes groupes",delete:"supprimer",edit_group:"Editer le groupe","no-groups":"Avec les groupes, vous pouvez facilement rassembler plusieurs comptes, n'hsitez pas  en crer un !","back-to-groups":"Revenir aux groupes",rename:"Renommer",save:"Sauver",included:"Inclus","account-number":"Numro du compte","total-balance":"Total"},SelectDates:{last_12_months:"Les 12 derniers mois"},Notifications:{title:"Notifications",if_balance_lower:{title:"Seuil de solde",description:"Vous recevrez un email, si votre solde est infrieur ",notification:{one:{title:"Alerte solde : le compte '%{label}' est  %{balance}%{currency}",debitContent:"Dpense de %{amount}%{currency} : '%{label}'.",creditContent:"Versement de %{amount}%{currency} : '%{label}'."},several:{title:"%{accountsLength} comptes sont en dessous de votre seuil de %{lowerBalance}%{currency}",content:"Solde de %{balance}%{currency} sur le compte '%{label}'."}}},if_transaction_greater:{title:"Montant de mouvement",description:"Vous recevrez une notification, si un mouvement est suprieur ",notification:{debit:{title:"Dpense de %{amount}%{currency}",content:"%{label}"},credit:{title:"Versement de %{amount}%{currency}",content:"%{label}"},others:{title:"%{transactionsLength} mouvements de plus de %{maxAmount}",debitContent:"Dpense de %{amount}%{currency} avec le libell '%{label}'.",creditContent:"Versement de %{amount}%{currency} avec le libell '%{label}'."}}},no_revenue:{title:"Retard de salaire",description:"Vous serez prvenu si vous navez pas reu votre salaire au %{input} de chaque mois."},when_month_revenue:{title:"Versement de salaire",description:"Vous recevrez un email  la rception de votre salaire chaque mois."},weekly_summary:{title:"Synthse hebdomadaire",description:"Vous recevrez un rcapitulatif de vos dpenses et de vos revenus tous les lundis de chaque semaine."},monthly_summary:{title:"Synthse mensuelle",description:"Vous recevrez un rcapitulatif de vos dpenses et de vos revenus tous les premiers de chaque mois."},when_health_bill_linked:{title:"Remboursement de sant",description:"Vous recevrez une notification lorsqu'un remboursement a t trouv pour une de vos dpenses de sant. Cela ncessite d'avoir connect une assurance sant  votre Cozy.",notification:{title:"Nouveaux remboursement de sant",content:{title:"Notification de remboursement de sant",treatedBy:"dpense traite par"}}}},ComingSoon:{title:" venir",description:"Ces fonctionnalits seront bientt disponibles."},Settings:{title:"Paramtres",accounts:"Comptes",groups:"Groupes",notifications:"Notifications"},Onboarding:{title:{desktop:"Connecter vos comptes bancaires",mobile:"Cozy Banks"},"connect-bank-account":"Connecter vos comptes bancaires","manage-budget":{title:"Matrisez votre budget",description:"La situation de tous vos comptes en un coup d'il"},"save-time":{title:"Gagnez du temps",description:"Vos factures  porte de main directement depuis vos relevs"},"cozy-assistant":{title:"Cozy travaille pour vous",description:"Suivi automatique du traitement de vos dpenses de sant"}},FileOpener:{error:"Impossible de trouver le fichier, celui-ci a peut tre t supprim de l'application Drive."}}},function(e,t,n){n(457),e.exports=n(659)},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(458),n(655),n(656),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(35))},function(e,t,n){n(459),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(539),n(540),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(194),n(563),n(564),n(276),n(565),n(566),n(567),n(568),n(569),n(279),n(281),n(282),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),e.exports=n(44)},function(e,t,n){"use strict";var r=n(7),o=n(30),i=n(16),a=n(0),u=n(32),s=n(56).KEY,c=n(9),l=n(123),f=n(84),d=n(65),h=n(12),p=n(259),v=n(174),y=n(460),m=n(126),g=n(6),b=n(36),_=n(45),w=n(64),x=n(69),k=n(262),E=n(37),S=n(17),C=n(67),O=E.f,T=S.f,A=k.f,j=r.Symbol,M=r.JSON,P=M&&M.stringify,D=h("_hidden"),L=h("toPrimitive"),I={}.propertyIsEnumerable,R=l("symbol-registry"),N=l("symbols"),F=l("op-symbols"),B=Object.prototype,z="function"==typeof j,q=r.QObject,U=!q||!q.prototype||!q.prototype.findChild,H=i&&c(function(){return 7!=x(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(B,t);r&&delete B[t],T(e,t,n),r&&e!==B&&T(B,t,r)}:T,Y=function(e){var t=N[e]=x(j.prototype);return t._k=e,t},V=z&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},W=function(e,t,n){return e===B&&W(F,t,n),g(e),t=_(t,!0),g(n),o(N,t)?(n.enumerable?(o(e,D)&&e[D][t]&&(e[D][t]=!1),n=x(n,{enumerable:w(0,!1)})):(o(e,D)||T(e,D,w(1,{})),e[D][t]=!0),H(e,t,n)):T(e,t,n)},$=function(e,t){g(e);for(var n,r=y(t=b(t)),o=0,i=r.length;i>o;)W(e,n=r[o++],t[n]);return e},G=function(e,t){return void 0===t?x(e):$(x(e),t)},J=function(e){var t=I.call(this,e=_(e,!0));return!(this===B&&o(N,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(N,e)||o(this,D)&&this[D][e])||t)},K=function(e,t){if(e=b(e),t=_(t,!0),e!==B||!o(N,t)||o(F,t)){var n=O(e,t);return!n||!o(N,t)||o(e,D)&&e[D][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=A(b(e)),r=[],i=0;n.length>i;)o(N,t=n[i++])||t==D||t==s||r.push(t);return r},X=function(e){for(var t,n=e===B,r=A(n?F:b(e)),i=[],a=0;r.length>a;)!o(N,t=r[a++])||n&&!o(B,t)||i.push(N[t]);return i};z||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(F,n),o(this,D)&&o(this[D],e)&&(this[D][e]=!1),H(this,e,w(1,n))};return i&&U&&H(B,e,{configurable:!0,set:t}),Y(e)},u(j.prototype,"toString",function(){return this._k}),E.f=K,S.f=W,n(70).f=k.f=Z,n(104).f=J,n(125).f=X,i&&!n(66)&&u(B,"propertyIsEnumerable",J,!0),p.f=function(e){return Y(h(e))}),a(a.G+a.W+a.F*!z,{Symbol:j});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)h(Q[ee++]);for(var te=C(h.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return o(R,e+="")?R[e]:R[e]=j(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!z,"Object",{create:G,defineProperty:W,defineProperties:$,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),M&&a(a.S+a.F*(!z||c(function(){var e=j();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!V(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&m(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,P.apply(M,r)}}}),j.prototype[L]||n(31)(j.prototype,L,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(67),o=n(125),i=n(104);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(69)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(16),"Object",{defineProperty:n(17).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(16),"Object",{defineProperties:n(261)})},function(e,t,n){var r=n(36),o=n(37).f;n(48)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(20),o=n(38);n(48)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(20),o=n(67);n(48)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(48)("getOwnPropertyNames",function(){return n(262).f})},function(e,t,n){var r=n(10),o=n(56).onFreeze;n(48)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(10),o=n(56).onFreeze;n(48)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(10),o=n(56).onFreeze;n(48)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(10);n(48)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(10);n(48)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(10);n(48)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(263)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(476)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(178).set})},function(e,t,n){"use strict";var r=n(105),o={};o[n(12)("toStringTag")]="z",o+""!="[object z]"&&n(32)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(264)})},function(e,t,n){var r=n(17).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(16)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(10),o=n(38),i=n(12)("hasInstance"),a=Function.prototype;i in a||n(17).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),o=n(266);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(e,t,n){var r=n(0),o=n(267);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(e,t,n){"use strict";var r=n(7),o=n(30),i=n(40),a=n(180),u=n(45),s=n(9),c=n(70).f,l=n(37).f,f=n(17).f,d=n(85).trim,h=r.Number,p=h,v=h.prototype,y="Number"==i(n(69)(v)),m="trim"in String.prototype,g=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():d(t,3);var n,r,o,i=t.charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,s=t.slice(2),c=0,l=s.length;c<l;c++)if((a=s.charCodeAt(c))<48||a>o)return NaN;return parseInt(s,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(y?s(function(){v.valueOf.call(n)}):"Number"!=i(n))?a(new p(g(t)),n,h):g(t)};for(var b,_=n(16)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)o(p,b=_[w])&&!o(h,b)&&f(h,b,l(p,b));h.prototype=v,v.constructor=h,n(32)(r,"Number",h)}},function(e,t,n){"use strict";var r=n(0),o=n(47),i=n(268),a=n(181),u=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=s(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=s(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)},v=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(9)(function(){u.call({})})),"Number",{toFixed:function(e){var t,n,r,u,s=i(this,l),c=o(e),y="",m="0";if(c<0||c>20)throw RangeError(l);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(y="-",s=-s),s>1e-21)if(t=v(s*p(2,69,1))-69,n=t<0?s*p(2,-t,1):s/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(p(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),m=h()}else f(0,n),f(1<<-t,0),m=h()+a.call("0",c);return c>0?(u=m.length,m=y+(u<=c?"0."+a.call("0",c-u)+m:m.slice(0,u-c)+"."+m.slice(u-c))):m=y+m,m}})},function(e,t,n){"use strict";var r=n(0),o=n(9),i=n(268),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),o=n(7).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(269)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),o=n(269),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),o=n(267);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(0),o=n(266);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(0),o=n(270),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=n(0),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),o=n(182);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(0),o=n(183);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(271)})},function(e,t,n){var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,u=arguments.length,s=0;a<u;)n=o(arguments[a++]),s<n?(r=s/n,i=i*r*r+1,s=n):n>0?(r=n/s,i+=r*r):i+=n;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(9)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(270)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(182)})},function(e,t,n){var r=n(0),o=n(183),i=Math.exp;r(r.S+r.F*n(9)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),o=n(183),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),o=n(68),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),o=n(36),i=n(18);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,n){"use strict";n(85)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(184)(!0);n(185)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),o=n(184)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),o=n(18),i=n(187),a="".endsWith;r(r.P+r.F*n(188)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),u=void 0===n?r:Math.min(o(n),r),s=String(e);return a?a.call(t,s,u):t.slice(u-s.length,u)===s}})},function(e,t,n){"use strict";var r=n(0),o=n(187);r(r.P+r.F*n(188)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(181)})},function(e,t,n){"use strict";var r=n(0),o=n(18),i=n(187),a="".startsWith;r(r.P+r.F*n(188)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(33)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(33)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(33)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(33)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(33)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(33)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(33)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(33)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(33)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(33)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(33)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(33)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(33)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(45);r(r.P+r.F*n(9)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),o=n(538);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,n){"use strict";var r=n(9),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(e,t,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(32)(r,"toString",function(){var e=i.call(this);return e===e?o.call(this):"Invalid Date"})},function(e,t,n){var r=n(12)("toPrimitive"),o=Date.prototype;r in o||n(31)(o,r,n(541))},function(e,t,n){"use strict";var r=n(6),o=n(45);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(126)})},function(e,t,n){"use strict";var r=n(39),o=n(0),i=n(20),a=n(272),u=n(189),s=n(18),c=n(190),l=n(191);o(o.S+o.F*!n(128)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,m=0,g=l(d);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&u(g))for(t=s(d.length),n=new h(t);t>m;m++)c(n,m,y?v(d[m],m):d[m]);else for(f=g.call(d),n=new h;!(o=f.next()).done;m++)c(n,m,y?a(f,v,[o.value,m],!0):o.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(0),o=n(190);r(r.S+r.F*n(9)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),o=n(36),i=[].join;r(r.P+r.F*(n(103)!=Object||!n(41)(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),o=n(177),i=n(40),a=n(68),u=n(18),s=[].slice;r(r.P+r.F*n(9)(function(){o&&s.call(o)}),"Array",{slice:function(e,t){var n=u(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return s.call(this,e,t);for(var o=a(e,n),c=a(t,n),l=u(c-o),f=Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(o+d):this[o+d];return f}})},function(e,t,n){"use strict";var r=n(0),o=n(25),i=n(20),a=n(9),u=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!n(41)(u)),"Array",{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),o(e))}})},function(e,t,n){"use strict";var r=n(0),o=n(49)(0),i=n(41)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(10),o=n(126),i=n(12)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),o=n(49)(1);r(r.P+r.F*!n(41)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(49)(2);r(r.P+r.F*!n(41)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(49)(3);r(r.P+r.F*!n(41)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(49)(4);r(r.P+r.F*!n(41)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(273);r(r.P+r.F*!n(41)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),o=n(273);r(r.P+r.F*!n(41)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(124)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(41)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(36),i=n(47),a=n(18),u=[].lastIndexOf,s=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n(41)(u)),"Array",{lastIndexOf:function(e){if(s)return u.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(274)}),n(57)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(193)}),n(57)("fill")},function(e,t,n){"use strict";var r=n(0),o=n(49)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(57)("find")},function(e,t,n){"use strict";var r=n(0),o=n(49)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(57)(i)},function(e,t,n){n(71)("Array")},function(e,t,n){var r=n(7),o=n(180),i=n(17).f,a=n(70).f,u=n(127),s=n(129),c=r.RegExp,l=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(n(16)&&(!p||n(9)(function(){return h[n(12)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")}))){c=function(e,t){var n=this instanceof c,r=u(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(p?new l(r&&!i?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&i?s.call(e):t),n?this:f,c)};for(var v=a(l),y=0;v.length>y;)!function(e){e in c||i(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}(v[y++]);f.constructor=c,c.prototype=f,n(32)(r,"RegExp",c)}n(71)("RegExp")},function(e,t,n){"use strict";n(276);var r=n(6),o=n(129),i=n(16),a=/./.toString,u=function(e){n(32)(RegExp.prototype,"toString",e,!0)};n(9)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):"toString"!=a.name&&u(function(){return a.call(this)})},function(e,t,n){n(130)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(130)("replace",2,function(e,t,n){return[function(r,o){"use strict";var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(e,t,n){n(130)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(130)("split",2,function(e,t,r){"use strict";var o=n(127),i=r,a=[].push,u="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[u]||2!="ab".split(/(?:ab)*/)[u]||4!=".".split(/(.?)(.?)/)[u]||".".split(/()()/)[u]>1||"".split(/.?/)[u]){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(n,e,t);var r,c,l,f,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,y=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+m.source+"$(?!\\s)",p));(c=m.exec(n))&&!((l=c.index+c[0][u])>v&&(h.push(n.slice(v,c.index)),!s&&c[u]>1&&c[0].replace(r,function(){for(d=1;d<arguments[u]-2;d++)void 0===arguments[d]&&(c[d]=void 0)}),c[u]>1&&c.index<n[u]&&a.apply(h,c.slice(1)),f=c[0][u],v=l,h[u]>=y));)m.lastIndex===c.index&&m.lastIndex++;return v===n[u]?!f&&m.test("")||h.push(""):h.push(n.slice(v)),h[u]>y?h.slice(0,y):h}}else"0".split(void 0,0)[u]&&(r=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(n,o){var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(e,t,n){"use strict";var r,o,i,a,u=n(66),s=n(7),c=n(39),l=n(105),f=n(0),d=n(10),h=n(25),p=n(72),v=n(73),y=n(131),m=n(195).set,g=n(196)(),b=n(197),_=n(277),w=n(278),x=s.TypeError,k=s.process,E=s.Promise,S="process"==l(k),C=function(){},O=o=b.f,T=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(12)("species")]=function(e){e(C,C)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t}catch(e){}}(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject,c=t.domain;try{a?(o||(2==e._h&&D(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?s(x("Promise-chain cycle")):(i=A(n))?i.call(n,u,s):u(n)):s(r)}catch(e){s(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){m.call(s,function(){var t,n,r,o=e._v,i=P(e);if(i&&(t=_(function(){S?k.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=S||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},P=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!P(t.promise))return!1;return!0},D=function(e){m.call(s,function(){var t;S?k.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},I=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=A(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(I,r,1),c(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,j(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};T||(E=function(e){p(this,E,"Promise","_h"),h(e),r.call(this);try{e(c(I,this,1),c(L,this,1))}catch(e){L.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(74)(E.prototype,{then:function(e,t){var n=O(y(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(I,e,1),this.reject=c(L,e,1)},b.f=O=function(e){return e===E||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!T,{Promise:E}),n(84)(E,"Promise"),n(71)("Promise"),a=n(44).Promise,f(f.S+f.F*!T,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(u||!T),"Promise",{resolve:function(e){return w(u&&this===a?E:this,e)}}),f(f.S+f.F*!(T&&n(128)(function(e){E.all(e).catch(C)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;v(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,o=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){"use strict";var r=n(283),o=n(87);n(132)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),o=n(133),i=n(198),a=n(6),u=n(68),s=n(18),c=n(10),l=n(7).ArrayBuffer,f=n(131),d=i.ArrayBuffer,h=i.DataView,p=o.ABV&&l.isView,v=d.prototype.slice,y=o.VIEW;r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&y in e}}),r(r.P+r.U+r.F*n(9)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var n=a(this).byteLength,r=u(e,n),o=u(void 0===t?n:t,n),i=new(f(this,d))(s(o-r)),c=new h(this),l=new h(i),p=0;r<o;)l.setUint8(p++,c.getUint8(r++));return i}}),n(71)("ArrayBuffer")},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(133).ABV,{DataView:n(198).DataView})},function(e,t,n){n(51)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(51)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(51)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(51)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(51)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(51)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(51)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(51)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(51)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),o=n(25),i=n(6),a=(n(7).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(9)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):u.call(r,t,s)}})},function(e,t,n){var r=n(0),o=n(69),i=n(25),a=n(6),u=n(10),s=n(9),c=n(264),l=(n(7).Reflect||{}).construct,f=s(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!s(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,h=o(u(s)?s:Object.prototype),p=Function.apply.call(e,h,t);return u(p)?p:h}})},function(e,t,n){var r=n(17),o=n(0),i=n(6),a=n(45);o(o.S+o.F*n(9)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),o=n(37).f,i=n(6);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),o=n(6),i=function(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(186)(i,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,n){function r(e,t){var n,u,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=o.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:s(u=i(e))?r(u,t,l):void 0}var o=n(37),i=n(38),a=n(30),u=n(0),s=n(10),c=n(6);u(u.S,"Reflect",{get:r})},function(e,t,n){var r=n(37),o=n(0),i=n(6);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(0),o=n(38),i=n(6);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),o=n(6),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(285)})},function(e,t,n){var r=n(0),o=n(6),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var s,d,h=arguments.length<4?e:arguments[3],p=i.f(l(e),t);if(!p){if(f(d=a(e)))return r(d,t,n,h);p=c(0)}return u(p,"value")?!(!1===p.writable||!f(h))&&(s=i.f(h,t)||c(0),s.value=n,o.f(h,t,s),!0):void 0!==p.set&&(p.set.call(h,n),!0)}var o=n(17),i=n(37),a=n(38),u=n(30),s=n(0),c=n(64),l=n(6),f=n(10);s(s.S,"Reflect",{set:r})},function(e,t,n){var r=n(0),o=n(178);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),o=n(124)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(57)("includes")},function(e,t,n){"use strict";var r=n(0),o=n(286),i=n(20),a=n(18),u=n(25),s=n(192);r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return u(e),t=a(r.length),n=s(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(57)("flatMap")},function(e,t,n){"use strict";var r=n(0),o=n(286),i=n(20),a=n(18),u=n(47),s=n(192);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),n=a(t.length),r=s(t,0);return o(r,t,t,n,0,void 0===e?1:u(e)),r}}),n(57)("flatten")},function(e,t,n){"use strict";var r=n(0),o=n(184)(!0);r(r.P,"String",{at:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),o=n(287);r(r.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(287);r(r.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(85)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(85)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(0),o=n(46),i=n(18),a=n(127),u=n(129),s=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(186)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(o(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in s?String(e.flags):u.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=i(e.lastIndex),new c(r,t)}})},function(e,t,n){n(174)("asyncIterator")},function(e,t,n){n(174)("observable")},function(e,t,n){var r=n(0),o=n(285),i=n(36),a=n(37),u=n(190);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),s=a.f,c=o(r),l={},f=0;c.length>f;)void 0!==(n=s(r,t=c[f++]))&&u(l,t,n);return l}})},function(e,t,n){var r=n(0),o=n(288)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(0),o=n(288)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(25),a=n(17);n(16)&&r(r.P+n(134),"Object",{__defineGetter__:function(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(25),a=n(17);n(16)&&r(r.P+n(134),"Object",{__defineSetter__:function(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(45),a=n(38),u=n(37).f;n(16)&&r(r.P+n(134),"Object",{__lookupGetter__:function(e){var t,n=o(this),r=i(e,!0);do{if(t=u(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(45),a=n(38),u=n(37).f;n(16)&&r(r.P+n(134),"Object",{__lookupSetter__:function(e){var t,n=o(this),r=i(e,!0);do{if(t=u(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(289)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(289)("Set")})},function(e,t,n){n(135)("Map")},function(e,t,n){n(135)("Set")},function(e,t,n){n(135)("WeakMap")},function(e,t,n){n(135)("WeakSet")},function(e,t,n){n(136)("Map")},function(e,t,n){n(136)("Set")},function(e,t,n){n(136)("WeakMap")},function(e,t,n){n(136)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(7)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(7)})},function(e,t,n){var r=n(0),o=n(40);r(r.S,"Error",{isError:function(e){return"Error"===o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),o=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*o}})},function(e,t,n){var r=n(0),o=n(291),i=n(271);r(r.S,"Math",{fscale:function(e,t,n,r,a){return i(o(e,t,n,r,a))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var o=e>>>0,i=t>>>0,a=n>>>0;return i+(r>>>0)+((o&a|(o|a)&~(o+a>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var o=e>>>0,i=t>>>0,a=n>>>0;return i-(r>>>0)-((~o&a|~(o^a)&o-a>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r,a=n>>16,u=r>>16,s=(a*i>>>0)+(o*i>>>16);return a*u+(s>>16)+((o*u>>>0)+(65535&s)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),o=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*o}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(291)})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r,a=n>>>16,u=r>>>16,s=(a*i>>>0)+(o*i>>>16);return a*u+(s>>>16)+((o*u>>>0)+(65535&s)>>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(0),o=n(44),i=n(7),a=n(131),u=n(278);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0),o=n(197),i=n(277);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(52),o=n(6),i=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,o(n),i(r))}})},function(e,t,n){var r=n(52),o=n(6),i=r.key,a=r.map,u=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:i(arguments[2]),r=a(o(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var s=u.get(t);return s.delete(n),!!s.size||u.delete(t)}})},function(e,t,n){var r=n(52),o=n(6),i=n(38),a=r.has,u=r.get,s=r.key,c=function(e,t,n){if(a(e,t,n))return u(e,t,n);var r=i(t);return null!==r?c(e,r,n):void 0};r.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(281),o=n(290),i=n(52),a=n(6),u=n(38),s=i.keys,c=i.key,l=function(e,t){var n=s(e,t),i=u(e);if(null===i)return n;var a=l(i,t);return a.length?n.length?o(new r(n.concat(a))):a:n};i.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var r=n(52),o=n(6),i=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(52),o=n(6),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(52),o=n(6),i=n(38),a=r.has,u=r.key,s=function(e,t,n){if(a(e,t,n))return!0;var r=i(t);return null!==r&&s(e,r,n)};r.exp({hasMetadata:function(e,t){return s(e,o(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var r=n(52),o=n(6),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(52),o=n(6),i=n(25),a=r.key,u=r.set;r.exp({metadata:function(e,t){return function(n,r){u(e,t,(void 0!==r?o:i)(n),a(r))}}})},function(e,t,n){var r=n(0),o=n(196)(),i=n(7).process,a="process"==n(40)(i);r(r.G,{asap:function(e){var t=a&&i.domain;o(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(44),a=n(196)(),u=n(12)("observable"),s=n(25),c=n(6),l=n(72),f=n(74),d=n(31),h=n(73),p=h.RETURN,v=function(e){return null==e?void 0:s(e)},y=function(e){var t=e._c;t&&(e._c=void 0,t())},m=function(e){return void 0===e._o},g=function(e){m(e)||(e._o=void 0,y(e))},b=function(e,t){c(e),this._c=void 0,this._o=e,e=new _(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:s(n),this._c=n)}catch(t){return void e.error(t)}m(this)&&y(this)};b.prototype=f({},{unsubscribe:function(){g(this)}});var _=function(e){this._s=e};_.prototype=f({},{next:function(e){var t=this._s;if(!m(t)){var n=t._o;try{var r=v(n.next);if(r)return r.call(n,e)}catch(e){try{g(t)}finally{throw e}}}},error:function(e){var t=this._s;if(m(t))throw e;var n=t._o;t._o=void 0;try{var r=v(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{y(t)}finally{throw e}}return y(t),e},complete:function(e){var t=this._s;if(!m(t)){var n=t._o;t._o=void 0;try{var r=v(n.complete);e=r?r.call(n,e):void 0}catch(e){try{y(t)}finally{throw e}}return y(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=s(e)};f(w.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||o.Promise)(function(n,r){s(e);var o=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(e){var t="function"==typeof this?this:w,n=v(c(e)[u]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(h(e,!1,function(e){if(t.next(e),n)return p})===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(w.prototype,u,function(){return this}),r(r.G,{Observable:w}),n(71)("Observable")},function(e,t,n){var r=n(7),o=n(0),i=r.navigator,a=[].slice,u=!!i&&/MSIE .\./.test(i.userAgent),s=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*u,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(e,t,n){var r=n(0),o=n(195);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(194),o=n(67),i=n(32),a=n(7),u=n(31),s=n(86),c=n(12),l=c("iterator"),f=c("toStringTag"),d=s.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),v=0;v<p.length;v++){var y,m=p[v],g=h[m],b=a[m],_=b&&b.prototype;if(_&&(_[l]||u(_,l,d),_[f]||u(_,f,m),s[m]=d,g))for(y in r)_[y]||i(_,y,r[y],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new h(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function n(t,o,i,a){var u=r(e[t],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,i,a)},function(e){n("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function o(e,t){function r(){return new Promise(function(r,o){n(e,t,r,o)})}return i=i?i.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var i;this._invoke=o}function c(e,t,n){var o=S;return function(i,a){if(o===O)throw new Error("Generator is already running");if(o===T){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===S)throw o=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=O;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?T:C,c.arg===A)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=T,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,l(e,t),"throw"===t.method))return A;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,A;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,A):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function p(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:y,done:!0}}var y,m=Object.prototype,g=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",k="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(k&&(e.exports=E));E=t.regeneratorRuntime=k?e.exports:{},E.wrap=n;var S="suspendedStart",C="suspendedYield",O="executing",T="completed",A={},j={};j[_]=function(){return this};var M=Object.getPrototypeOf,P=M&&M(M(p([])));P&&P!==m&&g.call(P,_)&&(j=P);var D=a.prototype=o.prototype=Object.create(j);i.prototype=D.constructor=a,a.constructor=i,a[x]=i.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(D),e},E.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[w]=function(){return this},E.AsyncIterator=s,E.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return E.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(D),D[x]="Generator",D[_]=function(){return this},D.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=p,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,A):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),A}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(35))},function(e,t,n){n(657),e.exports=n(44).RegExp.escape},function(e,t,n){var r=n(0),o=n(658)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return o(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(660);var o=n(2),i=r(o),a=n(2),u=n(22),s=n(683),c=n(686),l=r(c),f=n(995),d=r(f);n(1229);var h=n(1230),p=n(1231),v=n(171);n(429);var y=function(e){var t=document.querySelector("[role=application]"),r=t.dataset,o=r.cozyLocale||"en",c=(0,h.setupHistory)(),f=(0,p.getClient)(e),y=(0,l.default)(f,e);y.dispatch((0,v.fetchSettingsCollection)()).then(function(e){0===e.data.length&&y.dispatch((0,v.initSettings)())}),(0,s.persistState)(y);var m=n(23).Provider,g=n(24).Router;cozy.bar.init({appName:r.cozyAppName,iconPath:r.cozyIconPath,lang:r.cozyLocale,replaceTitleOnMobile:!0}),(0,a.render)(i.default.createElement(u.I18n,{lang:o,dictRequire:function(e){return n(1232)("./"+e)}},i.default.createElement(m,{store:y,client:f},i.default.createElement(g,{history:c,routes:d.default}))),document.querySelector("[role=application]"))};document.addEventListener("DOMContentLoaded",function(){(0,s.loadState)().then(y)})},function(e,t){e.exports={spin:"main_spin_TNzLa"}},function(e,t,n){"use strict";var r=n(662),o=n(663),i=n(664);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,u,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,u,s],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTranslation=t._polyglot=void 0;var r=n(666),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(22),a=t._polyglot=void 0;t.initTranslation=function(e,n,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.DEFAULT_LANG;if(t._polyglot=a=new o.default({phrases:n(u),locale:u}),e&&e!==u)try{var s=n(e);a.extend(s),a.locale(e)}catch(t){console.warn('The dict phrases for "'+e+"\" can't be loaded")}if(r){var c=n(e,r);a.extend(c)}return a}},function(e,t,n){"use strict";function r(e){var t={};return s(e,function(e,n){s(e,function(e){t[e]=n})}),t}function o(e){var t=r(m);return t[e]||t[p.call(e,/-/,1)[0]]||t.en}function i(e,t){return y[o(e)](t)}function a(e,t,n){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var r=e,o="number"==typeof t?{smart_count:t}:t;if(null!=o.smart_count&&r){var a=p.call(r,v);r=f(a[i(n||"en",o.smart_count)]||a[0])}return r=h.call(r,_,function(e,t){return l(o,t)&&null!=o[t]?h.call(o[t],g,b):e})}function u(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?a:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||d}var s=n(667),c=n(50),l=n(293),f=n(670),d=function(e){c(!1,e)},h=String.prototype.replace,p=String.prototype.split,v="||||",y={arabic:function(e){return e<3?e:e%100>=3&&e%100<=10?3:e%100>=11?4:5},chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},m={arabic:["ar"],chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru","lt"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},g=/\$/g,b="$$",_=/%\{(.*?)\}/g;u.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},u.prototype.extend=function(e,t){s(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.extend(e,r):this.phrases[r]=e},this)},u.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:s(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.unset(e,r):delete this.phrases[r]},this)},u.prototype.clear=function(){this.phrases={}},u.prototype.replace=function(e){this.clear(),this.extend(e)},u.prototype.t=function(e,t){var n,r,o=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof o._)n=o._;else if(this.onMissingKey){var i=this.onMissingKey;r=i(e,o,this.currentLocale)}else this.warn('Missing translation for key: "'+e+'"'),r=e;return"string"==typeof n&&(r=a(n,o,this.currentLocale)),r},u.prototype.has=function(e){return l(this.phrases,e)},u.transformPhrase=a,e.exports=u},function(e,t,n){function r(e,t,n){if(!u(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(e)?o(e,t,n):"string"==typeof e?i(e,t,n):a(e,t,n)}function o(e,t,n){for(var r=0,o=e.length;r<o;r++)c.call(e,r)&&t.call(n,e[r],r,e)}function i(e,t,n){for(var r=0,o=e.length;r<o;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)c.call(e,r)&&t.call(n,e[r],r,e)}var u=n(668);e.exports=r;var s=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var r=Object.prototype.toString},function(e,t,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=r.call(arguments,1),a=function(){if(this instanceof n){var o=t.apply(this,i.concat(r.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(r.call(arguments)))},u=Math.max(0,t.length-i.length),s=[],c=0;c<u;c++)s.push("$"+c);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},function(e,t,n){"use strict";var r=n(199),o=n(294),i=n(295),a=n(297),u=n(681),s=r.call(Function.call,a());o(s,{getPolyfill:a,implementation:i,shim:u}),e.exports=s},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Array.prototype.slice,a=n(672),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!h)return f(e);try{return f(e)}catch(e){return!1}},v=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=a(e),u=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(u&&e.length>0&&!r.call(e,0))for(var h=0;h<e.length;++h)f.push(String(h));if(i&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var y in e)d&&"prototype"===y||!r.call(e,y)||f.push(String(y));if(s)for(var m=p(e),g=0;g<l.length;++g)m&&"constructor"===l[g]||!r.call(e,l[g])||f.push(l[g]);return f};v.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(a(t)?i.call(t):t)}}}else Object.keys=v;return Object.keys||v},e.exports=v},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var u in e)n.call(e,u)&&t.call(o,e[u],u,e)}},function(e,t,n){"use strict";var r=n(675),o=n(676),i=n(677),a=n(678),u=n(296),s=n(679),c=n(293),l={ToPrimitive:s,ToBoolean:function(e){return!!e},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return r(t)?0:0!==t&&o(t)?i(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(r(t)||0===t||!o(t))return 0;var n=i(t)*Math.floor(Math.abs(t));return a(n,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:u,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(c(e,n)&&!t[n])return!1;var r=c(e,"[[Value]]"),o=c(e,"[[Get]]")||c(e,"[[Set]]");if(r&&o)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Get]]")&&!c(e,"[[Set]]"))},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Value]]")&&!c(e,"[[Writable]]"))},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e)},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new TypeError("ToPropertyDescriptor requires an object");var t={};if(c(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),c(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),c(e,"value")&&(t["[[Value]]"]=e.value),c(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),c(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(c(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("setter must be a function");t["[[Set]]"]=r}if((c(t,"[[Get]]")||c(t,"[[Set]]"))&&(c(t,"[[Value]]")||c(t,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=l},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(680),i=n(296),a={"[[DefaultValue]]":function(e,t){var n=t||("[object Date]"===r.call(e)?String:Number);if(n===String||n===Number){var a,u,s=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<s.length;++u)if(i(e[s[u]])&&(a=e[s[u]](),o(a)))return a;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e,t){return o(e)?e:a["[[DefaultValue]]"](e,t)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(294),o=n(297);e.exports=function(){var e=o();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.initFormat=void 0;var o=n(298),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(22);t.initFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.DEFAULT_LANG,o=r({},t,n(302)("./"+t+"/index"));if(e&&e!==t)try{o[e]=n(302)("./"+e+"/index")}catch(t){console.warn('The "'+e+"\" locale isn't supported by date-fns")}return function(t,n){return(0,i.default)(t,n,{locale:o[e]})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveState=t.loadState=t.persistState=void 0;var i=n(19),a=r(i),u=n(305),s=r(u),c=(t.persistState=function(e){e.subscribe(function(){return c({filters:{filteringDoc:e.getState().filters.filteringDoc},mobile:e.getState().mobile})})},t.loadState=function(){var e=o(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.default.getItem("state");case 3:if(null!==(t=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,void 0,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),t.saveState=function(){var e=o(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{s.default.setItem("state",t)}catch(e){console.warn(e)}case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}())},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(685),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new h(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(n,o,i,a){var u=r(e[n],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(e,t,n){var o=S;return function(i,a){if(o===O)throw new Error("Generator is already running");if(o===T){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===S)throw o=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=O;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?T:C,c.arg===A)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=T,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,l(e,t),"throw"===t.method))return A;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,A;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,A):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function p(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:y,done:!0}}var y,m=Object.prototype,g=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",k="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(k&&(e.exports=E));E=t.regeneratorRuntime=k?e.exports:{},E.wrap=n;var S="suspendedStart",C="suspendedYield",O="executing",T="completed",A={},j={};j[_]=function(){return this};var M=Object.getPrototypeOf,P=M&&M(M(p([])));P&&P!==m&&g.call(P,_)&&(j=P);var D=a.prototype=o.prototype=Object.create(j);i.prototype=D.constructor=a,a.constructor=i,a[x]=i.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(D),e},E.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[w]=function(){return this},E.AsyncIterator=s,E.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return E.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(D),D[x]="Generator",D[_]=function(){return this},D.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=p,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,A):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),A}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),i=n(701),a=r(i),u=(n(702),n(203)),s=n(141),c=r(s),l=n(15),f=function(e,t){var n=o.compose,r=[c.default,t],i=[a.default,(0,l.cozyMiddleware)(e)];(0,u.shouldEnableTracking)()&&(0,u.getTracker)()&&i.push((0,u.createTrackerMiddleware)());var s=o.createStore.apply(void 0,r.concat([n(o.applyMiddleware.apply(null,i))]));return e.attachStore(s),s};t.default=f},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?s:u:c&&c in Object(e)?Object(i.a)(e):Object(a.a)(e)}var o=n(307),i=n(690),a=n(691),u="[object Null]",s="[object Undefined]",c=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(689),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(35))},function(e,t,n){"use strict";function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(307),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return i.call(e)}var o=Object.prototype,i=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(693),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(696)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(697),a=function(e){return e&&e.__esModule?e:{default:e}}(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,a.default)(o);t.default=u}).call(t,n(35),n(90)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var a=t[i];"function"==typeof e[a]&&(n[a]=e[a])}var u=Object.keys(n),s=void 0;try{o(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var o=!1,i={},a=0;a<u.length;a++){var c=u[a],l=n[c],f=e[c],d=l(f,t);if(void 0===d){var h=r(c,t);throw new Error(h)}i[c]=d,o=o||d!==f}return o?i:e}}t.a=i;var a=n(306);n(202),n(308)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],u=e[a];"function"==typeof u&&(o[a]=r(u,t))}return o}t.a=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var u=e(n,r,a),s=u.dispatch,c=[],l={getState:u.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=o.a.apply(void 0,c)(u.dispatch),i({},u,{dispatch:s})}}}t.a=r;var o=n(309),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){(function(e){!function(e,n){n(t)}(0,function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":j(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,d,h){f=f||[],h=h||[];var p=f.slice(0);if(void 0!==d){if(r){if("function"==typeof r&&r(p,d))return;if("object"===(void 0===r?"undefined":j(r))){if(r.prefilter&&r.prefilter(p,d))return;if(r.normalize){var v=r.normalize(p,d,e,t);v&&(e=v[0],t=v[1])}}}p.push(d)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":j(e),m=void 0===t?"undefined":j(t),g="undefined"!==y||h&&h[h.length-1].lhs&&h[h.length-1].lhs.hasOwnProperty(d),b="undefined"!==m||h&&h[h.length-1].rhs&&h[h.length-1].rhs.hasOwnProperty(d);if(!g&&b)n(new i(p,t));else if(!b&&g)n(new a(p,e));else if(c(e)!==c(t))n(new o(p,e,t));else if("date"===c(e)&&e-t!=0)n(new o(p,e,t));else if("object"===y&&null!==e&&null!==t)if(h.filter(function(t){return t.lhs===e}).length)e!==t&&n(new o(p,e,t));else{if(h.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new u(p,_,new a(void 0,e[_]))):l(e[_],t[_],n,r,p,_,h);for(;_<t.length;)n(new u(p,_,new i(void 0,t[_++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach(function(o,i){var a=x.indexOf(o);a>=0?(l(e[o],t[o],n,r,p,o,h),x=s(x,a)):l(e[o],void 0,n,r,p,o,h)}),x.forEach(function(e){l(void 0,t[e],n,r,p,e,h)})}h.length=h.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new o(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function h(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":d(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}}function y(e,t,n){if(e&&t){l(e,t,function(r){n&&!n(e,t,r)||h(e,t,r)})}}function m(e){return"color: "+D[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}function b(e,t,n,r){var o=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach(function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+D[t].text,m(t)].concat(M(r)))}):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}function _(e,t,n,r){switch(void 0===e?"undefined":j(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,M(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?w(t):o,a=t.collapsed,u=t.colors,s=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach(function(o,f){var d=o.started,h=o.startedTime,p=o.action,v=o.prevState,y=o.error,m=o.took,g=o.nextState,w=e[f+1];w&&(g=w.prevState,m=w.started-d);var x=r(p),k="function"==typeof a?a(function(){return g},p,o):a,E=T(h),S=u.title?"color: "+u.title(x)+";":"",C=["color: gray; font-weight: lighter;"];C.push(S),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var O=i(x,E,m);try{k?u.title&&l?n.groupCollapsed.apply(n,["%c "+O].concat(C)):n.groupCollapsed(O):u.title&&l?n.group.apply(n,["%c "+O].concat(C)):n.group(O)}catch(e){n.log(O)}var A=_(s,x,[v],"prevState"),j=_(s,x,[x],"action"),M=_(s,x,[y,v],"error"),P=_(s,x,[g],"nextState");if(A)if(u.prevState){var D="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",D,v)}else n[A]("prev state",v);if(j)if(u.action){var L="color: "+u.action(x)+"; font-weight: bold";n[j]("%c action    ",L,x)}else n[j]("action    ",x);if(y&&M)if(u.error){var I="color: "+u.error(y,v)+"; font-weight: bold;";n[M]("%c error     ",I,y)}else n[M]("error     ",y);if(P)if(u.nextState){var R="color: "+u.nextState(g)+"; font-weight: bold";n[P]("%c next state",R,g)}else n[P]("next state",g);c&&b(v,g,n,k);try{n.groupEnd()}catch(e){n.log(" log end ")}})}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},L,e),n=t.logger,r=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,u=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof i&&!i(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(a)try{f=e(c)}catch(e){l.error=o(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:d})),s.length=0,l.error)throw l.error;return f}}}}var E,S,C=function(e,t){return new Array(t+1).join(e)},O=function(e,t){return C("0",t-e.toString().length)+e},T=function(e){return O(e.getHours(),2)+":"+O(e.getMinutes(),2)+":"+O(e.getSeconds(),2)+"."+O(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];E="object"===(void 0===e?"undefined":j(e))&&e?e:"undefined"!=typeof window?window:{},S=E.DeepDiff,S&&P.push(function(){void 0!==S&&E.DeepDiff===f&&(E.DeepDiff=S,S=void 0)}),n(o,r),n(i,r),n(a,r),n(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return void 0!==S},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach(function(e){e()}),P=null),f},enumerable:!0}});var D={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},L={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?k()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=L,t.createLogger=k,t.logger=I,t.default=I,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(35))},function(e,t,n){"use strict";(function(t){var r=n(50),o=n(704),i={_isShim:!0,track:function(){},push:function(e){},trackError:function(e){},connectToHistory:function(e){return e},disconnectFromHistory:function(){}},a=null,u=null,s=function(e){if(e=e||{},e.trackErrors=void 0!==e.trackErrors&&e.trackErrors,e.enableLinkTracking=void 0===e.enableLinkTracking||e.enableLinkTracking,e.updateDocumentTitle=void 0===e.updateDocumentTitle||e.updateDocumentTitle,e.ignoreInitialVisit=void 0!==e.ignoreInitialVisit&&e.ignoreInitialVisit,e.injectScript=void 0===e.injectScript||e.injectScript,e.clientTrackerName=void 0!==e.clientTrackerName?e.clientTrackerName:"piwik.js",e.serverTrackerName=void 0!==e.serverTrackerName?e.serverTrackerName:"piwik.php",!e.url||!e.siteId)return"test"!==function(){return t&&t.env?"production".toLowerCase():"development"}()&&r(null,"PiwikTracker cannot be initialized! You haven't passed a url and siteId to it."),i;window._paq=window._paq||[];var n=function(t){var n;n=t.path?t.path:t.basename?o(t.basename,t.pathname,t.search):o(t.pathname,t.search),a!==n&&(e.updateDocumentTitle&&s(["setDocumentTitle",document.title]),s(["setCustomUrl",n]),s(["trackPageView"]),a=n)},s=function(e){window._paq.push(e)},c=function(e,t){t=t||"JavaScript Error",s(["trackEvent",t,e.message,e.filename+": "+e.lineno])},l=function(t){return u=t.listen(function(e){n(e)}),!e.ignoreInitialVisit&&t.location&&n(t.location),t},f=function(){return!!u&&(u(),!0)};return e.trackErrors&&(window.addEventListener?window.addEventListener("error",c,!1):window.attachEvent?window.attachEvent("onerror",c):window.onerror=c),function(){if(-1!==e.url.indexOf("http://")||-1!==e.url.indexOf("https://"))var t=e.url+"/";else var t="https:"==document.location.protocol?"https://"+e.url+"/":"http://"+e.url+"/";if(s(["setSiteId",e.siteId]),s(["setTrackerUrl",t+e.serverTrackerName]),e.userId&&s(["setUserId",e.userId]),e.enableLinkTracking&&s(["enableLinkTracking"]),e.injectScript){var n=document,r=n.createElement("script"),o=n.getElementsByTagName("script")[0];r.type="text/javascript",r.defer=!0,r.async=!0,r.src=t+e.clientTrackerName,o.parentNode.insertBefore(r,o)}}(),{_isShim:!1,track:n,push:s,trackError:c,connectToHistory:l,disconnectFromHistory:f}};"undefined"==typeof window?e.exports=function(){return i}:e.exports=s}).call(t,n(137))},function(e,t,n){var r,o;!function(i,a,u){void 0!==e&&e.exports?e.exports=u():(r=u,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o))}(0,0,function(){function e(e,t){return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/(\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&")}return function(){var t=arguments,n={};return"object"==typeof arguments[0]&&(t=arguments[0],n=arguments[1]||{}),e([].slice.call(t,0).join("/"),n)}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],a=n||t+"Subscription",s=function(e){function n(i,a){r(this,n);var u=o(this,e.call(this,i,a));return u[t]=i.store,u}return i(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[a]=null,e},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:l.a.isRequired,children:c.a.element.isRequired},s.childContextTypes=(e={},e[t]=l.a.isRequired,e[a]=l.b,e),s}t.a=a;var u=n(2),s=n(5),c=n.n(s),l=n(311);n(204);t.b=a()},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,f){if("string"!=typeof n){if(l){var d=c(n);d&&d!==l&&e(t,d,f)}var h=a(n);u&&(h=h.concat(u(n)));for(var p=0;p<h.length;++p){var v=h[p];if(!(r[v]||o[v]||f&&f[v])){var y=s(n,v);try{i(t,v,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return u});var i=null,a={notify:function(){}},u=function(){function e(t,n,o){r(this,e),this.store=t,this.parentSub=n,this.onStateChange=o,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function i(e,t){return e===t}var a=n(312),u=n(709),s=n(710),c=n(711),l=n(712),f=n(713),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?a.a:t,h=e.mapStateToPropsFactories,p=void 0===h?c.a:h,v=e.mapDispatchToPropsFactories,y=void 0===v?s.a:v,m=e.mergePropsFactories,g=void 0===m?l.a:m,b=e.selectorFactory,_=void 0===b?f.a:b;return function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=s.pure,l=void 0===c||c,f=s.areStatesEqual,h=void 0===f?i:f,v=s.areOwnPropsEqual,m=void 0===v?u.a:v,b=s.areStatePropsEqual,w=void 0===b?u.a:b,x=s.areMergedPropsEqual,k=void 0===x?u.a:x,E=r(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=o(e,p,"mapStateToProps"),C=o(t,y,"mapDispatchToProps"),O=o(a,g,"mergeProps");return n(_,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:C,initMergeProps:O,pure:l,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:w,areMergedPropsEqual:k},E))}}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}t.a=o;var i=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(u.b)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:Object(u.a)(function(e){return{dispatch:e}})}function i(e){return e&&"object"==typeof e?Object(u.a)(function(t){return Object(a.bindActionCreators)(e,t)}):void 0}var a=n(89),u=n(313);t.a=[r,o,i]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(i.b)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:Object(i.a)(function(){return{}})}var i=n(313);t.a=[r,o]},function(e,t,n){"use strict";function r(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,u){var s=e(t,n,u);return i?r&&o(s,a)||(a=s):(i=!0,a=s),a}}}function i(e){return"function"==typeof e?o(e):void 0}function a(e){return e?void 0:function(){return r}}var u=(n(314),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=[i,a]},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function i(e,t,n,r,o){function i(o,i){return p=o,v=i,y=e(p,v),m=t(r,v),g=n(y,m,v),h=!0,g}function a(){return y=e(p,v),t.dependsOnOwnProps&&(m=t(r,v)),g=n(y,m,v)}function u(){return e.dependsOnOwnProps&&(y=e(p,v)),t.dependsOnOwnProps&&(m=t(r,v)),g=n(y,m,v)}function s(){var t=e(p,v),r=!d(t,y);return y=t,r&&(g=n(y,m,v)),g}function c(e,t){var n=!f(t,v),r=!l(e,p);return p=e,v=t,n&&r?a():n?u():r?s():g}var l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,h=!1,p=void 0,v=void 0,y=void 0,m=void 0,g=void 0;return function(e,t){return h?c(e,t):i(e,t)}}function a(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,u=t.initMergeProps,s=r(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,s),l=a(e,s),f=u(e,s);return(s.pure?i:o)(c,l,f,e,s)}t.a=a;n(714)},function(e,t,n){"use strict";n(204)},function(e,t){e.exports={"coz-btn":"styles_coz-btn_1rRxl",spin:"styles_spin_1ywvo","coz-btn--alert-error":"styles_coz-btn--alert-error_VBdH7","coz-btn--alert-info":"styles_coz-btn--alert-info_1oQE0","coz-btn--alert-success":"styles_coz-btn--alert-success_G4OG1","coz-alerter":"styles_coz-alerter_1boe4","coz-alert":"styles_coz-alert_37n8o","coz-alert-title":"styles_coz-alert-title_SKC4c","coz-alert--hidden":"styles_coz-alert--hidden_2KnRb","coz-alert--error":"styles_coz-alert--error_1XSYD","coz-alert--success":"styles_coz-alert--success_1eMSs","coz-alert--info":"styles_coz-alert--info_4IL5A"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSharing=void 0;var r=n(28);t.findSharing=function(e,t,n){if(!n)throw new Error("Missing mandatory parameter `id`");var o={sharing_type:"master-slave"};return e.data.find(t,n).then(function(t){o.account=t,o.owner=t.owner;var n=t.recipients;return n&&n.length?Promise.all(n.map(function(t){return e.data.find(r.RECIPIENT_DOCTYPE,t.recipient.id)})):[]}).then(function(e){return o.recipients=e,o})}},function(e,t,n){function r(e){return function(t,n,r){var u=Object(t);if(!i(t)){var s=o(n,3);t=a(t),n=function(e){return s(u[e],e,u)}}var c=e(t,n,r);return c>-1?u[s?t[c]:c]:void 0}}var o=n(79),i=n(81),a=n(93);e.exports=r},function(e,t,n){function r(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}var o=n(719),i=n(764),a=n(334);e.exports=r},function(e,t,n){function r(e,t,n,r){var s=n.length,c=s,l=!r;if(null==e)return!c;for(e=Object(e);s--;){var f=n[s];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++s<c;){f=n[s];var d=f[0],h=e[d],p=f[1];if(l&&f[2]){if(void 0===h&&!(d in e))return!1}else{var v=new o;if(r)var y=r(h,p,d,e,t,v);if(!(void 0===y?i(p,h,a|u,r,v):y))return!1}}return!0}var o=n(142),i=n(208),a=1,u=2;e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var o=n(144),i=Array.prototype,a=i.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(144);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(144);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(144);e.exports=r},function(e,t,n){function r(){this.__data__=new o,this.size=0}var o=n(143);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<u-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var o=n(143),i=n(205),a=n(207),u=200;e.exports=r},function(e,t,n){function r(e){return!(!a(e)||i(e))&&(o(e)?p:c).test(u(e))}var o=n(206),i=n(733),a=n(34),u=n(318),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,d=l.toString,h=f.hasOwnProperty,p=RegExp("^"+d.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(92),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t,n){function r(e){return!!i&&i in e}var o=n(734),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(42),o=r["__core-js_shared__"];e.exports=o},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=n(737),i=n(143),a=n(205);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(738),i=n(739),a=n(740),u=n(741),s=n(742);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,e.exports=r},function(e,t,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(145);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(o){var n=t[e];return n===i?void 0:n}return u.call(t,e)?t[e]:void 0}var o=n(145),i="__lodash_hash_undefined__",a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return o?void 0!==t[e]:a.call(t,e)}var o=n(145),i=Object.prototype,a=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?i:t,this}var o=n(145),i="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=n(146);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return o(this,e).get(e)}var o=n(146);e.exports=r},function(e,t,n){function r(e){return o(this,e).has(e)}var o=n(146);e.exports=r},function(e,t,n){function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var o=n(146);e.exports=r},function(e,t,n){function r(e,t,n,r,y,g){var b=c(e),_=c(t),w=b?p:s(e),x=_?p:s(t);w=w==h?v:w,x=x==h?v:x;var k=w==v,E=x==v,S=w==x;if(S&&l(e)){if(!l(t))return!1;b=!0,k=!1}if(S&&!k)return g||(g=new o),b||f(e)?i(e,t,n,r,y,g):a(e,t,w,n,r,y,g);if(!(n&d)){var C=k&&m.call(e,"__wrapped__"),O=E&&m.call(t,"__wrapped__");if(C||O){var T=C?e.value():e,A=O?t.value():t;return g||(g=new o),y(T,A,n,r,g)}}return!!S&&(g||(g=new o),u(e,t,n,r,y,g))}var o=n(142),i=n(319),a=n(752),u=n(753),s=n(330),c=n(29),l=n(149),f=n(211),d=1,h="[object Arguments]",p="[object Array]",v="[object Object]",y=Object.prototype,m=y.hasOwnProperty;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t,n,r,o,k,S){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!k(new i(e),new i(t)));case d:case h:case y:return a(+e,+t);case p:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case v:var C=s;case g:var O=r&l;if(C||(C=c),e.size!=t.size&&!O)return!1;var T=S.get(e);if(T)return T==t;r|=f,S.set(e,t);var A=u(C(e),C(t),r,o,k,S);return S.delete(e),A;case _:if(E)return E.call(e)==E.call(t)}return!1}var o=n(92),i=n(322),a=n(111),u=n(319),s=n(323),c=n(147),l=1,f=2,d="[object Boolean]",h="[object Date]",p="[object Error]",v="[object Map]",y="[object Number]",m="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",k=o?o.prototype:void 0,E=k?k.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,a,s){var c=n&i,l=o(e),f=l.length;if(f!=o(t).length&&!c)return!1;for(var d=f;d--;){var h=l[d];if(!(c?h in t:u.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var v=!0;s.set(e,t),s.set(t,e);for(var y=c;++d<f;){h=l[d];var m=e[h],g=t[h];if(r)var b=c?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(!(void 0===b?m===g||a(m,g,n,r,s):b)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(v=!1)}return s.delete(e),s.delete(t),v}var o=n(324),i=1,a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){return i(e)&&o(e)==a}var o=n(91),i=n(59),a="[object Arguments]";e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return a(e)&&i(e.length)&&!!u[o(e)]}var o=n(91),i=n(212),a=n(59),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){(function(e){var r=n(317),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,u=a&&r.process,s=function(){try{return u&&u.binding&&u.binding("util")}catch(e){}}();e.exports=s}).call(t,n(90)(e))},function(e,t,n){function r(e){if(!o(e))return i(e);var t=[];for(var n in Object(e))u.call(e,n)&&"constructor"!=n&&t.push(n);return t}var o=n(213),i=n(761),a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(329),o=r(Object.keys,Object);e.exports=o},function(e,t,n){var r=n(80),o=n(42),i=r(o,"DataView");e.exports=i},function(e,t,n){var r=n(80),o=n(42),i=r(o,"Promise");e.exports=i},function(e,t,n){function r(e){for(var t=i(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,o(a)]}return t}var o=n(333),i=n(93);e.exports=r},function(e,t,n){function r(e,t){return u(e)&&s(t)?c(l(e),t):function(n){var r=i(n,e);return void 0===r&&r===t?a(n,e):o(t,r,f|d)}}var o=n(208),i=n(335),a=n(336),u=n(214),s=n(333),c=n(334),l=n(95),f=1,d=2;e.exports=r},function(e,t,n){var r=n(767),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,u=r(function(e){var t=[];return o.test(e)&&t.push(""),e.replace(i,function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)}),t});e.exports=u},function(e,t,n){function r(e){var t=o(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}var o=n(768),i=500;e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(r.Cache||o),n}var o=n(207),i="Expected a function";r.Cache=o,e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return i(e,r)+"";if(u(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var o=n(92),i=n(216),a=n(29),u=n(112),s=1/0,c=o?o.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e,t,n){t=o(t,e);for(var r=-1,l=t.length,f=!1;++r<l;){var d=c(t[r]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++r!=l?f:!!(l=null==e?0:e.length)&&s(l)&&u(d,l)&&(a(e)||i(e))}var o=n(94),i=n(148),a=n(29),u=n(150),s=n(212),c=n(95);e.exports=r},function(e,t,n){function r(e){return a(e)?o(u(e)):i(e)}var o=n(773),i=n(774),a=n(214),u=n(95);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return o(t,e)}}var o=n(151);e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=o(e))===i||e===-i){return(e<0?-1:1)*a}return e===e?e:0}var o=n(340),i=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){var r=n(96),o=n(342),i=o(function(e,t,n){r(e,n,t)});e.exports=i},function(e,t){function n(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}e.exports=n},function(e,t,n){function r(e,t,n,r){return o(e,function(e,o,i){t(r,e,n(e),i)}),r}var o=n(343);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var i=n.length,a=t?i:-1,u=Object(n);(t?a--:++a<i)&&!1!==r(u[a],a,u););return n}}var o=n(81);e.exports=r},function(e,t,n){function r(e){return a(e)||i(e)||!!(u&&e&&e[u])}var o=n(92),i=n(148),a=n(29),u=o?o.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e,t,n){var r=-1;t=o(t.length?t:[l],s(i));var f=a(e,function(e,n,i){return{criteria:o(t,function(t){return t(e)}),index:++r,value:e}});return u(f,function(e,t){return c(e,t,n)})}var o=n(216),i=n(79),a=n(783),u=n(784),s=n(328),c=n(785),l=n(152);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=i(e)?Array(e.length):[];return o(e,function(e,o,i){r[++n]=t(e,o,i)}),r}var o=n(343),i=n(81);e.exports=r},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t,n){function r(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,u=i.length,s=n.length;++r<u;){var c=o(i[r],a[r]);if(c){if(r>=s)return c;return c*("desc"==n[r]?-1:1)}}return e.index-t.index}var o=n(786);e.exports=r},function(e,t,n){function r(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,a=o(e),u=void 0!==t,s=null===t,c=t===t,l=o(t);if(!s&&!l&&!a&&e>t||a&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}var o=n(112);e.exports=r},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var r=n(789),o=n(341),i=n(152),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var a=i(),u=o-(a-n);if(n=a,u>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,o=16,i=Date.now;e.exports=n},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return o(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var u=0,s=r.pop(),c=a(r),l=e.apply(void 0,[function(){return u++,s.apply(null,arguments)}].concat(n)),f=i(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return f.resultFunc=s,f.recomputations=function(){return u},f.resetRecomputations=function(){return u=0},f}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=u,t.createStructuredSelector=s;var c=t.createSelector=u(i)},function(e,t,n){function r(e,t,n,r){var i=o(e).getTime(),a=o(t).getTime(),u=o(n).getTime(),s=o(r).getTime();if(i>a||u>s)throw new Error("The start of the range cannot be after the end of the range");return i<s&&u<a}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,r,i=o(e),a=i.getTime();return t.forEach(function(e,t){var i=o(e),u=Math.abs(a-i.getTime());(void 0===n||u<r)&&(n=t,r=u)}),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,r,i=o(e),a=i.getTime();return t.forEach(function(e){var t=o(e),i=Math.abs(a-t.getTime());(void 0===n||i<r)&&(n=t,r=i)}),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t),u=n.getTime()-n.getTimezoneOffset()*i,s=r.getTime()-r.getTimezoneOffset()*i;return Math.round((u-s)/a)}var o=n(76),i=6e4,a=6048e5;e.exports=r},function(e,t,n){function r(e,t){var n=i(e),r=i(t);return 4*(n.getFullYear()-r.getFullYear())+(o(n)-o(r))}var o=n(361),i=n(1);e.exports=r},function(e,t,n){function r(e,t,n){var r=o(e,n),u=o(t,n),s=r.getTime()-r.getTimezoneOffset()*i,c=u.getTime()-u.getTimezoneOffset()*i;return Math.round((s-c)/a)}var o=n(139),i=6e4,a=6048e5;e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t)/i;return n>0?Math.floor(n):Math.ceil(n)}var o=n(155),i=36e5;e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t),s=a(n,r),c=Math.abs(i(n,r));return n=u(n,s*c),s*(c-(a(n,r)===-s))}var o=n(1),i=n(359),a=n(115),u=n(364);e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t)/i;return n>0?Math.floor(n):Math.ceil(n)}var o=n(155),i=6e4;e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t)/3;return n>0?Math.floor(n):Math.ceil(n)}var o=n(220);e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}var o=n(363);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t),u=a(n,r),s=Math.abs(i(n,r));return n.setFullYear(n.getFullYear()-u*s),u*(s-(a(n,r)===-u))}var o=n(1),i=n(362),a=n(115);e.exports=r},function(e,t,n){function r(e,t,n){var r=n||{},f=o(e,t),d=r.locale,h=u.distanceInWords.localize;d&&d.distanceInWords&&d.distanceInWords.localize&&(h=d.distanceInWords.localize);var p,v,y={addSuffix:Boolean(r.addSuffix),comparison:f};f>0?(p=i(e),v=i(t)):(p=i(t),v=i(e));var m,g,b,_,w,x=Math[r.partialMethod?String(r.partialMethod):"floor"],k=a(v,p),E=v.getTimezoneOffset()-p.getTimezoneOffset(),S=x(k/60)-E;if("s"===(m=r.unit?String(r.unit):S<1?"s":S<60?"m":S<s?"h":S<c?"d":S<l?"M":"Y"))return h("xSeconds",k,y);if("m"===m)return h("xMinutes",S,y);if("h"===m)return g=x(S/60),h("xHours",g,y);if("d"===m)return b=x(S/s),h("xDays",b,y);if("M"===m)return _=x(S/c),h("xMonths",_,y);if("Y"===m)return w=x(S/l),h("xYears",w,y);throw new Error("Unknown unit: "+m)}var o=n(154),i=n(1),a=n(221),u=n(78),s=1440,c=43200,l=525600;e.exports=r},function(e,t,n){function r(e,t){return o(Date.now(),e,t)}var o=n(365);e.exports=r},function(e,t,n){function r(e,t,n){var r=o(e),i=o(t),a=void 0!==n?n:1,u=i.getTime();if(r.getTime()>u)throw new Error("The first date cannot be after the second date");var s=[],c=r;for(c.setHours(0,0,0,0);c.getTime()<=u;)s.push(o(c)),c.setDate(c.getDate()+a);return s}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setMinutes(59,59,999),t}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e,{weekStartsOn:1})}var o=n(366);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=i(n);return r.setMilliseconds(r.getMilliseconds()-1),r}var o=n(77),i=n(76);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setSeconds(59,999),t}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setMilliseconds(999),t}var o=n(1);e.exports=r},function(e,t,n){function r(){return o(new Date)}var o=n(222);e.exports=r},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r+1),o.setHours(23,59,59,999),o}e.exports=n},function(e,t,n){function r(e){var t=o(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}var o=n(1);e.exports=r},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r-1),o.setHours(23,59,59,999),o}e.exports=n},function(e,t,n){function r(e){return o(e).getDate()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e)?366:365}var o=n(368);e.exports=r},function(e,t,n){function r(e){return o(e).getHours()}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=o(i(t,60)),r=n.valueOf()-t.valueOf();return Math.round(r/a)}var o=n(106),i=n(219),a=6048e5;e.exports=r},function(e,t,n){function r(e){return o(e).getMilliseconds()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getMinutes()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getMonth()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t,n,r){var a=o(e).getTime(),u=o(t).getTime(),s=o(n).getTime(),c=o(r).getTime();if(a>u||s>c)throw new Error("The start of the range cannot be after the end of the range");if(!(a<c&&s<u))return 0;var l=s<a?a:s,f=c>u?u:c,d=f-l;return Math.ceil(d/i)}var o=n(1),i=864e5;e.exports=r},function(e,t,n){function r(e){return o(e).getSeconds()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getTime()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getFullYear()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()>r.getTime()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()<r.getTime()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()===r.getTime()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return 1===o(e).getDate()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return 5===o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getTime()>(new Date).getTime()}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e);return i(t).getTime()===a(t).getTime()}var o=n(1),i=n(222),a=n(367);e.exports=r},function(e,t,n){function r(e){return 1===o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getTime()<(new Date).getTime()}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t);return n.getTime()===r.getTime()}var o=n(75);e.exports=r},function(e,t,n){function r(e){return 6===o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return 0===o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(370);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(372);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(373);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(374);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(376);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(377);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(379);e.exports=r},function(e,t,n){function r(e,t){return o(new Date,e,t)}var o=n(223);e.exports=r},function(e,t,n){function r(e){return o(new Date,e)}var o=n(381);e.exports=r},function(e,t,n){function r(e){return 4===o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return o(e).getTime()===o(new Date).getTime()}var o=n(75);e.exports=r},function(e,t,n){function r(e){var t=new Date;return t.setDate(t.getDate()+1),o(e).getTime()===o(t).getTime()}var o=n(75);e.exports=r},function(e,t,n){function r(e){return 2===o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){return 3===o(e).getDay()}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getDay();return 0===n||6===n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t,n){var r=o(e).getTime(),i=o(t).getTime(),a=o(n).getTime();if(i>a)throw new Error("The start of the range cannot be after the end of the range");return r>=i&&r<=a}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=new Date;return t.setDate(t.getDate()-1),o(e).getTime()===o(t).getTime()}var o=n(75);e.exports=r},function(e,t,n){function r(e){return o(e,{weekStartsOn:1})}var o=n(382);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=i(n);return r.setDate(r.getDate()-1),r}var o=n(77),i=n(76);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(0,0,0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return o(e)}),n=Math.max.apply(null,t);return new Date(n)}var o=n(1);e.exports=r},function(e,t,n){function r(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return o(e)}),n=Math.min.apply(null,t);return new Date(n)}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setDate(r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t,n){var r=n?Number(n.weekStartsOn)||0:0,a=o(e),u=Number(t),s=a.getDay();return i(a,((u%7+7)%7<r?7:0)+u-s)}var o=n(1),i=n(113);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setMonth(0),n.setDate(r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setHours(r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t),u=a(n);return i(n,r-u)}var o=n(1),i=n(113),a=n(369);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t),a=i(n)-r;return n.setDate(n.getDate()-7*a),n}var o=n(1),i=n(201);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setMilliseconds(r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setMinutes(r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t),a=Math.floor(n.getMonth()/3)+1,u=r-a;return i(n,n.getMonth()+3*u)}var o=n(1),i=n(383);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setSeconds(r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=Number(t);return n.setFullYear(r),n}var o=n(1);e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setDate(1),t.setHours(0,0,0,0),t}var o=n(1);e.exports=r},function(e,t,n){function r(){return o(new Date)}var o=n(75);e.exports=r},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r+1),o.setHours(0,0,0,0),o}e.exports=n},function(e,t){function n(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r-1),o.setHours(0,0,0,0),o}e.exports=n},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(113);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(352);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(114);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(355);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(153);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(356);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(357);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(219);e.exports=r},function(e,t,n){function r(e,t){var n=Number(t);return o(e,-n)}var o=n(358);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(337),s=r(u),c=n(21),l=r(c),f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),v=n(23),y=n(897),m=r(y),g=n(351),b=n(22),_=n(58),w=n(901),x=r(w),k=n(230),E=r(k),S=n(387),C=r(S),O=n(13),T=r(O),A=n(937),j=r(A),M=function(){for(var e=[],t=(0,g.endOfDay)(new Date),n=[0,1,2,3,4,5,6,7,8,9,10,11],r=0;r<n.length;r++){var o=n[r],i=(0,g.format)((0,g.subMonths)(t,o),"YYYY-MM");e.push(i)}var a=(0,g.subDays)(t,365);return e.push([a,t]),e},P=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},D=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={periods:M()},r.getSelectedIndex=function(){var e=r.state.periods,t=r.props.period,n=(0,s.default)(e,function(e){return e===t});return n>-1?n:0},r.getOptions=function(){var e=r.props,t=e.t,n=e.f,o=r.state.periods,i=[],a=!0,u=!1,s=void 0;try{for(var c,l=o.entries()[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var d=c.value,h=f(d,2),p=h[0],v=h[1];if(p===o.length-1)i.push({value:p,name:t("SelectDates.last_12_months")});else{var y=(0,g.parse)(v,"YYYY-MM");i.push({value:p,name:P(n(y,"MMMM YYYY"))})}}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return i},r.onChange=function(e,t){r.props.onChange(r.state.periods[t])},r.onChooseNext=function(){r.chooseOption(-1)},r.onChoosePrev=function(){r.chooseOption(1)},r.chooseOption=function(e){var t=r.getSelectedIndex(),n=r.getOptions(),o=t+e;o>-1&&t<n.length&&r.onChange(null,o)},a=n,i(r,a)}return a(t,e),d(t,[{key:"render",value:function(e){var t=(e.t,e.f,e.startDate,e.endDate,e.scrolling),n=this.getSelectedIndex(),r=this.getOptions();return p.default.createElement("div",{className:(0,T.default)(x.default["select-dates"],t&&x.default["select-dates--scrolling"])},p.default.createElement("button",{disabled:n===r.length-1,className:x.default["prev-button"],onClick:this.onChoosePrev},p.default.createElement(E.default,{height:"1rem",icon:C.default})),p.default.createElement(m.default,{className:x.default["select-dates-select"],name:"periods",value:n,options:r,onChange:this.onChange}),p.default.createElement("button",{disabled:0===n,className:x.default["next-button"],onClick:this.onChooseNext},p.default.createElement(E.default,{height:"1rem",className:x.default["next-icon"],icon:C.default})))}}]),t}(h.Component),L=function(e){return{period:(0,_.getPeriod)(e)}},I=function(e){return{onChange:function(t){e((0,_.addFilterByPeriod)(t))}}};t.default=(0,l.default)((0,v.connect)(L,I),(0,b.translate)(),j.default)(D)},function(e,t,n){function r(e){return i(function(t){var n=t.length,r=n,i=o.prototype.thru;for(e&&t.reverse();r--;){var v=t[r];if("function"!=typeof v)throw new TypeError(l);if(i&&!y&&"wrapper"==u(v))var y=new o([],!0)}for(r=y?r:n;++r<n;){v=t[r];var m=u(v),g="wrapper"==m?a(v):void 0;y=g&&c(g[0])&&g[1]==(h|f|d|p)&&!g[4].length&&1==g[9]?y[u(g[0])].apply(y,g[3]):1==v.length&&c(v)?y[m]():y.thru(v)}return function(){var e=arguments,r=e[0];if(y&&1==e.length&&s(r))return y.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}var o=n(224),i=n(227),a=n(384),u=n(386),s=n(29),c=n(894),l="Expected a function",f=8,d=32,h=128,p=256;e.exports=r},function(e,t,n){function r(e){return(null==e?0:e.length)?o(e,1):[]}var o=n(346);e.exports=r},function(e,t,n){var r=n(332),o=r&&new r;e.exports=o},function(e,t){var n={};e.exports=n},function(e,t,n){function r(e){var t=a(e),n=u[t];if("function"!=typeof n||!(t in o.prototype))return!1;if(e===n)return!0;var r=i(n);return!!r&&e===r[0]}var o=n(228),i=n(384),a=n(386),u=n(895);e.exports=r},function(e,t,n){function r(e){if(s(e)&&!u(e)&&!(e instanceof o)){if(e instanceof i)return e;if(f.call(e,"__wrapped__"))return c(e)}return new i(e)}var o=n(228),i=n(224),a=n(226),u=n(29),s=n(59),c=n(896),l=Object.prototype,f=l.hasOwnProperty;r.prototype=a.prototype,r.prototype.constructor=r,e.exports=r},function(e,t,n){function r(e){if(e instanceof o)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var o=n(228),i=n(224),a=n(229);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(22),u=n(898),s=r(u),c=function(e){var t=(e.t,e.name),n=e.value,r=e.options,o=e.onChange;return i.default.createElement("select",{name:t,onChange:function(e){return o(t,e.target.value,r.indexOf(e.target.value))}},r.map(function(e){return i.default.createElement("option",{value:void 0!==e.value?e.value:e,selected:n===e.value||n===e},e.name||e)}))};t.default=(0,a.translate)()(function(e){return i.default.createElement(s.default,e,i.default.createElement(c,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(899),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),u=n(5),s=r(u),c=n(13),l=r(c),f=n(22),d=n(900),h=r(d),p=function(e){var t,n=e.t,r=e.submitting,i=e.saved,u=e.errors,s=e.description,c=e.subtitle,f=e.className,d=e.children;return a.default.createElement("div",{className:(0,l.default)(h.default["coz-form"],h.default["bnk-field"],f,(t={},o(t,h.default["bnk-field-loading"],r),o(t,h.default["bnk-field-saved"],i),t))},!!c&&a.default.createElement("h3",{className:h.default["bnk-view-subtitle"]},c),!!s&&a.default.createElement("label",{className:h.default["coz-form-desc"]},s),d,u&&0!==u.length&&u.map(function(e){return a.default.createElement("p",{className:h.default["coz-form-errors"]},n(e))}))};p.propTypes={subtitle:s.default.string,description:s.default.string,submitting:s.default.bool,saved:s.default.bool,errors:s.default.arrayOf(s.default.string),className:s.default.string,children:s.default.oneOfType([s.default.arrayOf(s.default.node),s.default.node])},t.default=(0,f.translate)()(p)},function(e,t){e.exports={"coz-form":"Field_coz-form_2vJUd","bnk-field-loading":"Field_bnk-field-loading_hYYmG","bnk-field-saved":"Field_bnk-field-saved_3g6vl","coz-form-controls":"Field_coz-form-controls_1kF4L",saved:"Field_saved_78lbb",spin:"Field_spin_2orpK","coz-form-group":"Field_coz-form-group_Rub0t","coz-form-desc":"Field_coz-form-desc_2ihTJ","coz-form-label":"Field_coz-form-label_17Nr0","coz-form-label--error":"Field_coz-form-label--error_1WGKd","coz-form-errors":"Field_coz-form-errors_UIdeJ",error:"Field_error_3Ke0F","bnk-field":"Field_bnk-field_1dymu","set-view-subtitle":"Field_set-view-subtitle_2TdW4"}},function(e,t){e.exports={"select-dates":"SelectDates_select-dates_jQvoA","prev-button":"SelectDates_prev-button_2774T","next-button":"SelectDates_next-button_1V2_H","select-dates-select":"SelectDates_select-dates-select_2hzDr","next-icon":"SelectDates_next-icon_hRmTs","select-dates--scrolling":"SelectDates_select-dates--scrolling_8YTLa"}},function(e,t){e.exports={icon:"styles_icon_2kaoz","icon--preserveColor":"styles_icon--preserveColor_1py26"}},function(e,t,n){"use strict";var r=function(e){return e.replace("icon-","").replace(/\.svg$/,"").replace(/^\.\//,"")},o=function(){var e=["icon-album-add","icon-album-remove","icon-back","icon-check","icon-cozy","icon-cross","icon-delete","icon-device-laptop","icon-dots","icon-download","icon-forward","icon-moveto","icon-openwith","icon-paperplane","icon-rename","icon-share","icon-upload","icon-warn","icon-warning"],t={};return e.map(function(e){var o=n(904)("./"+e+".svg");t[r(e)]=o.default||o}),t}();e.exports=o},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./arrow.svg":905,"./check.svg":906,"./dash.svg":907,"./icon-album-add.svg":908,"./icon-album-remove.svg":909,"./icon-back.svg":910,"./icon-check.svg":911,"./icon-cozy.svg":912,"./icon-cross-white.svg":913,"./icon-cross.svg":914,"./icon-delete-grey08.svg":915,"./icon-delete.svg":916,"./icon-device-laptop.svg":917,"./icon-dots-white.svg":918,"./icon-dots.svg":919,"./icon-download.svg":920,"./icon-forward.svg":921,"./icon-moveto.svg":922,"./icon-openwith.svg":923,"./icon-paperplane.svg":924,"./icon-rename.svg":925,"./icon-restore-white.svg":926,"./icon-share-grey08.svg":927,"./icon-share.svg":928,"./icon-upload-grey08.svg":929,"./icon-upload.svg":930,"./icon-warn.svg":931,"./icon-warning.svg":932,"./spinner-blue.svg":933,"./spinner-grey.svg":934,"./spinner-red.svg":935,"./spinner-white.svg":936};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=904},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuarrow",use:"cozyuarrow-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuarrow">\n  <polyline points="14.764,4.966 8.053,11.677 1.342,4.966" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyucheck",use:"cozyucheck-usage",viewBox:"0 0 20 20",content:'<symbol viewBox="0 0 20 20" id="cozyucheck">\n    <path d="M3 10.019l4.523 4.523 9.541-9.541" stroke="#fff" stroke-width="2" fill="none" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyudash",use:"cozyudash-usage",viewBox:"0 0 20 20",content:'<symbol viewBox="0 0 20 20" id="cozyudash"><path d="M3.497 10h13.006" stroke="#fff" stroke-width="2" /></symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-album-add",use:"cozyuicon-album-add-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-album-add">\n  <path fill="#fff" fill-rule="evenodd" d="M65,99.0094776 C65,97.347389 66.3423789,96 68.0033512,96 L77.9931545,96 C78.5492199,96 79,96.4438648 79,97 C79,97.5522847 78.544239,98 77.9975267,98 L68.0024733,98 C67.4488226,98 67,98.4438648 67,99 C67,99.5522847 67.455761,100 68.0024733,100 L77.9975267,100 C78.5511774,100 79,100.455761 79,101.002473 L79,110.997527 C79,111.551177 78.5500512,112 77.9931545,112 L68.0033512,112 C66.3446462,112 65,110.663369 65,108.990522 L65,99.0094776 Z M72,102 L74,102 L74,105 L77,105 L77,107 L74,107 L74,110 L72,110 L72,107 L69,107 L69,105 L72,105 L72,102 Z" transform="translate(-64 -96)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-album-remove",use:"cozyuicon-album-remove-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-album-remove">\n  <path fill="#fff" fill-rule="evenodd" d="M65,99.009C65,97.347 66.342,96 68.003,96L77.993,96C78.549,96 79,96.444 79,97C79,97.552 78.544,98 77.998,98L68.002,98C67.449,98 67,98.444 67,99C67,99.552 67.456,100 68.002,100L77.998,100C78.551,100 79,100.456 79,101.002L79,110.998C79,111.551 78.55,112 77.993,112L68.003,112C66.345,112 65,110.663 65,108.991L65,99.009ZM72,105L77,105L77,107L74,107L72,107L69,107L69,105L72,105Z" transform="translate(-64 -96)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-back",use:"cozyuicon-back-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="cozyuicon-back">\n  <g fill-rule="evenodd" transform="translate(12.285714, 12.000000) rotate(180.000000) translate(-12.285714, -12.000000)">\n    <path d="M6.46026077,20.3174036 C5.84657974,20.9310847 5.84657974,21.9260582 6.46026077,22.5397392 C7.0739418,23.1534203 8.06891534,23.1534203 8.68259637,22.5397392 L18.1111678,13.1111678 C18.7248488,12.4974868 18.7248488,11.5025132 18.1111678,10.8888322 L8.68259637,1.46026077 C8.06891534,0.846579743 7.0739418,0.846579743 6.46026077,1.46026077 C5.84657974,2.0739418 5.84657974,3.06891534 6.46026077,3.68259637 L14.7776644,12 L6.46026077,20.3174036 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-check",use:"cozyuicon-check-usage",viewBox:"0 0 48 48",content:'<symbol viewBox="0 0 48 48" id="cozyuicon-check"><path fill-rule="evenodd" d="M24,48 C37.254834,48 48,37.254834 48,24 C48,10.745166 37.254834,0 24,0 C10.745166,0 0,10.745166 0,24 C0,37.254834 10.745166,48 24,48 Z M13.4142136,24.5857864 C12.633165,23.8047379 11.366835,23.8047379 10.5857864,24.5857864 C9.80473785,25.366835 9.80473785,26.633165 10.5857864,27.4142136 L17.5857864,34.4142136 C18.366835,35.1952621 19.633165,35.1952621 20.4142136,34.4142136 L35.4142136,19.4142136 C36.1952621,18.633165 36.1952621,17.366835 35.4142136,16.5857864 C34.633165,15.8047379 33.366835,15.8047379 32.5857864,16.5857864 L19,30.1715729 L13.4142136,24.5857864 Z" /></symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-cozy",use:"cozyuicon-cozy-usage",viewBox:"0 0 52 52",content:'<symbol viewBox="0 0 52 52" id="cozyuicon-cozy">\n  <path fill="#297EF2" fill-rule="evenodd" d="M558.23098,44 L533.76902,44 C526.175046,44 520,37.756072 520,30.0806092 C520,26.4203755 521.393962,22.9628463 523.927021,20.3465932 C526.145918,18.0569779 529.020185,16.6317448 532.129554,16.2609951 C532.496769,13.1175003 533.905295,10.2113693 536.172045,7.96901668 C538.760238,5.40737823 542.179607,4 545.800788,4 C549.420929,4 552.841339,5.40737823 555.429532,7.96796639 C557.686919,10.2008665 559.091284,13.0912433 559.467862,16.2179336 C566.482405,16.8533543 572,22.8284102 572,30.0816594 C572,37.756072 565.820793,44 558.22994,44 L558.23098,44 Z M558.068077,40.9989547 L558.171599,40.9989547 C564.142748,40.9989547 569,36.0883546 569,30.0520167 C569,24.0167241 564.142748,19.1061239 558.171599,19.1061239 L558.062901,19.1061239 C557.28338,19.1061239 556.644649,18.478972 556.627051,17.6887604 C556.492472,11.7935317 551.63729,7 545.802791,7 C539.968291,7 535.111039,11.7956222 534.977495,17.690851 C534.959896,18.4664289 534.34187,19.0914904 533.573737,19.1092597 C527.743378,19.2451426 523,24.1536522 523,30.0530619 C523,36.0893999 527.857252,41 533.828401,41 L533.916395,41 L533.950557,40.9979094 C533.981614,40.9979094 534.01267,40.9979094 534.043727,41 L558.064971,41 L558.068077,40.9989547 Z M553.766421,29.2227318 C552.890676,28.6381003 552.847676,27.5643091 552.845578,27.5171094 C552.839285,27.2253301 552.606453,26.9957683 552.32118,27.0000592 C552.035908,27.0054228 551.809368,27.2467844 551.814612,27.5364185 C551.81671,27.5750363 551.831393,28.0792139 552.066323,28.6735 C548.949302,31.6942753 544.051427,31.698566 540.928113,28.6917363 C541.169336,28.0888684 541.185068,27.576109 541.185068,27.5374911 C541.190312,27.2478572 540.964821,27.0086409 540.681646,27.0011319 C540.401618,26.9925502 540.163541,27.2264027 540.154102,27.5160368 C540.154102,27.5589455 540.11215,28.6370275 539.234308,29.2216592 C538.995183,29.3825669 538.92806,29.7097461 539.08433,29.9532532 C539.182917,30.1077246 539.346529,30.1924694 539.516434,30.1924694 C539.612923,30.1924694 539.710461,30.1645787 539.797512,30.1066519 C540.023003,29.9564713 540.211786,29.7848363 540.370154,29.6024742 C542.104862,31.2008247 544.296845,32 546.488828,32 C548.686055,32 550.883282,31.1976066 552.621136,29.5917471 C552.780553,29.7762546 552.971434,29.9521804 553.203218,30.1066519 C553.289219,30.1645787 553.387806,30.1924694 553.484295,30.1924694 C553.652102,30.1924694 553.816763,30.1066519 553.916399,29.9521804 C554.07162,29.7076006 554.004497,29.3793488 553.766421,29.2205864 L553.766421,29.2227318 Z" transform="translate(-520)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-cross-white",use:"cozyuicon-cross-white-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="cozyuicon-cross-white">\n  <path fill="#FFF" fill-rule="evenodd" d="M106.585786,44 L96.2928932,33.7071068 C95.9023689,33.3165825 95.9023689,32.6834175 96.2928932,32.2928932 C96.6834175,31.9023689 97.3165825,31.9023689 97.7071068,32.2928932 L108,42.5857864 L118.292893,32.2928932 C118.683418,31.9023689 119.316582,31.9023689 119.707107,32.2928932 C120.097631,32.6834175 120.097631,33.3165825 119.707107,33.7071068 L109.414214,44 L119.707107,54.2928932 C120.097631,54.6834175 120.097631,55.3165825 119.707107,55.7071068 C119.316582,56.0976311 118.683418,56.0976311 118.292893,55.7071068 L108,45.4142136 L97.7071068,55.7071068 C97.3165825,56.0976311 96.6834175,56.0976311 96.2928932,55.7071068 C95.9023689,55.3165825 95.9023689,54.6834175 96.2928932,54.2928932 L106.585786,44 Z" transform="translate(-96 -32)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-cross",use:"cozyuicon-cross-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="cozyuicon-cross">\n  <path fill="#95999D" fill-rule="evenodd" d="M106.585786,44 L96.2928932,33.7071068 C95.9023689,33.3165825 95.9023689,32.6834175 96.2928932,32.2928932 C96.6834175,31.9023689 97.3165825,31.9023689 97.7071068,32.2928932 L108,42.5857864 L118.292893,32.2928932 C118.683418,31.9023689 119.316582,31.9023689 119.707107,32.2928932 C120.097631,32.6834175 120.097631,33.3165825 119.707107,33.7071068 L109.414214,44 L119.707107,54.2928932 C120.097631,54.6834175 120.097631,55.3165825 119.707107,55.7071068 C119.316582,56.0976311 118.683418,56.0976311 118.292893,55.7071068 L108,45.4142136 L97.7071068,55.7071068 C97.3165825,56.0976311 96.6834175,56.0976311 96.2928932,55.7071068 C95.9023689,55.3165825 95.9023689,54.6834175 96.2928932,54.2928932 L106.585786,44 Z" transform="translate(-96 -32)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-delete-grey08",use:"cozyuicon-delete-grey08-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-delete-grey08">\n  <g fill="#32363f" fill-rule="evenodd" transform="translate(-96 -32)">\n    <path d="M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z" />\n    <path d="M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-delete",use:"cozyuicon-delete-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-delete">\n  <g fill="#ffffff" fill-rule="evenodd" transform="translate(-96 -32)">\n    <path d="M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z" />\n    <path d="M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-device-laptop",use:"cozyuicon-device-laptop-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="cozyuicon-device-laptop">\n  <g fill="none" fill-rule="evenodd" transform="translate(0 4)">\n    <path fill="#32363F" d="M2,21 L2,1.99456145 C2,0.892995579 2.89989752,0 3.99124431,0 L28.0087557,0 C29.1084896,0 30,0.90234375 30,1.99456145 L30,21 L2,21 Z" />\n    <rect width="24" height="16" x="4" y="2" fill="#5D6165" />\n    <path fill="#95999D" d="M19,20.5 C19,20.7761424 18.7670975,21 18.4965773,21 L12.5034227,21 C12.22539,21 12,20.7680664 12,20.5 L12,20.5 C12,20.2238576 11.7709994,20 11.4996527,20 L0.500347316,20 C0.224013124,20 0,20.2150574 0,20.4904785 L0,22 C0,23.1045695 0.889261723,24 2.00174332,24 L29.9982567,24 C31.103789,24 32,23.1122704 32,22 L32,20.4904785 C32,20.2195947 31.7743607,20 31.506259,20 L19.493741,20 C19.2210554,20 19,20.2319336 19,20.5 L19,20.5 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-dots-white",use:"cozyuicon-dots-white-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-dots-white">\n  <path fill="#FFFFFF" fill-rule="evenodd" d="M34,74 C35.1045695,74 36,73.1045695 36,72 C36,70.8954305 35.1045695,70 34,70 C32.8954305,70 32,70.8954305 32,72 C32,73.1045695 32.8954305,74 34,74 Z M46,74 C47.1045695,74 48,73.1045695 48,72 C48,70.8954305 47.1045695,70 46,70 C44.8954305,70 44,70.8954305 44,72 C44,73.1045695 44.8954305,74 46,74 Z M40,74 C41.1045695,74 42,73.1045695 42,72 C42,70.8954305 41.1045695,70 40,70 C38.8954305,70 38,70.8954305 38,72 C38,73.1045695 38.8954305,74 40,74 Z" transform="translate(-32 -64)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-dots",use:"cozyuicon-dots-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-dots">\n  <path fill="#32363f" fill-rule="evenodd" d="M34,74 C35.1045695,74 36,73.1045695 36,72 C36,70.8954305 35.1045695,70 34,70 C32.8954305,70 32,70.8954305 32,72 C32,73.1045695 32.8954305,74 34,74 Z M46,74 C47.1045695,74 48,73.1045695 48,72 C48,70.8954305 47.1045695,70 46,70 C44.8954305,70 44,70.8954305 44,72 C44,73.1045695 44.8954305,74 46,74 Z M40,74 C41.1045695,74 42,73.1045695 42,72 C42,70.8954305 41.1045695,70 40,70 C38.8954305,70 38,70.8954305 38,72 C38,73.1045695 38.8954305,74 40,74 Z" transform="translate(-32 -64)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-download",use:"cozyuicon-download-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-download">\n  <path fill-rule="evenodd" d="M231,103.414214 L229.707107,104.707107 C229.316582,105.097631 228.683418,105.097631 228.292893,104.707107 C227.902369,104.316582 227.902369,103.683418 228.292893,103.292893 L231.292893,100.292893 C231.683418,99.9023689 232.316582,99.9023689 232.707107,100.292893 L235.707107,103.292893 C236.097631,103.683418 236.097631,104.316582 235.707107,104.707107 C235.316582,105.097631 234.683418,105.097631 234.292893,104.707107 L233,103.414214 L233,111 C233,111.552285 232.552285,112 232,112 C231.447715,112 231,111.552285 231,111 L231,103.414214 Z M225,99 L239,99 C239.552285,99 240,98.5522847 240,98 C240,97.4477153 239.552285,97 239,97 L225,97 C224.447715,97 224,97.4477153 224,98 C224,98.5522847 224.447715,99 225,99 Z" transform="matrix(1 0 0 -1 -224 113)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-forward",use:"cozyuicon-forward-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-forward">\n  <g fill-rule="evenodd">\n    <path d="M4.29289322,13.2928932 C3.90236893,13.6834175 3.90236893,14.3165825 4.29289322,14.7071068 C4.68341751,15.0976311 5.31658249,15.0976311 5.70710678,14.7071068 L11.7071068,8.70710678 C12.0976311,8.31658249 12.0976311,7.68341751 11.7071068,7.29289322 L5.70710678,1.29289322 C5.31658249,0.902368927 4.68341751,0.902368927 4.29289322,1.29289322 C3.90236893,1.68341751 3.90236893,2.31658249 4.29289322,2.70710678 L9.58578644,8 L4.29289322,13.2928932 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-moveto",use:"cozyuicon-moveto-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-moveto">\n  <path fill="#fff" fill-rule="evenodd" d="M295.5,102.914214 L294.207107,104.207107 C293.816582,104.597631 293.183418,104.597631 292.792893,104.207107 C292.402369,103.816582 292.402369,103.183418 292.792893,102.792893 L295.792893,99.7928932 C296.183418,99.4023689 296.816582,99.4023689 297.207107,99.7928932 L300.207107,102.792893 C300.597631,103.183418 300.597631,103.816582 300.207107,104.207107 C299.816582,104.597631 299.183418,104.597631 298.792893,104.207107 L297.5,102.914214 L297.5,110.5 C297.5,111.052285 297.052285,111.5 296.5,111.5 C295.947715,111.5 295.5,111.052285 295.5,110.5 L295.5,102.914214 Z M289.5,98.5 L303.5,98.5 C304.052285,98.5 304.5,98.0522847 304.5,97.5 C304.5,96.9477153 304.052285,96.5 303.5,96.5 L289.5,96.5 C288.947715,96.5 288.5,96.9477153 288.5,97.5 C288.5,98.0522847 288.947715,98.5 289.5,98.5 Z" transform="rotate(90 200.5 -88)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-openwith",use:"cozyuicon-openwith-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-openwith">\n  <g fill="#fff" fill-rule="evenodd" transform="translate(-128 -160)">\n    <path d="M137,160 L137,162 L140.5,162 L134,168.5 L135.5,170 L142,163.5 L142,167 L144,167 L144,161.002929 C144,160.449027 143.562119,160 142.997071,160 L137,160 Z M135,162 L135,160 L129.002929,160 C128.449027,160 128,160.444631 128,161.000872 L128,174.999128 C128,175.551894 128.444631,176 129.000872,176 L142.999128,176 C143.551894,176 144,175.562119 144,174.997071 L144,169 L142,169 L142,174 L130,174 L130,162 L135,162 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-paperplane",use:"cozyuicon-paperplane-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-paperplane">\n  <g fill-rule="evenodd" transform="translate(-256 -64)">\n    <polygon points="272 64 266 79 263.5 76.5 260 79 259 75 269 66.5 259 72.5 256 70" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-rename",use:"cozyuicon-rename-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-rename">\n  <path fill="#fff" fill-rule="evenodd" d="M201.5,99.5 L192,109.025391 L192,112 L195.03772,112 L204.5,102.5 L201.5,99.5 Z M206.912154,96.9121541 C206.132243,96.1322429 204.869144,96.1308556 204.089264,96.9107361 L203,98 L206.030762,101 L207.092271,99.9252663 C207.869738,99.1381134 207.863777,97.8637772 207.087846,97.0878459 L206.912154,96.9121541 Z M199,110 L204.997071,110 C205.550973,110 206,110.443865 206,111 C206,111.552285 205.553689,112 205.002455,112 L197,112 L199,110 Z" transform="translate(-192 -96)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-restore-white",use:"cozyuicon-restore-white-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-restore-white">\n  <g fill="#FFFFFF" fill-rule="evenodd" transform="translate(1 2)">\n    <path d="M-1.33226763e-14,13 L6.02479339,13 L8,13 C12.0522847,13 15,10.0522847 15,6 C15,1.94771525 12.0522847,-1 8,-1 C3.94771525,-1 1,1.94771525 1,6 C1,6.55228475 1.44771525,7 2,7 C2.55228475,7 3,6.55228475 3,6 C3,3.05228475 5.05228475,1 8,1 C10.9477153,1 13,3.05228475 13,6 C13,8.94771525 10.9477153,11 8,11 L-1.57651669e-14,11 C-0.55228475,11 -1,11.4477153 -1,12 C-1,12.5522847 -0.55228475,13 -1.33226763e-14,13 Z" />\n    <path d="M0.832050294,2.4452998 C0.525697835,1.98577112 -0.0951715076,1.86159725 -0.554700196,2.16794971 C-1.01422888,2.47430216 -1.13840275,3.09517151 -0.832050294,3.5547002 L1.16794971,6.5547002 C1.47430216,7.01422888 2.09517151,7.13840275 2.5547002,6.83205029 L5.5547002,4.83205029 C6.01422888,4.52569784 6.13840275,3.90482849 5.83205029,3.4452998 C5.52569784,2.98577112 4.90482849,2.86159725 4.4452998,3.16794971 L2.2773501,4.61324951 L0.832050294,2.4452998 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-share-grey08",use:"cozyuicon-share-grey08-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-share-grey08">\n  <g fill="#32363F" fill-rule="evenodd" transform="translate(-160 -32)">\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z" />\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-share",use:"cozyuicon-share-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-share">\n  <g fill="#fff" fill-rule="evenodd" transform="translate(-160 -32)">\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z" />\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-upload-grey08",use:"cozyuicon-upload-grey08-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-upload-grey08">\n  <path fill="#32363f" fill-rule="evenodd" d="M263,102.414214 L261.707107,103.707107 C261.316582,104.097631 260.683418,104.097631 260.292893,103.707107 C259.902369,103.316582 259.902369,102.683418 260.292893,102.292893 L263.292893,99.2928932 C263.683418,98.9023689 264.316582,98.9023689 264.707107,99.2928932 L267.707107,102.292893 C268.097631,102.683418 268.097631,103.316582 267.707107,103.707107 C267.316582,104.097631 266.683418,104.097631 266.292893,103.707107 L265,102.414214 L265,110 C265,110.552285 264.552285,111 264,111 C263.447715,111 263,110.552285 263,110 L263,102.414214 Z M257,98 L271,98 C271.552285,98 272,97.5522847 272,97 C272,96.4477153 271.552285,96 271,96 L257,96 C256.447715,96 256,96.4477153 256,97 C256,97.5522847 256.447715,98 257,98 Z" transform="translate(-256 -96)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-upload",use:"cozyuicon-upload-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-upload">\n  <path fill-rule="evenodd" d="M263,102.414214 L261.707107,103.707107 C261.316582,104.097631 260.683418,104.097631 260.292893,103.707107 C259.902369,103.316582 259.902369,102.683418 260.292893,102.292893 L263.292893,99.2928932 C263.683418,98.9023689 264.316582,98.9023689 264.707107,99.2928932 L267.707107,102.292893 C268.097631,102.683418 268.097631,103.316582 267.707107,103.707107 C267.316582,104.097631 266.683418,104.097631 266.292893,103.707107 L265,102.414214 L265,110 C265,110.552285 264.552285,111 264,111 C263.447715,111 263,110.552285 263,110 L263,102.414214 Z M257,98 L271,98 C271.552285,98 272,97.5522847 272,97 C272,96.4477153 271.552285,96 271,96 L257,96 C256.447715,96 256,96.4477153 256,97 C256,97.5522847 256.447715,98 257,98 Z" transform="translate(-256 -96)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-warn",use:"cozyuicon-warn-usage",viewBox:"0 0 48 48",content:'<symbol viewBox="0 0 48 48" id="cozyuicon-warn"><path fill-rule="evenodd" d="M24,48 C37.254834,48 48,37.254834 48,24 C48,10.745166 37.254834,0 24,0 C10.745166,0 0,10.745166 0,24 C0,37.254834 10.745166,48 24,48 Z M22.4965402,13.1030164 C23.3271937,11.6654101 24.6721035,11.6623183 25.5044703,13.1030164 L35.4961011,30.3969836 C36.3266815,31.8345899 35.6568766,33 33.9920699,33 L14.0079301,33 C12.3466962,33 11.6715912,31.8376817 12.5040311,30.3969836 L22.4965402,13.1030164 Z M22.5792265,18.4260768 C22.5354709,17.6384763 23.1362228,17 23.9297104,17 L24.0702896,17 C24.8598969,17 25.464841,17.6328625 25.4207735,18.4260768 L25.0554191,25.0024554 C25.024812,25.553384 24.5561352,26 24,26 C23.4477153,26 22.9752049,25.5536886 22.9445809,25.0024554 L22.5792265,18.4260768 Z M22.5,29 C22.5,28.1715729 23.1657972,27.5 24,27.5 C24.8284271,27.5 25.5,28.1657972 25.5,29 C25.5,29.8284271 24.8342028,30.5 24,30.5 C23.1715729,30.5 22.5,29.8342028 22.5,29 Z" /></symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuicon-warning",use:"cozyuicon-warning-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="cozyuicon-warning">\n  <g fill="none" fill-rule="evenodd" transform="translate(-288 -128)">\n    <path fill="#F52D2D" d="M295.021699,129.735659 C295.564898,128.777255 296.450192,128.78566 296.988422,129.735659 L303.52045,141.26497 C304.063442,142.223374 303.613566,143.000315 302.503518,143.000315 L289.50373,143.000315 C288.399102,143.000315 287.948739,142.214969 288.487174,141.26497 L295.021699,129.735659 Z M295.003624,141.000315 C295.003624,140.44803 295.447489,140.000315 296.003624,140.000315 C296.555909,140.000315 297.003624,140.444179 297.003624,141.000315 C297.003624,141.552599 296.559759,142.000315 296.003624,142.000315 C295.45134,142.000315 295.003624,141.55645 295.003624,141.000315 Z M295.003624,133.003244 C295.003624,132.449341 295.447489,132.000315 296.003624,132.000315 C296.555909,132.000315 297.003624,132.438196 297.003624,133.003244 L297.003624,137.997385 C297.003624,138.551288 296.559759,139.000315 296.003624,139.000315 C295.45134,139.000315 295.003624,138.562433 295.003624,137.997385 L295.003624,133.003244 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuspinner-blue",use:"cozyuspinner-blue-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" fill="#297ef2" id="cozyuspinner-blue">\n  <path opacity=".25" d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" />\n  <path d="M16 0a16 16 0 0 1 16 16h-4a12 12 0 0 0-12-12z" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuspinner-grey",use:"cozyuspinner-grey-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" fill="rgb(146,160,178)" id="cozyuspinner-grey"><path opacity=".25" d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" /><path d="M16 0a16 16 0 0 1 16 16h-4a12 12 0 0 0-12-12z" /></symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuspinner-red",use:"cozyuspinner-red-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" fill="#F52D2D" id="cozyuspinner-red">\n  <path opacity=".25" d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" />\n  <path d="M16 0a16 16 0 0 1 16 16h-4a12 12 0 0 0-12-12z" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"cozyuspinner-white",use:"cozyuspinner-white-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" fill="white" id="cozyuspinner-white"><path opacity=".25" d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" /><path d="M16 0a16 16 0 0 1 16 16h-4a12 12 0 0 0-12-12z" /></symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(388),s=r(u),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),d=r(f),h=function(){return document},p=function(e){return e===document?e.scrollingElement:e};t.default=function(e){return function(t){function n(){var e,t,r,a;o(this,n);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),r.state={scrolling:!1},r.onScroll=(0,s.default)(function(e){var t=p(e.target),n=t.scrollTop,o=r.state.scrolling;n>0&&!o?r.setState({scrolling:!0}):0===n&&o&&r.setState({scrolling:!1})},16),a=t,i(r,a)}return a(n,t),l(n,[{key:"componentDidMount",value:function(){h().addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){h().removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(t,n){var r=n.scrolling;return d.default.createElement(e,c({},t,{scrolling:r}))}}]),n}(f.Component)}},function(e,t,n){function r(e,t,n){function r(t){var n=g,r=b;return g=b=void 0,E=t,w=e.apply(r,n)}function l(e){return E=e,x=setTimeout(h,t),S?r(e):w}function f(e){var n=e-k,r=e-E,o=t-n;return C?c(o,_-r):o}function d(e){var n=e-k,r=e-E;return void 0===k||n>=t||n<0||C&&r>=_}function h(){var e=i();if(d(e))return p(e);x=setTimeout(h,f(e))}function p(e){return x=void 0,O&&g?r(e):(g=b=void 0,w)}function v(){void 0!==x&&clearTimeout(x),E=0,g=k=b=x=void 0}function y(){return void 0===x?w:p(i())}function m(){var e=i(),n=d(e);if(g=arguments,b=this,k=e,n){if(void 0===x)return l(k);if(C)return x=setTimeout(h,t),r(k)}return void 0===x&&(x=setTimeout(h,t)),w}var g,b,_,w,x,k,E=0,S=!1,C=!1,O=!0;if("function"!=typeof e)throw new TypeError(u);return t=a(t)||0,o(n)&&(S=!!n.leading,C="maxWait"in n,_=C?s(a(n.maxWait)||0,t):_,O="trailing"in n?!!n.trailing:O),m.cancel=v,m.flush=y,m}var o=n(34),i=n(939),a=n(340),u="Expected a function",s=Math.max,c=Math.min;e.exports=r},function(e,t,n){var r=n(42),o=function(){return r.Date.now()};e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccounts=t.getGroups=t.getTransactions=void 0;var r=n(15);t.getTransactions=function(e){var t=(0,r.getCollection)(e,"transactions");return t&&t.data||[]},t.getGroups=function(e){var t=(0,r.getCollection)(e,"groups");return t&&t.data||[]},t.getAccounts=function(e){var t=(0,r.getCollection)(e,"accounts");return t&&t.data||[]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),s=n(5),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"getChildContext",value:function(){return{store:this.props.store||this.context.store,client:this.props.client}}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(u.Component);l.propTypes={store:c.default.shape({subscribe:c.default.func.isRequired,dispatch:c.default.func.isRequired,getState:c.default.func.isRequired}),client:c.default.object.isRequired,children:c.default.element.isRequired},l.childContextTypes={store:c.default.object,client:c.default.object.isRequired},l.contextTypes={store:c.default.object},t.default=l},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(19),c=r(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(389),d=r(f),h=n(406),p=r(h),v=n(407),y=r(v),m=n(979),g=n(156),b=function(){function t(e){u(this,t);var n=e.cozyURL,r=a(e,["cozyURL"]);this.options=r,this.collections={},this.indexes={},this.specialDirectories={},this.facade=new d.default,this.store=null,n&&this.facade.setup(n,r),this.defineSpecialCollections()}return l(t,[{key:"register",value:function(t){return this.facade.setup(t,Object.assign({},this.options,{oauth:Object.assign({},this.options.oauth,{onRegistered:function(e,t){return(0,m.authenticateWithCordova)(t)}})})),e.authorize(!0)}},{key:"attachStore",value:function(e){this.store=e}},{key:"resetStore",value:function(){this.store.dispatch({type:"RESET_STORE"}),this.facade.destroyAllDatabases()}},{key:"getUrl",value:function(){return this.facade.getUrl()}},{key:"isV2",value:function(e){return(0,g.isV2)(e)}},{key:"isRegistered",value:function(){function t(e){return n.apply(this,arguments)}var n=i(c.default.mark(function t(n){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,e.auth.getClient(n);case 5:return t.abrupt("return",!0);case 8:if(t.prev=8,t.t0=t.catch(2),"Failed to fetch"!==t.t0.message){t.next=14;break}return t.abrupt("return",!0);case 14:return console.warn(t.t0),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this,[[2,8]])}));return t}()},{key:"defineCollection",value:function(e,t){this.collections[e]=t}},{key:"defineSpecialCollections",value:function(){this.defineCollection(h.SHARINGS_DOCTYPE,new p.default),this.defineCollection(v.APPS_DOCTYPE,new y.default)}},{key:"getCollection",value:function(e){if(!this.collections[e])throw new Error("No collection found for doctype "+e);return this.collections[e]}},{key:"startSync",value:function(e){return this.facade.startSync(e)}},{key:"startReplicationTo",value:function(e){return this.facade.startReplicationTo(e)}},{key:"startReplicationFrom",value:function(e){return this.facade.startReplicationFrom(e)}},{key:"getAdapter",value:function(e){return this.facade.getAdapter(e)}},{key:"fetchDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(c.default.mark(function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.selector){e.next=5;break}return e.next=3,this.getQueryIndex(t,n,o);case 3:return r=e.sent,e.abrupt("return",this.getAdapter(n).queryDocuments(n,r,Object.assign({},o,{skip:i})));case 5:return e.abrupt("return",this.getAdapter(n).fetchDocuments(n));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDocument",value:function(e,t){return this.getAdapter(e).fetchDocument(e,t)}},{key:"fetchFile",value:function(e){return this.getAdapter("io.cozy.files").fetchFile(e)}},{key:"fetchFilesForLinks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.facade.stackAdapter.fetchFilesForLinks(e,t)}},{key:"fetchReferencedFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAdapter(e._type).fetchReferencedFiles(e,t)}},{key:"addReferencedFiles",value:function(e,t){return this.getAdapter(e._type).addReferencedFiles(e,t)}},{key:"removeReferencedFiles",value:function(e,t){return this.getAdapter(e._type).removeReferencedFiles(e,t)}},{key:"createDocument",value:function(e,t){return this.getAdapter(e).createDocument(e,t)}},{key:"updateDocument",value:function(e){return this.getAdapter(e._type).updateDocument(e)}},{key:"updateDocuments",value:function(e,t,n){return this.getAdapter(e).updateDocuments(e,t,n)}},{key:"deleteDocument",value:function(e){return this.getAdapter(e._type).deleteDocument(e)}},{key:"deleteDocuments",value:function(e,t){return this.getAdapter(e).deleteDocuments(e,t)}},{key:"createFile",value:function(e,t){return this.getAdapter("io.cozy.files").createFile(e,t)}},{key:"trashFile",value:function(e){return this.getAdapter("io.cozy.files").trashFile(e)}},{key:"ensureDirectoryExists",value:function(){function t(e){return n.apply(this,arguments)}var n=i(c.default.mark(function t(n){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.specialDirectories[n]){t.next=5;break}return t.next=3,e.files.createDirectoryByPath(n);case 3:r=t.sent,this.specialDirectories[n]=r._id;case 5:return t.abrupt("return",this.specialDirectories[n]);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"checkUniquenessOf",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(c.default.mark(function t(n,r,i){var a,u;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getUniqueIndex(n,r);case 2:return a=t.sent,t.next=5,e.data.query(a,{selector:o({},r,i),fields:["_id"]});case 5:return u=t.sent,t.abrupt("return",0===u.length);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"getQueryIndex",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=i(c.default.mark(function e(t,n,r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.indexes[t]){e.next=4;break}return e.next=3,this.getAdapter(n).createIndex(n,(0,g.getIndexFields)(r));case 3:this.indexes[t]=e.sent;case 4:return e.abrupt("return",this.indexes[t]);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUniqueIndex",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(c.default.mark(function e(t,n){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t+"/"+n,this.indexes[r]){e.next=5;break}return e.next=4,this.getAdapter(t).createIndex(t,[n]);case 4:this.indexes[r]=e.sent;case 5:return e.abrupt("return",this.indexes[r]);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}();t.default=b}).call(t,n(27))},function(e,t,n){"use strict";(function(e){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=n(19),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(156),f=function(e,t){if(!e)throw new Error(t)},d=function(e,t){var n=e._id||e.id;f(n,"Document without id !"),f(t,"Must call normalizeDoc with a doctype");var r=Object.assign({id:n,_id:n,_type:t},e);return"io.cozy.files"===t&&Object.assign(r,e.attributes),r},h=function(e,t){return e.map(function(e){return d(e,t)})},p=function(){function t(){a(this,t)}return c(t,[{key:"fetchDocuments",value:function(){function t(e){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n){var r,o,i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchJSON("GET","/data/"+n+"/_all_docs?include_docs=true");case 3:return r=t.sent,o=r.rows.filter(function(e){return!e.doc.hasOwnProperty("views")}),i=o.map(function(e){return Object.assign({},e.doc,{id:e.id,_type:n})}),t.abrupt("return",{data:i,meta:{count:r.total_rows},skip:r.offset,next:!1});case 9:if(t.prev=9,t.t0=t.catch(0),!t.t0.message.match(/not_found/)){t.next=13;break}return t.abrupt("return",{data:[],meta:{count:0},skip:0,next:!1});case 13:throw t.t0;case 14:case"end":return t.stop()}},t,this,[[0,9]])}));return t}()},{key:"queryDocuments",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n,i,a){var u,c,l,f,h,p,v,y,m;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.fields,c=a.skip||0,l=a.sort?i.fields.map(function(e){return o({},e,a.sort[e]||"desc")}):void 0,f=Object.assign({limit:50,wholeResponse:!0},a,{fields:u?[].concat(r(u),["_id","_type","class"]):void 0,skip:c,sort:l}),h=void 0,p=void 0,v=void 0,"io.cozy.files"!==n){t.next=14;break}return t.next=8,e.files.query(i,f);case 8:y=t.sent,h=y.data.map(function(e){return d(e,n)}),p=y.meta,v=p.count>c+50,t.next=20;break;case 14:return t.next=16,e.data.query(i,f);case 16:m=t.sent,h=m.docs.map(function(e){return d(e,n)}),p={},v=m.next;case 20:return t.abrupt("return",{data:h,meta:p,next:v});case 21:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchDocument",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n,r){var o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=void 0,"io.cozy.files"!==n){t.next=10;break}return t.t0=d,t.next=5,e.files.statById(r,!1);case 5:t.t1=t.sent,t.t2=n,o=(0,t.t0)(t.t1,t.t2),t.next=16;break;case 10:return t.t3=d,t.next=13,e.data.find(n,r);case 13:t.t4=t.sent,t.t5=n,o=(0,t.t3)(t.t4,t.t5);case 16:return t.abrupt("return",{data:[o]});case 17:case"end":return t.stop()}},t,this)}));return t}()},{key:"createDocument",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n,r){var o,i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.create(n,r);case 2:return o=t.sent,i=Object.assign({},o,{id:o._id,_type:n}),t.abrupt("return",{data:[i]});case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateDocument",value:function(){function t(e){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.updateAttributes(n._type,n.id,n);case 2:return r=t.sent,t.abrupt("return",{data:[Object.assign({},n,{_rev:r._rev})]});case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateDocuments",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n,r,o){var i,a,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createIndex(n,(0,l.getIndexFields)(r));case 2:return i=t.sent,t.next=5,this.queryDocuments(n,i,r);case 5:return a=t.sent,u=a.data.map(o).map(l.sanitizeDoc),t.next=9,e.fetchJSON("POST","/data/"+n+"/_bulk_docs",{docs:u});case 9:return t.abrupt("return",{data:h(u,n)});case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteDocument",value:function(){function t(e){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.delete(n._type,n);case 2:return t.abrupt("return",{data:[n]});case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(s.default.mark(function e(t,n){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateDocuments(t,n,function(e){return Object.assign({},e,{_deleted:!0})}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"createIndex",value:function(t,n){return e.data.defineIndex(t,n)}},{key:"fetchFilesForLinks",value:function(){function t(e){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchJSON("GET","/files/"+encodeURIComponent(n)+"?page[skip]="+o+"&page[limit]=50");case 2:return r=t.sent,t.abrupt("return",r.relations("contents").map(function(e){return v(e)}));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchFileByPath",value:function(){function t(e){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.files.statByPath(n);case 3:return r=t.sent,t.abrupt("return",{data:[v(r)]});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",null);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return t}()},{key:"createFile",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n,r){var o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.files.create(n,{dirID:r});case 2:return o=t.sent,t.abrupt("return",{data:[v(o)]});case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"trashFile",value:function(){function t(e){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.files.trashById(n.id),t.abrupt("return",{data:[n]});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchReferencedFiles",value:function(){function t(e){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n){var r,o,i,a,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.assign({},n,{_id:n.id}),t.next=3,e.data.fetchReferencedFiles(r,{skip:u,limit:50});case 3:return o=t.sent,i=o.included,a=o.meta,t.abrupt("return",{data:i?i.map(function(e){return Object.assign({},e,e.attributes,{_type:"io.cozy.files"})}):[],meta:a,next:a.count>u+50,skip:u});case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"addReferencedFiles",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n,r){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.addReferencedFiles(n,r);case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"removeReferencedFiles",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(s.default.mark(function t(n,r){var o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object.assign({},n,{_id:n.id}),t.next=3,e.data.removeReferencedFiles(o,r);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return t}()}]),t}();t.default=p;var v=function(e){return Object.assign({},e,e.attributes,{id:e._id})}}).call(t,n(27))},function(e,t,n){function r(e,t,n,M,P,D){var L,I=t&k,R=t&E,N=t&S;if(n&&(L=P?n(e,M,P,D):n(e)),void 0!==L)return L;if(!w(e))return e;var F=b(e);if(F){if(L=y(e),!I)return l(e,L)}else{var B=v(e),z=B==O||B==T;if(_(e))return c(e,I);if(B==A||B==C||z&&!P){if(L=R||z?{}:g(e),!I)return R?d(e,s(L,e)):f(e,u(L,e))}else{if(!j[B])return P?e:{};L=m(e,B,r,I)}}D||(D=new o);var q=D.get(e);if(q)return q;D.set(e,L);var U=N?R?p:h:R?keysIn:x,H=F?void 0:U(e);return i(H||e,function(o,i){H&&(i=o,o=e[i]),a(L,i,r(o,t,n,i,e,D))}),L}var o=n(142),i=n(945),a=n(231),u=n(946),s=n(947),c=n(391),l=n(229),f=n(950),d=n(951),h=n(324),p=n(393),v=n(330),y=n(952),m=n(953),g=n(396),b=n(29),_=n(149),w=n(34),x=n(93),k=1,E=2,S=4,C="[object Arguments]",O="[object Function]",T="[object GeneratorFunction]",A="[object Object]",j={};j[C]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[A]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[O]=j["[object WeakMap]"]=!1,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function r(e,t){return e&&o(t,i(t),e)}var o=n(98),i=n(93);e.exports=r},function(e,t,n){function r(e,t){return e&&o(t,i(t),e)}var o=n(98),i=n(157);e.exports=r},function(e,t,n){function r(e){if(!o(e))return a(e);var t=i(e),n=[];for(var r in e)("constructor"!=r||!t&&s.call(e,r))&&n.push(r);return n}var o=n(34),i=n(213),a=n(949),u=Object.prototype,s=u.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){function r(e,t){return o(e,i(e),t)}var o=n(98),i=n(210);e.exports=r},function(e,t,n){function r(e,t){return o(e,i(e),t)}var o=n(98),i=n(392);e.exports=r},function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,o=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n,r){var j=e.constructor;switch(t){case b:return o(e);case f:case d:return new j(+e);case _:return i(e,r);case w:case x:case k:case E:case S:case C:case O:case T:case A:return l(e,r);case h:return a(e,r,n);case p:case m:return new j(e);case v:return u(e);case y:return s(e,r,n);case g:return c(e)}}var o=n(233),i=n(954),a=n(955),u=n(957),s=n(958),c=n(960),l=n(395),f="[object Boolean]",d="[object Date]",h="[object Map]",p="[object Number]",v="[object RegExp]",y="[object Set]",m="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",O="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var o=n(233);e.exports=r},function(e,t,n){function r(e,t,n){var r=t?n(a(e),u):a(e);return i(r,o,new e.constructor)}var o=n(956),i=n(394),a=n(323),u=1;e.exports=r},function(e,t){function n(e,t){return e.set(t[0],t[1]),e}e.exports=n},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e,t,n){var r=t?n(a(e),u):a(e);return i(r,o,new e.constructor)}var o=n(959),i=n(394),a=n(147),u=1;e.exports=r},function(e,t){function n(e,t){return e.add(t),e}e.exports=n},function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var o=n(92),i=o?o.prototype:void 0,a=i?i.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){return t=o(t,e),null==(e=a(e,t))||delete e[u(i(t))]}var o=n(94),i=n(345),a=n(962),u=n(95);e.exports=r},function(e,t,n){function r(e,t){return t.length<2?e:o(e,i(t,0,-1))}var o=n(151),i=n(397);e.exports=r},function(e,t,n){function r(e){return o(e)?void 0:e}var o=n(398);e.exports=r},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SYNC_FROM=t.SYNC_TO=t.SYNC_BIDIRECTIONAL=void 0;var c=n(19),l=r(c),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(965),h=r(d),p=n(973),v=r(p),y=n(239),m=n(156),g=t.SYNC_BIDIRECTIONAL="SYNC_BIDIRECTIONAL",b=t.SYNC_TO="SYNC_TO",_=t.SYNC_FROM="SYNC_FROM",w=function(){function t(){s(this,t),h.default.plugin(v.default),this.instances={},this.doctypes=[],this.replicationBaseUrl=null,this.syncHandlers={},this.nextSyncTimeout=null}return f(t,[{key:"registerDoctypes",value:function(e){this.doctypes=e;var t=!0,n=!1,r=void 0;try{for(var o,i=this.doctypes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.instances[a]=new h.default(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"getDatabase",value:function(e){return this.instances[e]}},{key:"getReplicationBaseUrl",value:function(){return e.authorize().then(function(t){var n=t.token.toBasicAuth();return(e._url+"/data/").replace("//","//"+n)})}},{key:"getSeqNumber",value:function(e){return this.getDatabase(e).info().then(function(e){return e.update_seq})}},{key:"startSync",value:function(){function e(e){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sync(t,r);case 3:return n=e.sent,this.nextSyncTimeout=this.scheduleNextSync(t,r),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),this.nextSyncTimeout=this.scheduleNextSync(t,r),e.t0;case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return e}()},{key:"sync",value:function(e,t){var n=this;return this.getReplicationBaseUrl().then(function(r){return Promise.all(n.doctypes.map(function(o){return n.syncDoctype(o,""+r+o,e,t)}))})}},{key:"syncDoctype",value:function(){function e(e,n,r,o){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t,n,r,o){var i,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getSeqNumber(t);case 3:return i=e.sent,r((0,y.startDoctypeSync)(t,i)),e.next=7,this.syncDatabase(t,n,o);case 7:return a=e.sent,r((0,y.syncDoctypeOk)(t,a)),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),r((0,y.syncDoctypeError)(t,e.t0)),e.t0;case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return e}()},{key:"unsyncDoctype",value:function(){function e(e){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.unsyncDatabase(t);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"syncDatabase",value:function(t,n,r){var o=this;return new Promise(function(i,a){var u=o.getDatabase(t),s=void 0;s=r===b?u.replicate.to(n):r===_?u.replicate.from(n):u.sync(n),s.on("complete",function(e){return i(e)}).on("error",function(t){if("code=400, message=Expired token"===t.error)return e.authorize().then(function(n){var r=n.client,o=n.token;e.auth.refreshToken(r,o).then(function(t){return e.saveCredentials(r,t)}).then(function(e){return a(t)})});404!==t.status&&a(t)}),o.syncHandlers[t]=s})}},{key:"unsyncDatabase",value:function(e){this.syncHandlers[e].cancel(),delete this.syncHandlers[e]}},{key:"scheduleNextSync",value:function(e,t){var n=this;return setTimeout(function(){n.sync(e,t)},3e4)}},{key:"fetchDocuments",value:function(){function e(e){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).allDocs({include_docs:!0});case 2:return n=e.sent,e.abrupt("return",{data:n.rows.filter(function(e){return!e.doc.hasOwnProperty("views")}).map(function(e){return Object.assign({},e.doc,{id:e.id,_type:t})}),meta:{count:n.total_rows},skip:n.offset,next:!1});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"queryDocuments",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t,n,r){var o,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object.assign({},r,{fields:[].concat(a(r.fields),["_id"]),sort:r.sort?Object.keys(r.sort).map(function(e){return i({},e,r.sort[e])}):void 0}),e.next=3,this.getDatabase(t).find(o);case 3:return u=e.sent,e.abrupt("return",{data:u.docs.map(function(e){return Object.assign({},e,{id:e._id,_type:t})}),meta:{count:u.docs.length},skip:0,next:!1});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDocument",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t,n){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).get(n,{revs_info:!0});case 2:return r=e.sent,e.abrupt("return",{data:[Object.assign({},r,{id:r.id,_id:r.id,_type:t})]});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDocument",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t,n){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).post(n);case 2:return r=e.sent,e.abrupt("return",{data:[Object.assign({},n,{id:r.id,_id:r.id,_type:t,_rev:r.rev})]});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t){var n,r,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._type,r=o(t,["_type"]),e.next=3,this.getDatabase(n).put(r);case 3:return i=e.sent,e.abrupt("return",{data:[Object.assign({},t,{_rev:i.rev})]});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateDocuments",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t,n,r){var o,i,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.getDatabase(t),e.next=3,o.createIndex({index:(0,m.getIndexFields)(n)});case 3:return e.next=5,o.find(n);case 5:return i=e.sent,a=i.map(r).map(m.sanitizeDoc),e.next=9,o.bulkDocs(a);case 9:return e.abrupt("return",{data:a});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t._type).remove(t);case 2:return e.abrupt("return",{data:[t]});case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t,n){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return Object.assign({},e,{_deleted:!0})},e.abrupt("return",this.updateDocuments(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"createIndex",value:function(e,t){return this.getDatabase(e).createIndex({index:{fields:t}})}},{key:"fetchFileByPath",value:function(e){throw new Error("Not implemented")}},{key:"createFile",value:function(e,t){throw new Error("Not implemented")}},{key:"trashFile",value:function(e){throw new Error("Not implemented")}},{key:"fetchReferencedFiles",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Not implemented")}},{key:"addReferencedFiles",value:function(e,t){throw new Error("Not implemented")}},{key:"removeReferencedFiles",value:function(e,t){throw new Error("Not implemented")}},{key:"destroyAllDatabases",value:function(){var e=this;return this.nextSyncTimeout&&this.clearNextSyncTimeout(),Promise.all(this.doctypes.map(function(){var t=u(l.default.mark(function t(n){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.destroyDatabase(n));case 1:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()))}},{key:"clearNextSyncTimeout",value:function(){clearTimeout(this.nextSyncTimeout)}},{key:"hasDatabase",value:function(e){return void 0!==this.instances[e]}},{key:"destroyDatabase",value:function(){function e(e){return t.apply(this,arguments)}var t=u(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasDatabase(t)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.unsyncDoctype(t);case 4:return e.next=6,this.getDatabase(t).destroy();case 6:return n=e.sent,delete this.instances[t],e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}();t.default=w}).call(t,n(27))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function a(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function u(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&So.call(n)==Co}function s(e){var t,n,r;if(!e||"object"!==(void 0===e?"undefined":io(e)))return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=s(e[n]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return a(e);if(!u(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=s(e[n]);void 0!==i&&(t[n]=i)}return t}function c(e){var t=!1;return(0,fo.default)(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function l(e){return(0,fo.default)(function(t){t=s(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new Eo(function(r,o){var i;try{var a=c(function(e,t){e?o(e):r(t)});t.push(a),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function f(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);e.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",e.name,t];o=o.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",o),i(n,r)}}}function d(e,t){return l((0,fo.default)(function(n){if(this._closed)return Eo.reject(new Error("database is closed"));if(this._destroyed)return Eo.reject(new Error("database is destroyed"));var r=this;return f(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Eo(function(t,o){r.taskqueue.addTask(function(i){i?o(i):t(r[e].apply(r,n))})})}))}function h(e){return"$"+e}function p(e){return e.substring(1)}function v(){this._store={}}function y(e){if(this._store=new v,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function m(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function g(e){return e}function b(e){return[{ok:e}]}function _(e,t,n){function r(){var e=[];d.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++f===l&&r()}function i(e,t,n){d[e]={id:t,docs:n},o()}function a(){if(!(p>=h.length)){var e=Math.min(p+jo,h.length),t=h.slice(p,e);u(t,p),p+=t.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,s=c.get(n),l=m(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(g);var f=g;0===l.open_revs.length&&(delete l.open_revs,f=b),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:f(t),i(u,n,r),a()})})}var s=t.docs,c=new To;s.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,f=0,d=new Array(l),h=[];c.forEach(function(e,t){h.push(t)});var p=0;a()}function w(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function x(){return Ao}function k(e){w()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):x()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function E(){ho.EventEmitter.call(this),this._listeners={},k(this)}function S(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function C(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function O(e){var t=0;return e||(t=2e3),C(e,t)}function T(e,t){S("info","The above "+e+" is totally normal. "+t)}function A(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function j(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=A.prototype,new n(t)}function M(e){if("object"!==(void 0===e?"undefined":io(e))){var t=e;e=Bo,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function P(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return j(Ho,r)}}function D(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&P(e.filter,r.doc,t);if("object"===(void 0===o?"undefined":io(o)))return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function L(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function I(){}function R(e){var t;if(e?"string"!=typeof e?t=j(Ro):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=j(Fo)):t=j(No),t)throw t}function N(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(S("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function F(e,t){return"listenerCount"in e?e.listenerCount(t):ho.EventEmitter.listenerCount(e,t)}function B(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function z(e){var t=B(e);return t?t.join("/"):null}function q(e){for(var t=Qo.exec(e),n={},r=14;r--;){var o=Ko[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[Zo]={},n[Ko[12]].replace(Xo,function(e,t,r){t&&(n[Zo][t]=r)}),n}function U(e,t){var n=[],r=[];for(var o in t)t.hasOwnProperty(o)&&(n.push(o),r.push(t[o]));return n.push(e),Function.apply(null,n).apply(null,r)}function H(e,t,n){return new Eo(function(r,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(Y(e,s,n))})})}function Y(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return H(e,t._id,n)})}function V(){return uo.default.v4().replace(/-/g,"").toLowerCase()}function W(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,u=a[2],s=o.pos;if(u.length)for(var c=0,l=u.length;c<l;c++)i.push({pos:s+1,ids:u[c]});else{var f=!!a[1].deleted,d=a[0];t&&!(r!==f?r:n!==s?n<s:t<d)||(t=d,n=s,r=f)}}return n+"-"+t}function $(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],u=t(0===a.length,o,i[0],n.ctx,i[1]),s=0,c=a.length;s<c;s++)r.push({pos:o+1,ids:a[s],ctx:u})}function G(e,t){return e.pos-t.pos}function J(e){var t=[];$(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(G).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function K(e){for(var t=W(e),n=J(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function Z(e){var t=[];return $(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function X(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=t.history?t.history.slice():[];l.push({id:a,opts:u}),c&&n.push({pos:o+1-l.length,ids:l});for(var f=0,d=s.length;f<d;f++)r.push({pos:o+1,ids:s[f],history:l})}return n.reverse()}function Q(e,t){return e.pos-t.pos}function ee(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function te(e,t,n){var r=ee(e,t,n);e.splice(r,0,t)}function ne(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var a=e[o],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function re(e,t){return e[0]<t[0]?-1:1}function oe(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,a=o.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(i[2][0]){for(var s=!1,c=0;c<i[2].length;c++)i[2][c][0]===a[2][u][0]&&(n.push({tree1:i[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",te(i[2],a[2][u],re))}else r="new_leaf",i[2][0]=a[2][u]}return{conflicts:r,tree:e}}function ie(e,t,n){var r,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=oe(c.ids,t.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,d=f.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var y=v.ids[2],m=0,g=y.length;m<g;m++)p.push({ids:y[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===f.ids[0]&&h.push(v)}var b=h[0];b?(r=oe(b.ids,f.ids),b.parent[2][b.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(t),o.sort(Q),{tree:o,conflicts:i||"internal_node"}}function ae(e,t){for(var n,r,o=X(e),i=0,a=o.length;i<a;i++){var u,s=o[i],c=s.ids;if(c.length>t){n||(n={});var l=c.length-t;u={pos:s.pos+l,ids:ne(c,l)};for(var f=0;f<l;f++){var d=s.pos+f+"-"+c[f].id;n[d]=!0}}else u={pos:s.pos,ids:ne(c,0)};r=r?ie(r,u,!0).tree:[u]}return n&&$(r,function(e,t,r){delete n[t+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}function ue(e,t,n){var r=ie(e,t),o=ae(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function se(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function ce(e){return e.ids}function le(e,t){t||(t=W(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(ce);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function fe(e){return/^_local/.test(e)}function de(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:o,opts:u}),c)for(var f=0,d=l.length;f<d;f++){var h=l[f],p=h.pos+"-"+h.id;if(p===e)return o+"-"+a}for(var v=0,y=s.length;v<y;v++)r.push({pos:o+1,ids:s[v],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function he(e,t){try{e.emit("change",t)}catch(e){S("error",'Error in .on("change", function):',e)}}function pe(e,t,n){function r(){o.cancel()}ho.EventEmitter.call(this);var o=this;this.db=e,t=t?s(t):{};var i=t.complete=c(function(t,n){t?F(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){o.isCancelled||he(o,e)};var a=new Eo(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.validateChanges(t)})}function ve(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=J(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return le(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=K(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function ye(e,t){return e<t?-1:e>t?1:0}function me(e,t){return function(n,r){n||r[0]&&r[0].error?(n=n||r[0],n.docId=t,e(n)):e(null,r.length?r[0]:r)}}function ge(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=m(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function be(e,t){var n=ye(e._id,t._id);return 0!==n?n:ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _e(e){var t={},n=[];return $(e,function(e,r,o,i){var a=r+"-"+o;return e&&(t[a]=0),void 0!==i&&n.push({from:i,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function we(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return Eo.all(r.map(function(n){var r=Po({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new Eo(function(t,i){e._allDocs(r,function(e,r){if(e)return i(e);o.total_rows=r.total_rows,t(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(e){return o.rows=e,o})}function xe(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),(0,mo.default)(function(){e._compactionQueue.shift(),e._compactionQueue.length&&xe(e)})})})}function ke(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function Ee(){ho.EventEmitter.call(this)}function Se(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ce(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Te.adapters,o=Te.preferredAdapters,i=Te.prefix,a=t.adapter;if(!a)for(var u=0;u<o.length;++u){a=o[u];{if(!("idb"===a&&"websql"in r&&x()&&localStorage["_pouch__websqldb_"+i+e]))break;S("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var s=r[a];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:i+e,adapter:a}}function Oe(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}function Te(e,t){if(!(this instanceof Te))return new Te(e,t);var n=this;if(t=t||{},e&&"object"===(void 0===e?"undefined":io(e))&&(t=e,e=t.name,delete t.name),this.__opts=t=s(t),n.auto_compaction=t.auto_compaction,n.prefix=Te.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=Ce(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Te.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Te.adapters[t.adapter]||!Te.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Ee.call(n),n.taskqueue=new Se,n.adapter=t.adapter,Te.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);Oe(n),n.emit("created",n),Te.emit("created",n.name),n.taskqueue.ready(n)})}function Ae(e){e.debug=bo.default;var t={};e.on("debug",function(e){var n=e[0],r=e.slice(1);t[n]||(t[n]=(0,bo.default)("pouchdb:"+n)),t[n].apply(null,r)})}function je(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n}function Me(e,t){return e<t?-1:e>t?1:0}function Pe(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t}function De(e){return ni.indexOf(e)>-1}function Le(e){return Object.keys(e)[0]}function Ie(e){return e[Le(e)]}function Re(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!==(void 0===r?"undefined":io(r))&&(r={$eq:r}),De(n))r instanceof Array?t[n]=r.map(function(e){return Re([e])}):t[n]=Re([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?Ne(e,t,o):"$lt"===e||"$lte"===e?Fe(e,t,o):"$ne"===e?Be(t,o):"$eq"===e?ze(t,o):void(o[e]=t)})}})}),t}function Ne(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function Fe(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function Be(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function ze(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function qe(e){var t=s(e),n=!1;"$and"in t&&(t=Re(t.$and),n=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],o=e[r];"object"===(void 0===o?"undefined":io(o))&&null!==o||(e[r]={$eq:o})}})}),"$not"in t&&(t.$not=Re([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!==(void 0===a?"undefined":io(a))||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function Ue(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function He(e,t,n){return Ue(e,t,n)+e}function Ye(e,t){if(e===t)return 0;e=Ve(e),t=Ve(t);var n=et(e),r=et(t);if(n-r!=0)return n-r;switch(void 0===e?"undefined":io(e)){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Xe(e,t)}return Array.isArray(e)?Ze(e,t):Qe(e,t)}function Ve(e){switch(void 0===e?"undefined":io(e)){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=Ve(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=Ve(i))}}}}return e}function We(e){if(null!==e)switch(void 0===e?"undefined":io(e)){case"boolean":return e?1:0;case"number":return tt(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=$e(n[r]);else for(;++r<o;){var a=n[r];i+=$e(a)+$e(e[a])}return i}return""}function $e(e){return e=Ve(e),et(e)+ii+We(e)+"\0"}function Ge(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+oi),u=parseInt(a,10)+ri;for(o&&(u=-u),t+=oi;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function Je(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function Ke(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=Ge(e,r);t.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();Je(t,n)}}}function Ze(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=Ye(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function Xe(e,t){return e===t?0:e>t?1:-1}function Qe(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=Ye(n[i],r[i]);if(0!==a)return a;if(0!==(a=Ye(e[n[i]],t[r[i]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}function et(e){var t=["boolean","number","string","object"],n=t.indexOf(void 0===e?"undefined":io(e));return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function tt(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-ri,a=He(i.toString(),"0",oi);o+=ii+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=ii+s}function nt(e){function t(t){return e.map(function(e){var n=Le(e),r=Pe(n);return je(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=Ye(r,o);return 0!==i?i:Me(e.doc._id,n.doc._id)}}function rt(e,t,n){if(e=e.filter(function(e){return ot(e.doc,t.selector,n)}),t.sort){var r=nt(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===Ie(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function ot(e,t,n){return n.every(function(n){var r=t[n],o=Pe(n),i=je(e,o);return De(n)?at(n,r,e):it(r,e,o,i)})}function it(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return ut(o,t,i,n,r)})}function at(e,t,n){return"$or"===e?t.some(function(e){return ot(n,e,Object.keys(e))}):"$not"===e?!ot(n,t,Object.keys(t)):!t.find(function(e){return ot(n,e,Object.keys(e))})}function ut(e,t,n,r,o){if(!ai[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ai[e](t,n,r,o)}function st(e){return void 0!==e&&null!==e}function ct(e){return void 0!==e}function lt(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function ft(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function dt(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function ht(e,t){return e.length===t}function pt(e,t){return new RegExp(t).test(e)}function vt(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function yt(e,t){if("object"!==(void 0===t?"undefined":io(t)))throw new Error("Selector error: expected a JSON object");t=qe(t);var n={doc:e},r=rt([n],{selector:t},Object.keys(t));return r&&1===r.length}function mt(e){return U('"use strict";\nreturn '+e+";",{})}function gt(e){return U(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function bt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function _t(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=z(e.view):e.filter=z(e.filter))}function wt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!N(e.db)}function xt(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=j(Ho,"`view` filter parameter not found or invalid.");return n(r)}var o=B(t.view);e.db.get("_design/"+o[0],function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(M(r));var a=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!a)return n(j(Lo,i.views?"missing json key: "+o[1]:"missing json key: views"));t.filter=gt(a),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return yt(e,t.selector)},e.doChanges(t);else{var i=B(t.filter);e.db.get("_design/"+i[0],function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(M(r));var a=o&&o.filters&&o.filters[i[1]];if(!a)return n(j(Lo,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=mt(a),e.doChanges(t)})}}function kt(e){e._changesFilterPlugin={validate:bt,normalize:_t,shouldFilter:wt,filter:xt}}function Et(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function St(e){if(!/^\d+-./.test(e))return j($o);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function Ct(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function Ot(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=ei()),r=V(),e._rev){if(o=St(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=Ct(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=St(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}R(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s="_"===u[0];if(s&&!si[u]){var c=j(Uo,u);throw c.message=Uo.message+": "+u,c}s&&!ci[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}function Tt(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function At(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function jt(e,t){return Tt([At(e)],{type:t})}function Mt(e,t){return jt(li(e),t)}function Pt(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function Dt(e,t){if("undefined"==typeof FileReader)return t(Pt((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(Pt(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Lt(e,t){Dt(e,function(e){t(e)})}function It(e,t){Lt(e,function(e){t(fi(e))})}function Rt(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function Nt(e){return fi(e)}function Ft(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function Bt(e,t,n,r,o){(n>0||r<t.size)&&(t=Ft(t,n,r)),Rt(t,function(t){e.append(t),o()})}function zt(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function qt(e,t){function n(){di(o)}function r(){var e=l.end(!0),n=Nt(e);t(n),l.destroy()}function o(){var t=c*u,o=t+u;c++,c<s?f(l,e,t,o,n):f(l,e,t,o,r)}var i="string"==typeof e,a=i?e.length:e.size,u=Math.min(hi,a),s=Math.ceil(a/u),c=0,l=i?new wo.default:new wo.default.ArrayBuffer,f=i?zt:Bt;o()}function Ut(e){return wo.default.hash(e)}function Ht(e){try{return li(e)}catch(e){var t=j(zo,"Attachment is not a valid base64 string");return{error:t}}}function Yt(e,t,n){var r=Ht(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?jt(r,e.content_type):"base64"===t?fi(r):r,qt(r,function(t){e.digest="md5-"+t,n()})}function Vt(e,t,n){qt(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Lt(e.data,function(t){e.data=t,n()}):"base64"===t?It(e.data,function(t){e.data=t,n()}):n()})}function Wt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Yt(e,t,n):Vt(e,t,n)}function $t(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,++a===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return r();for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&Wt(e.data._attachments[u],t,n)})}function Gt(e,t,n,r,o,i,a,u){if(se(t.rev_tree,n.metadata.rev))return r[o]=n,i();var s=t.winningRev||W(t),c="deleted"in t?t.deleted:le(t,s),l="deleted"in n.metadata?n.metadata.deleted:le(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&u&&f){var d=n.data;d._rev=s,d._id=n.metadata.id,n=Ot(d,u)}var h=ue(t.rev_tree,n.metadata.rev_tree[0],e);if(u&&(c&&l&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts)){var p=j(Io);return r[o]=p,i()}var v=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var y,m=W(n.metadata),g=le(n.metadata,m),b=c===g?0:c<g?-1:1;y=v===m?g:le(n.metadata,v),a(n,m,g,y,!0,b,o,i)}function Jt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function Kt(e,t,n,r,o,i,a,u,s){function c(e,t,n){var r=W(e.metadata),o=le(e.metadata,r);if("was_delete"in u&&o)return i[t]=j(Lo,"deleted"),n();if(f&&Jt(e)){var s=j(Io);return i[t]=s,n()}a(e,r,o,o,!1,o?0:1,t,n)}function l(){++h===p&&s&&s()}e=e||1e3;var f=u.new_edits,d=new To,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&fe(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,l()})}var a=e.metadata.id;d.has(a)?(p--,d.get(a).push([e,t])):d.set(a,[[e,t]])}),d.forEach(function(t,n){function o(){++s<t.length?u():l()}function u(){var u=t[s],l=u[0],d=u[1];if(r.has(n))Gt(e,r.get(n),l,i,d,o,a,f);else{var h=ue([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,d,o)}}var s=0;u()})}function Zt(e){try{return JSON.parse(e)}catch(t){return ko.default.parse(e)}}function Xt(e){try{return JSON.stringify(e)}catch(t){return ko.default.stringify(e)}}function Qt(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(j(Vo,n,t.type))}}function en(e,t,n){return{data:Xt(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function tn(e){if(!e)return null;var t=Zt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function nn(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function rn(e,t,n,r){n?r(e?"string"!=typeof e?e:Mt(e,t):Tt([""],{type:t})):e?"string"!=typeof e?Dt(e,function(e){r(fi(e))}):r(e):r("")}function on(e,t,n,r){function o(){++u===a.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(mi).get(i).onsuccess=function(e){r.body=e.target.result.body,o()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var u=0;a.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function an(e,t){return Eo.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Eo.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new Eo(function(a){rn(o,i,t,function(t){e.doc._attachments[n]=Po(m(r,["digest","content_type"]),{data:t}),a()})})}}))}}))}function un(e,t,n){function r(){--c||o()}function o(){i.length&&i.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1)).onsuccess=function(t){t.target.result||u.delete(e)}})}var i=[],a=n.objectStore(yi),u=n.objectStore(mi),s=n.objectStore(gi),c=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else r()}}})}function sn(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function cn(e,t,n,r,o,i){function a(){var e=[vi,yi,mi,_i,gi,bi],t=sn(o,e,"readwrite");if(t.error)return i(t.error);b=t.txn,b.onabort=Qt(i),b.ontimeout=Qt(i),b.oncomplete=f,_=b.objectStore(vi),w=b.objectStore(yi),x=b.objectStore(mi),k=b.objectStore(gi),E=b.objectStore(bi),E.get(bi).onsuccess=function(e){C=e.target.result,c()},h(function(e){if(e)return R=!0,i(e);l()})}function u(){P=!0,c()}function s(){Kt(e.revs_limit,O,r,I,b,L,p,n,u)}function c(){C&&P&&(C.docCount+=D,E.put(C))}function l(){function e(){++n===O.length&&s()}function t(t){var n=tn(t.target.result);n&&I.set(n.id,n),e()}if(O.length)for(var n=0,r=0,o=O.length;r<o;r++){var i=O[r];if(i._id&&fe(i._id))e();else{var a=_.get(i.metadata.id);a.onsuccess=t}}}function f(){R||(xi.notify(r._meta.name),i(null,L))}function d(e,t){x.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=j(Go,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++o===n.length&&e(r)}var n=[];if(O.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){d(e,function(e){e&&!r&&(r=e),t()})})}function p(e,t,n,r,o,i,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return y(e,t,n,o,a,u);D+=i,c(),v(e,t,n,o,a,u)}function v(e,t,n,o,i,a){function u(i){var a=e.stemmedRevs||[];o&&r.auto_compaction&&(a=a.concat(Z(e.metadata))),a&&a.length&&un(a,e.metadata.id,b),f.seq=i.target.result;var u=en(f,t,n);_.put(u).onsuccess=c}function s(e){e.preventDefault(),e.stopPropagation(),w.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){w.put(l,e.target.result).onsuccess=u}}function c(){L[i]={ok:!0,id:f.id,rev:f.rev},I.set(e.metadata.id,e.metadata),m(e,f.seq,a)}var l=e.data,f=e.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var d=w.put(l);d.onsuccess=u,d.onerror=s}function y(e,t,n,r,o,i){function a(){c===l.length&&v(e,t,n,r,o,i)}function u(){c++,a()}var s=e.data,c=0,l=Object.keys(s._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,a();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);g(r.digest,o,u)}})}function m(e,t,n){function r(){++o===i.length&&n()}var o=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();for(var a=0;a<i.length;a++)!function(n){var o=e.data._attachments[n].digest,i=k.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}(i[a])}function g(e,t,n){x.count(e).onsuccess=function(r){if(r.target.result)return n();var o={digest:e,body:t};x.put(o).onsuccess=n}}for(var b,_,w,x,k,E,S,C,O=t.docs,T=0,A=O.length;T<A;T++){var M=O[T];M._id&&fe(M._id)||(M=O[T]=Ot(M,n.new_edits),M.error&&!S&&(S=M))}if(S)return i(S);var P=!1,D=0,L=new Array(O.length),I=new To,R=!1,N=r._meta.blobSupport?"blob":"base64";$t(O,N,function(e){if(e)return i(e);a()})}function ln(e,t,n,r,o){function i(e){l=e.target.result,c&&o(c,l,f)}function a(e){c=e.target.result,l&&o(c,l,f)}function u(){if(!c.length)return o();var n,u=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else n=IDBKeyRange.lowerBound(u,!0);t=n,c=null,l=null,e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a}function s(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}var c,l,f,d="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;d?(f={continue:u},e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=s:e.openCursor(t).onsuccess=s}function fn(e,t,n){function r(e){var t=e.target.result;t?(o.push(t.value),t.continue()):n({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var o=[];e.openCursor(t).onsuccess=r}function dn(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function hn(e,t,n){function r(t,n,r){var o=t.id+"::"+r;S.get(o).onsuccess=function(r){if(n.doc=nn(r.target.result),e.conflicts){var o=K(t);o.length&&(n.doc._conflicts=o)}on(n.doc,e,_)}}function o(t,n){var o={id:n.id,key:n.id,value:{rev:t}},i=n.deleted;"ok"===e.deleted?(C.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&r(n,o,t)):!i&&h--<=0&&(C.push(o),e.include_docs&&r(n,o,t))}function i(e){for(var t=0,n=e.length;t<n&&C.length!==p;t++){var r=e[t],i=tn(r);o(i.winningRev,i)}}function a(e,t,n){n&&(i(t),C.length<p&&n.continue())}function u(t){var n=t.target.result;e.descending&&(n=n.reverse()),i(n)}function s(){n(null,{total_rows:w,offset:e.skip,rows:C})}function c(){e.attachments?an(C,e.binary).then(s):s()}var l="startkey"in e&&e.startkey,f="endkey"in e&&e.endkey,d="key"in e&&e.key,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,v=!1!==e.inclusive_end,y=dn(l,f,v,d,e.descending),m=y&&y.error;if(m&&("DataError"!==m.name||0!==m.code))return n(j(Vo,m.name,m.message));var g=[vi,yi,bi];e.attachments&&g.push(mi);var b=sn(t,g,"readonly");if(b.error)return n(b.error);var _=b.txn;_.oncomplete=c,_.onabort=Qt(n);var w,x=_.objectStore(vi),k=_.objectStore(yi),E=_.objectStore(bi),S=k.index("_doc_id_rev"),C=[];return E.get(bi).onsuccess=function(e){w=e.target.result.docCount},m||0===p?void 0:-1===p?fn(x,y,u):void ln(x,y,e.descending,p+h,a)}function pn(e){return new Eo(function(t){var n=Tt([""]);e.objectStore(wi).put(n,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function vn(e,t){e.objectStore(vi).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function yn(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}function mn(){!ki&&Ei.length&&(ki=!0,Ei.shift()())}function gn(e,t,n){Ei.push(function(){e(function(e,r){yn(t,e,r,n),ki=!1,(0,mo.default)(function(){mn(n)})})}),mn()}function bn(e,t,n,r){function o(t,n,r){function o(t,n){var r=e.processChange(n,t,e);d=r.seq=t.seq;var o=w(r);if("object"===(void 0===o?"undefined":io(o)))return e.complete(o);o&&(_++,p&&b.push(r),e.attachments&&e.include_docs?on(n,e,v,function(){an([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r))}function i(){for(var e=0,t=u.length;e<t&&_!==h;e++){var n=u[e];if(n){o(s[e],n)}}_!==h&&r.continue()}if(r&&t.length){var u=new Array(t.length),s=new Array(t.length),c=0;n.forEach(function(e,n){a(nn(e),t[n],function(e,r){s[n]=e,u[n]=r,++c===t.length&&i()})})}}function i(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev;g.get(o).onsuccess=function(e){r(n,nn(e.target.result))}}function a(e,t,n){if(f&&!f.has(e._id))return n();var r=x.get(e._id);if(r)return i(e,t,r,n);m.get(e._id).onsuccess=function(o){r=tn(o.target.result),x.set(e._id,r),i(e,t,r,n)}}function u(){e.complete(null,{results:b,last_seq:d})}function c(){!e.continuous&&e.attachments?an(b).then(u):u()}if(e=s(e),e.continuous){var l=n+":"+ei();return xi.addListener(n,l,t,e),xi.notify(n),{cancel:function(){xi.removeListener(n,l)}}}var f=e.doc_ids&&new Oo(e.doc_ids);e.since=e.since||0;var d=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var p;p="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var v,y,m,g,b=[],_=0,w=D(e),x=new To,k=[vi,yi];e.attachments&&k.push(mi);var E=sn(r,k,"readonly");if(E.error)return e.complete(E.error);v=E.txn,v.onabort=Qt(e.complete),v.oncomplete=c,y=v.objectStore(yi),m=v.objectStore(vi),g=y.index("_doc_id_rev"),ln(y,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,h,o)}function _n(e,t){var n=this;gn(function(t){wn(n,e,t)},t,n.constructor)}function wn(e,t,n){function r(e){var t=e.createObjectStore(vi,{keyPath:"id"});e.createObjectStore(yi,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(mi,{keyPath:"digest"}),e.createObjectStore(bi,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(wi),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(_i,{keyPath:"_id"});var n=e.createObjectStore(gi,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(vi);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=le(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function i(e){e.createObjectStore(_i,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var n=e.objectStore(_i),r=e.objectStore(vi),o=e.objectStore(yi);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,u=a.id,s=fe(u),c=W(a);if(s){var l=u+"::"+c,f=u+"::",d=u+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(f,d,!1,!1),v=h.openCursor(p);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function u(e){var t=e.createObjectStore(gi,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function s(e,t){var n=e.objectStore(yi),r=e.objectStore(mi),o=e.objectStore(gi);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++)u[r._attachments[a[s]].digest]=!0;var c=Object.keys(u);for(s=0;s<c.length;s++){var l=c[s];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}}}function c(e){function t(e){return e.data?tn(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(yi),r=e.objectStore(vi);r.openCursor().onsuccess=function(e){function o(){var e=en(a,a.winningRev,a.deleted);r.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||W(a),a.seq)return o();!function(){var e=a.id+"::",t=a.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}}}var f=t.name,d=null;e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=l(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){cn(t,n,r,e,d,o)},e._get=function(e,t,n){function r(){n(a,{doc:o,metadata:i,ctx:u})}var o,i,a,u=t.ctx;if(!u){var s=sn(d,[vi,yi,mi],"readonly");if(s.error)return n(s.error);u=s.txn}u.objectStore(vi).get(e).onsuccess=function(e){if(!(i=tn(e.target.result)))return a=j(Lo,"missing"),r();var n;if(t.rev)n=t.latest?de(t.rev,i):t.rev;else{n=i.winningRev;if(le(i))return a=j(Lo,"deleted"),r()}var s=u.objectStore(yi),c=i.id+"::"+n;s.index("_doc_id_rev").get(c).onsuccess=function(e){if(o=e.target.result,o&&(o=nn(o)),!o)return a=j(Lo,"missing"),r();r()}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var a=sn(d,[vi,yi,mi],"readonly");if(a.error)return o(a.error);i=a.txn}var u=n.digest,s=n.content_type;i.objectStore(mi).get(u).onsuccess=function(e){rn(e.target.result.body,s,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=sn(d,[bi,yi],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(bi).get(bi).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(yi).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){hn(e,d,t)},e._changes=function(t){return bn(t,e,f,d)},e._close=function(e){d.close(),Si.delete(f),e()},e._getRevisionTree=function(e,t){var n=sn(d,[vi],"readonly");if(n.error)return t(n.error);n.txn.objectStore(vi).get(e).onsuccess=function(e){var n=tn(e.target.result);n?t(null,n.rev_tree):t(j(Lo))}},e._doCompaction=function(e,t,n){var r=[vi,yi,mi,gi],o=sn(d,r,"readwrite");if(o.error)return n(o.error);var i=o.txn;i.objectStore(vi).get(e).onsuccess=function(n){var r=tn(n.target.result);$(r.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")}),un(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(vi).put(en(r,o,a))},i.onabort=Qt(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=sn(d,[_i],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(_i).get(e);o.onerror=Qt(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(j(Lo))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var u=sn(d,[_i],"readwrite");if(u.error)return n(u.error);a=u.txn,a.onerror=Qt(n),a.oncomplete=function(){i&&n(null,i)}}var s,c=a.objectStore(_i);r?(s=c.get(o),s.onsuccess=function(o){var a=o.target.result;if(a&&a._rev===r){c.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(j(Io))}):(s=c.add(e),s.onerror=function(e){n(j(Io)),e.preventDefault(),e.stopPropagation()},s.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=sn(d,[_i],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,a=e._id,u=r.objectStore(_i),s=u.get(a);s.onerror=Qt(n),s.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(j(Lo))}},e._destroy=function(e,t){xi.removeAllListeners(f);var n=Ci.get(f);n&&n.result&&(n.result.close(),Si.delete(f));var r=indexedDB.deleteDatabase(f);r.onsuccess=function(){Ci.delete(f),x()&&f in localStorage&&delete localStorage[f],t(null,{ok:!0})},r.onerror=Qt(t)};var h=Si.get(f);if(h)return d=h.idb,e._meta=h.global,(0,mo.default)(function(){n(null,e)});var p;p=t.storage?xn(f,t.storage):indexedDB.open(f,pi),Ci.set(f,p),p.onupgradeneeded=function(e){function t(){var e=f[d-1];d++,e&&e(l,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var l=e.currentTarget.transaction;e.oldVersion<3&&i(n),e.oldVersion<4&&u(n);var f=[o,a,s,c],d=e.oldVersion;t()},p.onsuccess=function(t){function r(){void 0!==u&&l&&(e._meta={name:f,instanceId:s,blobSupport:u},Si.set(f,{idb:d,global:e._meta}),n(null,e))}function o(){if(void 0!==a&&void 0!==i){var e=f+"_id";e in i?s=i[e]:i[e]=s=ei(),i.docCount=a,c.objectStore(bi).put(i)}}d=t.target.result,d.onversionchange=function(){d.close(),Si.delete(f)},d.onabort=function(e){S("error","Database has a global failure",e.target.error),d.close(),Si.delete(f)};var i,a,u,s,c=d.transaction([bi,wi,vi],"readwrite"),l=!1;c.objectStore(bi).get(bi).onsuccess=function(e){i=e.target.result||{id:bi},o()},vn(c,function(e){a=e,o()}),ui||(ui=pn(c)),ui.then(function(e){u=e,r()}),c.oncomplete=function(){l=!0,r()}},p.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";S("error",e),n(j(Vo,e))}}function xn(e,t){try{return indexedDB.open(e,{version:pi,storage:t})}catch(t){return indexedDB.open(e,pi)}}function kn(e){return decodeURIComponent(escape(e))}function En(e){return e<65?e-48:e-55}function Sn(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(En(e.charCodeAt(t++))<<4|En(e.charCodeAt(t++)));return r}function Cn(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(En(e.charCodeAt(t+2))<<12|En(e.charCodeAt(t+3))<<8|En(e.charCodeAt(t))<<4|En(e.charCodeAt(t+1))),t+=4;return r}function On(e,t){return"UTF-8"===t?kn(Sn(e,0,e.length)):Cn(e,0,e.length)}function Tn(e){return"'"+e+"'"}function An(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function jn(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Mn(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Pn(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Dn(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Ln(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function In(e,t,n){function r(){++i===e.length&&o()}function o(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+Li+" WHERE seq IN "+Dn(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+Li+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(o,a,function(e){var t="SELECT digest FROM "+Li+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new Oo,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+Li+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Mi+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var o="SELECT seq FROM "+ji+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+ji+" WHERE seq=?",[n],r)})})}}function Rn(e){return function(t){S("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(j(Wo,o,r))}}function Nn(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Fn(e,t,n,r,o,i,a){function u(){if(b)return a(b);i.notify(r._name),a(null,_)}function s(e,t){var n="SELECT count(*) as cnt FROM "+Mi+" WHERE digest=?";g.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=j(Go,"unknown stub attachment with digest "+e);t(o)}else t()})}function c(e){function t(){++o===n.length&&e(r)}var n=[];if(y.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){s(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,o,i,a,u,s){function c(){function t(e,t){function r(){return++o===i.length&&t(),!1}var o=0,i=Object.keys(n._attachments||{});if(!i.length)return t();for(var a=0;a<i.length;a++)!function(t){var o="INSERT INTO "+Li+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];g.executeSql(o,i,r,r)}(i[a])}var n=e.data,r=o?1:0,i=n._id,a=n._rev,u=Mn(n),s="INSERT INTO "+ji+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[i,a,u,r];g.executeSql(s,c,function(e,n){var r=n.insertId;t(r,function(){d(e,r)})},function(){var e=Ln("seq",ji,null,"doc_id=? AND rev=?");return g.executeSql(e,[i,a],function(e,n){var o=n.rows.item(0).seq,s="UPDATE "+ji+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[u,r,i,a];e.executeSql(s,c,function(e){t(o,function(){d(e,o)})})}),!1})}function l(e){p||(e?(p=e,s(p)):v===y.length&&c())}function f(e){v++,l(e)}function d(n,o){var a=e.metadata.id,c=e.stemmedRevs||[];i&&r.auto_compaction&&(c=Z(e.metadata).concat(c)),c.length&&In(c,a,n),e.metadata.seq=o;var l=e.metadata.rev;delete e.metadata.rev;var f=i?"UPDATE "+Ai+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+ji+" WHERE doc_id="+Ai+".id AND rev=?) WHERE id=?":"INSERT INTO "+Ai+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=Xt(e.metadata),h=i?[d,o,t,a]:[a,o,o,d];n.executeSql(f,h,function(){_[u]={ok:!0,id:e.metadata.id,rev:l},w.set(a,e.metadata),s()})}var p=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var y=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),y.forEach(function(n){var r=e.data._attachments[n];if(r.stub)v++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);h(r.digest,o,f)}}),y.length||c()}function f(){Kt(e.revs_limit,y,r,w,g,_,l,n)}function d(e){function t(){++n===y.length&&e()}if(!y.length)return e();var n=0;y.forEach(function(e){if(e._id&&fe(e._id))return t();var n=e.metadata.id;g.executeSql("SELECT json FROM "+Ai+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=Zt(r.rows.item(0).json);w.set(n,o)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+Mi+" WHERE digest=?";g.executeSql(r,[e],function(o,i){if(i.rows.length)return n();r="INSERT INTO "+Mi+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(r,[e,An(t)],function(){n()},function(){return n(),!1})})}var p=n.new_edits,v=t.docs,y=v.map(function(e){return e._id&&fe(e._id)?e:Ot(e,p)}),m=y.filter(function(e){return e.error});if(m.length)return a(m[0]);var g,b,_=new Array(y.length),w=new To;$t(y,"binary",function(e){if(e)return a(e);o.transaction(function(e){g=e,c(function(e){e?b=e:d(f)})},Rn(a),u)})}function Bn(e){return e.websql(e.name,e.version,e.description,e.size)}function zn(e){try{return{db:Bn(e)}}catch(e){return{error:e}}}function qn(e){var t=Ii.get(e.name);return t||(t=zn(e),Ii.set(e.name,t)),t}function Un(e,t,n,r,o){function i(){++s===u.length&&o&&o()}function a(e,o){var a=e._attachments[o],u={binary:t.binary,ctx:r};n._getAttachment(e._id,o,a,u,function(t,n){e._attachments[o]=Po(m(a,["digest","content_type"]),{data:n}),i()})}var u=Object.keys(e._attachments||{});if(!u.length)return o&&o();var s=0;u.forEach(function(n){t.attachments&&t.include_docs?a(e,n):(e._attachments[n].stub=!0,i())})}function Hn(e,t){function n(){x()&&(window.localStorage["_pouch__websqldb_"+b._name]=!0),t(null,b)}function r(e,t){e.executeSql(zi),e.executeSql("ALTER TABLE "+ji+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(Fi),e.executeSql("ALTER TABLE "+Ai+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Ai+" (local, id)");var n="SELECT "+Ai+".winningseq AS seq, "+Ai+".json AS metadata FROM "+ji+" JOIN "+Ai+" ON "+ji+".seq = "+Ai+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var a=n.rows.item(i),u=a.seq,s=JSON.parse(a.metadata);le(s)&&r.push(u),fe(s.id)&&o.push(s.id)}e.executeSql("UPDATE "+Ai+"SET local = 1 WHERE id IN "+Dn(o.length),o,function(){e.executeSql("UPDATE "+ji+" SET deleted = 1 WHERE seq IN "+Dn(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+Pi+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+Ai+".id AS id, "+ji+".json AS data FROM "+ji+" JOIN "+Ai+" ON "+ji+".seq = "+Ai+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+Pi+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+Ai+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+ji+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=On(o.hex,g),a=i.lastIndexOf("::"),u=i.substring(0,a),s=i.substring(a+2),c="UPDATE "+ji+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[u,s,i],function(){r()})}r()}var r="ALTER TABLE "+ji+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+ji+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(Bi,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+ji;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function a(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+Mi;e.executeSql(n,[],function(e,n){function r(){var n=Ln(Yi+", "+Ai+".id AS id",[Ai,ji],Hi,null,Ai+".id ");n+=" LIMIT "+i+" OFFSET "+o,o+=i,e.executeSql(n,[],function(e,n){if(!n.rows.length)return t(e);for(var o={},i=0;i<n.rows.length;i++)for(var a=n.rows.item(i),u=Pn(a.data,a.id,a.rev),s=Object.keys(u._attachments||{}),c=0;c<s.length;c++){var l=u._attachments[s[c]];!function(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}(l.digest,a.seq)}var f=[];if(Object.keys(o).forEach(function(e){o[e].forEach(function(t){f.push([e,t])})}),!f.length)return r();var d=0;f.forEach(function(t){var n="INSERT INTO "+Li+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++d===f.length&&r()})})})}if(!n.rows.item(0).cnt)return t(e);var o=0,i=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+Li+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(Ui,[],function(e){e.executeSql(qi,[],n)})})}function u(e,t){var n="ALTER TABLE "+Mi+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function c(e,t){var n="ALTER TABLE "+Ai+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+Ai+" SET max_seq=(SELECT MAX(seq) FROM "+ji+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Ai+" (max_seq)";e.executeSql(n,[],t)})})}function f(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;g=2===r.length?"UTF-8":"UTF-16",t()})}function d(){for(;k.length>0;){k.pop()(null,_)}}function h(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+Di+" (dbid, db_version INTEGER)",s="CREATE TABLE IF NOT EXISTS "+Mi+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+Li+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+Ai+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+ji+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+Pi+" (id UNIQUE, rev, json)";e.executeSql(s),e.executeSql(p),e.executeSql(l,[],function(){e.executeSql(qi),e.executeSql(Ui)}),e.executeSql(f,[],function(){e.executeSql(zi),e.executeSql(h,[],function(){e.executeSql(Fi),e.executeSql(Bi),e.executeSql(n,[],function(){var t="INSERT INTO "+Di+" (db_version, dbid) VALUES (?,?)";_=ei();var n=[Ti,_];e.executeSql(t,n,function(){d()})})})})}else{var v=function(){t<Ti&&e.executeSql("UPDATE "+Di+" SET db_version = "+Ti);var n="SELECT dbid FROM "+Di;e.executeSql(n,[],function(e,t){_=t.rows.item(0).dbid,d()})},y=[r,o,i,a,u,c,v],m=t;!function e(t){y[m-1](t,e),m++}(e)}}function p(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Di;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Di,[],function(e,t){h(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+Di+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function v(e,t){var n="SELECT MAX(seq) AS seq FROM "+ji;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function y(e,t){var n=Ln("COUNT("+Ai+".id) AS 'num'",[Ai,ji],Hi,ji+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function m(e,t,n,r,o){var i=Ln(Yi,[Ai,ji],Hi,Ai+".id=?"),a=[t];e.executeSql(i,a,function(e,t){if(!t.rows.length){var i=j(Lo,"missing");return o(i)}var a=t.rows.item(0),u=Zt(a.metadata);r(de(n,u))})}var g,b=this,_=null,w=Nn(e),k=[];b._name=e.name;var E=Po({},e,{version:Ni,description:e.name,size:w}),S=qn(E);if(S.error)return Rn(t)(S.error);var C=S.db;"function"!=typeof C.readTransaction&&(C.readTransaction=C.transaction),function(){C.transaction(function(e){f(e,function(){p(e)})},Rn(t),n)}(),b._remote=!1,b.type=function(){return"websql"},b._id=l(function(e){e(null,_)}),b._info=function(e){var t,n;C.readTransaction(function(e){v(e,function(e){t=e}),y(e,function(e){n=e})},Rn(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:g})})},b._bulkDocs=function(t,n,r){Fn(e,t,n,b,C,Ri,r)},b._get=function(e,t,n){function r(e){n(e,{doc:o,metadata:i,ctx:a})}var o,i,a=t.ctx;if(!a)return C.readTransaction(function(r){b._get(e,Po({ctx:r},t),n)});var u,s;if(t.rev){if(t.latest)return void m(a,e,t.rev,function(r){t.latest=!1,t.rev=r,b._get(e,t,n)},r);u=Ln(Yi,[Ai,ji],Ai+".id="+ji+".doc_id",[ji+".doc_id=?",ji+".rev=?"]),s=[e,t.rev]}else u=Ln(Yi,[Ai,ji],Hi,Ai+".id=?"),s=[e];a.executeSql(u,s,function(e,n){if(!n.rows.length){return r(j(Lo,"missing"))}var a=n.rows.item(0);if(i=Zt(a.metadata),a.deleted&&!t.rev){return r(j(Lo,"deleted"))}o=Pn(a.data,i.id,a.rev),r()})},b._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,a="key"in e&&e.key,u="descending"in e&&e.descending,s="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=!1!==e.inclusive_end,f=[],d=[];if(!1!==a)d.push(Ai+".id = ?"),f.push(a);else if(!1!==o||!1!==i){if(!1!==o&&(d.push(Ai+".id "+(u?"<=":">=")+" ?"),f.push(o)),!1!==i){var h=u?">":"<";l&&(h+="="),d.push(Ai+".id "+h+" ?"),f.push(i)}!1!==a&&(d.push(Ai+".id = ?"),f.push(a))}"ok"!==e.deleted&&d.push(ji+".deleted = 0"),C.readTransaction(function(t){if(y(t,function(e){n=e}),0!==s){var o=Ln(Yi,[Ai,ji],Hi,d,Ai+".id "+(u?"DESC":"ASC"));o+=" LIMIT "+s+" OFFSET "+c,t.executeSql(o,f,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var a=n.rows.item(o),u=Zt(a.metadata),s=u.id,c=Pn(a.data,s,a.rev),l=c._rev,f={id:s,key:s,value:{rev:l}};if(e.include_docs){if(f.doc=c,f.doc._rev=l,e.conflicts){var d=K(u);d.length&&(f.doc._conflicts=d)}Un(f.doc,e,b,t)}if(a.deleted){if("ok"!==e.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}},Rn(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},b._changes=function(e){if(e=s(e),e.continuous){var t=b._name+":"+ei();return Ri.addListener(b._name,t,b,e),Ri.notify(b._name),{cancel:function(){Ri.removeListener(b._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r="limit"in e?e.limit:-1;0===r&&(r=1);var o;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var i=[],a=0;!function(){var t=Ai+".json AS metadata, "+Ai+".max_seq AS maxSeq, "+ji+".json AS winningDoc, "+ji+".rev AS winningRev ",u=Ai+" JOIN "+ji,s=Ai+".id="+ji+".doc_id AND "+Ai+".winningseq="+ji+".seq",c=["maxSeq > ?"],l=[e.since];e.doc_ids&&(c.push(Ai+".id IN "+Dn(e.doc_ids.length)),l=l.concat(e.doc_ids));var f="maxSeq "+(n?"DESC":"ASC"),d=Ln(t,u,s,c,f),h=D(e);e.view||e.filter||(d+=" LIMIT "+r);var p=e.since||0;C.readTransaction(function(t){t.executeSql(d,l,function(t,n){function u(t){return function(){e.onChange(t)}}for(var s=0,c=n.rows.length;s<c;s++){var l=n.rows.item(s),f=Zt(l.metadata);p=l.maxSeq;var d=Pn(l.winningDoc,f.id,l.winningRev),v=e.processChange(d,f,e);v.seq=l.maxSeq;var y=h(v);if("object"===(void 0===y?"undefined":io(y)))return e.complete(y);if(y&&(a++,o&&i.push(v),e.attachments&&e.include_docs?Un(d,e,b,t,u(v)):u(v)()),a===r)break}})},Rn(e.complete),function(){e.continuous||e.complete(null,{results:i,last_seq:p})})}()},b._close=function(e){e()},b._getAttachment=function(e,t,n,r,o){var i,a=r.ctx,u=n.digest,s=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Mi+" WHERE digest=?";a.executeSql(c,[u],function(e,t){var n=t.rows.item(0),a=n.escaped?jn(n.body):On(n.body,g);i=r.binary?jt(a,s):fi(a),o(null,i)})},b._getRevisionTree=function(e,t){C.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Ai+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=Zt(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(j(Lo))})})},b._doCompaction=function(e,t,n){if(!t.length)return n();C.transaction(function(n){var r="SELECT json AS metadata FROM "+Ai+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=Zt(r.rows.item(0).metadata);$(o.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")});var i="UPDATE "+Ai+" SET json = ? WHERE id = ?";n.executeSql(i,[Xt(o),e])}),In(t,e,n)},Rn(n),function(){n()})},b._getLocal=function(e,t){C.readTransaction(function(n){var r="SELECT json, rev FROM "+Pi+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Pn(o.json,e,o.rev);t(null,i)}else t(j(Lo))})})},b._putLocal=function(e,t,n){function r(e){var r,c;i?(r="UPDATE "+Pi+" SET rev=?, json=? WHERE id=? AND rev=?",c=[o,s,a,i]):(r="INSERT INTO "+Pi+" (id, rev, json) VALUES (?,?,?)",c=[a,o,s]),e.executeSql(r,c,function(e,r){r.rowsAffected?(u={ok:!0,id:a,rev:o},t.ctx&&n(null,u)):n(j(Io))},function(){return n(j(Io)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,a=e._id;o=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var u,s=Mn(e);t.ctx?r(t.ctx):C.transaction(r,Rn(n),function(){u&&n(null,u)})},b._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+Pi+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(i,a,function(r,i){if(!i.rowsAffected)return n(j(Lo));o={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,o)})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):C.transaction(r,Rn(n),function(){o&&n(null,o)})},b._destroy=function(e,t){Ri.removeAllListeners(b._name),C.transaction(function(e){[Ai,ji,Mi,Di,Pi,Li].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Rn(t),function(){x()&&(delete window.localStorage["_pouch__websqldb_"+b._name],delete window.localStorage[b._name]),t(null,{ok:!0})})}}function Yn(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Vn(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=x(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Yn();return e&&(localStorage[t]=n?"1":"0"),n}function Wn(){return"function"==typeof openDatabase&&Vn()}function $n(e,t,n,r){return openDatabase(e,t,n,r)}function Gn(e,t){var n=Po({websql:$n},e);Hn.call(this,n,t)}function Jn(){for(var e={},t=new Eo(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,Eo.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function Kn(e,t){var n,r,o,i=new Headers,a={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):a.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=Jn(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function Zn(e,t){var n,r,o=!1,i=function(){n.abort(),s()},a=function(){o=!0,n.abort(),s()},u={abort:i},s=function(){clearTimeout(r),u.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(a,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(a,e.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?Tt([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var a={};if(o)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else if("string"==typeof n.response)try{a=JSON.parse(n.response)}catch(e){}a.status=n.status,t(a)}s()}},e.body&&e.body instanceof Blob?Rt(e.body,function(e){n.send(e)}):n.send(e.body),u}function Xn(e,t){return Wi||e.xhr?Zn(e,t):Kn(e,t)}function Qn(){return""}function er(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?M(e):e})),e.binary&&$i(t,n),r(null,t,n)}return e=s(e),e=Po({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),Xn(e,function(r,o,i){if(r)return t(M(r));var a,u=o.headers&&o.headers["content-type"],s=i||Qn();if(!e.binary&&(e.json||!e.processData)&&"object"!==(void 0===s?"undefined":io(s))&&(/json/.test(u)||/^[\s]*\{/.test(s)&&/\}[\s]*$/.test(s)))try{s=JSON.parse(s.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(s,o,t):(a=M(s),a.status=o.statusCode,t(a))})}function tr(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),i=-1!==n.indexOf("edge"),a=r||(o||i)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!u)){var s=-1!==e.url.indexOf("?");e.url+=(s?"&":"?")+"_nonce="+Date.now()}return er(e,t)}function nr(e,t){return new Eo(function(n,r){function o(){l++,e[f++]().then(a,u)}function i(){++d===h?c?r(c):n():s()}function a(){l--,i()}function u(e){l--,c=c||e,i()}function s(){for(;l<t&&f<h;)o()}var c,l=0,f=0,d=0,h=e.length;s()})}function rr(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Mt(n.data,n.content_type)})}function or(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function ir(e){return e._attachments&&Object.keys(e._attachments)?Eo.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Eo(function(e){It(n.data,e)}).then(function(e){n.data=e})})):Eo.resolve()}function ar(e){if(!e.prefix)return!1;var t=q(e.prefix).protocol;return"http"===t||"https"===t}function ur(e,t){if(ar(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=q(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function sr(e,t){return cr(e,e.db+"/"+t)}function cr(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function lr(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function fr(e,t){function n(e,t,n){var r=e.ajax||{},o=Po(s(f),r,t),i=s(f.headers||{});return o.headers=Po(i,r.headers,t.headers||{}),u.constructor.listeners("debug").length&&u.constructor.emit("debug",["http",o.method,o.url]),u._ajax(o,n)}function r(e,t){return new Eo(function(r,o){n(e,t,function(e,t){if(e)return o(e);r(t)})})}function o(e,t){return d(e,(0,fo.default)(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function i(){return e.skipSetup||e.skip_setup?Eo.resolve():y||(y=r({},{method:"GET",url:l}).catch(function(e){return e&&e.status&&404===e.status?(T(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:l})):Eo.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Eo.reject(e)}),y.catch(function(){y=null}),y)}function a(e){return e.split("/").map(encodeURIComponent).join("/")}var u=this,c=ur(e.name,e),l=sr(c,"");e=s(e);var f=e.ajax||{};if(e.auth||c.auth){var h=e.auth||c.auth,p=h.username+":"+h.password,v=fi(unescape(encodeURIComponent(p)));f.headers=f.headers||{},f.headers.Authorization="Basic "+v}u._ajax=tr;var y;(0,mo.default)(function(){t(null,u)}),u._remote=!0,u.type=function(){return"http"},u.id=o("id",function(e){n({},{method:"GET",url:cr(c,"")},function(t,n){var r=n&&n.uuid?n.uuid+c.db:sr(c,"");e(null,r)})}),u.request=o("request",function(e,t){e.url=sr(c,e.url),n({},e,t)}),u.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e),n(e,{url:sr(c,"_compact"),method:"POST"},function(){function n(){u.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),u.bulkGet=d("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:sr(c,"_bulk_get"+lr(r)),method:"POST",body:{docs:e.docs}},t)}function o(){for(var n=Ji,r=Math.ceil(e.docs.length/n),o=0,a=new Array(r),u=0;u<r;u++){var s=m(e,["revs","attachments","latest"]);s.ajax=f,s.docs=e.docs.slice(u*n,Math.min(e.docs.length,(u+1)*n)),_(i,s,function(e){return function(n,i){a[e]=i.results,++o===r&&t(null,{results:L(a)})}}(u))}}var i=this,a=cr(c,""),u=Xi[a];"boolean"!=typeof u?r(function(e,n){e?(Xi[a]=!1,T(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(Xi[a]=!0,t(null,n))}):u?r(t):o()}),u._info=function(e){i().then(function(){n({},{method:"GET",url:sr(c,"")},function(t,n){if(t)return e(t);n.host=sr(c,""),e(null,n)})}).catch(e)},u.get=o("get",function(e,t,n){function o(e){function n(n){var i=o[n],u=or(e._id)+"/"+a(n)+"?rev="+e._rev;return r(t,{method:"GET",url:sr(c,u),binary:!0}).then(function(e){return t.binary?e:new Eo(function(t){It(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length){return nr(i.map(function(e){return function(){return n(e)}}),5)}}function i(e){return Array.isArray(e)?Eo.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=s(t);var u={};t.revs&&(u.revs=!0),t.revs_info&&(u.revs_info=!0),t.latest&&(u.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),u.open_revs=t.open_revs),t.rev&&(u.rev=t.rev),t.conflicts&&(u.conflicts=t.conflicts),e=or(e);var l={method:"GET",url:sr(c,e+lr(u))};r(t,l).then(function(e){return Eo.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})}).catch(function(t){t.docId=e,n(t)})}),u.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var a=i._rev||r.rev;n(r,{method:"DELETE",url:sr(c,or(i._id))+"?rev="+a},o)}),u.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:sr(c,or(e))+"/"+a(t)+i,binary:!0},o)}),u.removeAttachment=o("removeAttachment",function(e,t,r,o){n({},{method:"DELETE",url:sr(c,or(e)+"/"+a(t))+"?rev="+r},o)}),u.putAttachment=o("putAttachment",function(e,t,r,o,i,u){"function"==typeof i&&(u=i,i=o,o=r,r=null);var s=or(e)+"/"+a(t),l=sr(c,s);if(r&&(l+="?rev="+r),"string"==typeof o){var d;try{d=li(o)}catch(e){return u(j(zo,"Attachment is not a valid base64 string"))}o=d?jt(d,i):""}n({},{headers:{"Content-Type":i},method:"PUT",url:l,processData:!1,body:o,timeout:f.timeout||6e4},u)}),u._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return Eo.all(e.docs.map(ir))}).then(function(){n(t,{method:"POST",url:sr(c,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},u._put=function(e,t,r){i().then(function(){return ir(e)}).then(function(){n(t,{method:"PUT",url:sr(c,or(e._id)),body:e},function(t,n){if(t)return t.docId=e&&e._id,r(t);r(null,n)})}).catch(r)},u.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(o.limit=e.limit),void 0!==e.skip&&(o.skip=e.skip);var a=lr(o);void 0!==e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:sr(c,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(rr),t(null,n)}).catch(t)}),u._changes=function(e){var t="batch_size"in e?e.batch_size:Gi;e=s(e),!e.continuous||"heartbeat"in e||(e.heartbeat=Zi);var r="timeout"in e?e.timeout:"timeout"in f?f.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<Ki&&(r=e.timeout+Ki),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<Ki&&(r=e.heartbeat+Ki);var o={};"timeout"in e&&e.timeout&&(o.timeout=e.timeout);var a,u=void 0!==e.limit&&e.limit;a="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var l=u;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e&&e.heartbeat&&(o.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"===io(e.query_params))for(var d in e.query_params)e.query_params.hasOwnProperty(d)&&(o[d]=e.query_params[d]);var h,p="GET";e.doc_ids?(o.filter="_doc_ids",p="POST",h={doc_ids:e.doc_ids}):e.selector&&(o.filter="_selector",p="POST",h={selector:e.selector});var v,y,m=function(a,s){if(!e.aborted){o.since=a,"object"===io(o.since)&&(o.since=JSON.stringify(o.since)),e.descending?u&&(o.limit=l):o.limit=!u||l>t?t:l;var f={method:p,url:sr(c,"_changes"+lr(o)),timeout:r,body:h};y=a,e.aborted||i().then(function(){v=n(e,f,s)}).catch(s)}},g={results:[]},b=function n(r,o){if(!e.aborted){var i=0;if(o&&o.results){i=o.results.length,g.last_seq=o.last_seq;({}).query=e.query_params,o.results=o.results.filter(function(t){l--;var n=D(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&rr(t),a&&g.results.push(t),e.onChange(t)),n})}else if(r)return e.aborted=!0,void e.complete(r);o&&o.last_seq&&(y=o.last_seq);var s=u&&l<=0||o&&i<t||e.descending;(!e.continuous||u&&l<=0)&&s?e.complete(null,g):(0,mo.default)(function(){m(y,n)})}};return m(e.since||0,b),{cancel:function(){e.aborted=!0,v&&v.abort()}}},u.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:sr(c,"_revs_diff"),body:e},r)}),u._close=function(e){e()},u._destroy=function(e,t){n(e,{url:sr(c,""),method:"DELETE"},function(e,n){if(e&&e.status&&404!==e.status)return t(e);t(null,n)})}}function dr(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,dr)}catch(e){}}function hr(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,hr)}catch(e){}}function pr(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,pr)}catch(e){}}function vr(e,t){return t&&e.then(function(e){(0,mo.default)(function(){t(null,e)})},function(e){(0,mo.default)(function(){t(e)})}),e}function yr(e){return(0,fo.default)(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&vr(r,n),r})}function mr(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function gr(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function br(e){var t=new Oo(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function _r(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function wr(e){return new pr("builtin "+e+" function requires map values to be numbers or number arrays")}function xr(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw wr("_sum");t="number"==typeof t?[t]:t;for(var i=0,a=o.length;i<a;i++){var u=o[i];if("number"!=typeof u)throw wr("_sum");void 0===t[i]?t.push(u):t[i]+=u}}else"number"==typeof t?t+=o:t[0]+=o}return t}function kr(e,t){return U("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:xr,log:ea,isArray:ta,toJSON:na})}function Er(){this.promise=new Eo(function(e){e()})}function Sr(e){if(!e)return"undefined";switch(void 0===e?"undefined":io(e)){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Cr(e,t){return Sr(e)+Sr(t)+"undefined"}function Or(e,t,n,r,o,i){var a,u=Cr(n,r);if(!o&&(a=e._cachedViews=e._cachedViews||{},a[u]))return a[u];var s=e.info().then(function(s){function c(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e}var l=s.db_name+"-mrview-"+(o?"temp":Ut(u));return H(e,"_local/"+i,c).then(function(){return e.registerDependentDatabase(l).then(function(t){var o=t.db;o.auto_compaction=!0;var i={name:l,db:o,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,a&&i.db.once("destroyed",function(){delete a[u]}),i})})})});return a&&(a[u]=s),s}function Tr(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Ar(e){return 1===e.length&&/^1-/.test(e[0].rev)}function jr(e,t){try{e.emit("error",t)}catch(e){S("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),S("error",t)}}function Mr(e){if(/^_sum/.test(e))return aa._sum;if(/^_count/.test(e))return aa._count;if(/^_stats/.test(e))return aa._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function Pr(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return kr(e.toString(),t)}function Dr(e){var t=e.toString(),n=Mr(t);return n||kr(t)}function Lr(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new hr("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+io(n.map))}function Ir(e,t,n){return ua.query.call(this,e,t,n)}function Rr(e){return ua.viewCleanup.call(this,e)}function Nr(e){return/^1-/.test(e)}function Fr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function Br(e,t){var n=Object.keys(t._attachments);return Eo.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function zr(e,t,n){var r=N(t)&&!N(e),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Eo.all(o.map(function(o){return Fr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return Br(t,n)}):Br(t,n)}function qr(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function Ur(e,t,n,r){function o(){var o=qr(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return Eo.all(n.results.map(function(n){return Eo.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?zr(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){f=f.concat(L(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function u(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!Nr(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,f.push(e.doc),delete n[e.id])})})}function c(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&Nr(t[0])});if(e.length>0)return u(e)}function l(){return{ok:d,docs:f}}n=s(n);var f=[],d=!0;return Eo.resolve().then(c).then(o).then(l)}function Hr(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||T(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:la,version:ca};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,fa),i.version=ca,i.replicator=la,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return Hr(e,t,n,r,o);throw i})})}function Yr(e,t,n,r,o){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=o}function Vr(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Wr(e.history,t.history)}function Wr(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);return n&&0!==t.length?$r(n.session_id,t)?{last_seq:n.last_seq,history:e}:$r(o.session_id,r)?{last_seq:o.last_seq,history:i}:Wr(r,i):{last_seq:da,history:[]}}function $r(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||$r(e,r))}function Gr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Jr(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=O),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=pa},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||pa,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function Kr(e){return Object.keys(e).sort(Ye).reduce(function(t,n){return t[n]=e[n],t},{})}function Zr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(Ye):"",o=n.filter?n.filter.toString():"",i="",a="",u="";return n.selector&&(u=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify(Kr(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Eo.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+a+i+r+u;return new Eo(function(e){qt(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function Xr(e,t,n,r,o){function i(){return k?Eo.resolve():Zr(e,t,n).then(function(o){x=o;var i={};i=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},k=new Yr(e,t,x,r,i)})}function a(){if(F=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",s(t))}else F.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function u(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=A=w.seq;var e=s(o);return F.length&&(e.docs=F,r.emit("change",e)),C=!0,k.writeCheckpoint(w.seq,B).then(function(){if(C=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,g()}).catch(function(e){throw _(e),e})}function c(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function l(){return Ur(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function f(){if(!r.cancelled&&!w){if(0===E.length)return void d(!0);w=E.shift(),c().then(l).then(a).then(u).then(f).catch(function(e){h("batch processing terminated with error",e)})}}function d(e){if(0===S.changes.length)return void(0!==E.length||w||((M&&z.live||O)&&(r.state="pending",r.emit("paused")),O&&p()));(e||O||S.changes.length>=P)&&(E.push(S),S={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f())}function h(e,t){T||(t.message||(t.message=e),o.ok=!1,o.status="aborting",E=[],S={seq:0,changes:[],docs:[]},p(t))}function p(i){T||r.cancelled&&(o.status="cancelled",C)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=A,T=!0,i?(i=j(i),i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Jr(n,r,i,function(){Xr(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function v(e){if(r.cancelled)return p();D(n)(e)&&(S.seq=e.seq,S.changes.push(e),d(0===E.length&&z.live))}function y(e){if(I=!1,r.cancelled)return p();if(e.results.length>0)z.since=e.last_seq,g(),d(!0);else{var t=function(){M?(z.live=!0,g()):O=!0,d(!0)};w||0!==e.results.length?t():(C=!0,k.writeCheckpoint(e.last_seq,B).then(function(){C=!1,o.last_seq=A=e.last_seq,t()}).catch(_))}}function m(e){if(I=!1,r.cancelled)return p();h("changes rejected",e)}function g(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!I&&!O&&E.length<L){I=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(z).on("change",v);i.then(o,o),i.then(y).catch(m),n.retry&&(r._changes=i,r._abortChanges=t)}}function b(){i().then(function(){return r.cancelled?void p():k.getCheckpoint().then(function(e){A=e,z={since:A,limit:P,batch_size:P,style:"all_docs",doc_ids:R,selector:N,return_docs:!0},n.filter&&("string"!=typeof n.filter?z.include_docs=!0:z.filter=n.filter),"heartbeat"in n&&(z.heartbeat=n.heartbeat),"timeout"in n&&(z.timeout=n.timeout),n.query_params&&(z.query_params=n.query_params),n.view&&(z.view=n.view),g()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function _(e){C=!1,h("writeCheckpoint completed with error",e)}var w,x,k,E=[],S={seq:0,changes:[],docs:[]},C=!1,O=!1,T=!1,A=0,M=n.continuous||n.live||!1,P=n.batch_size||100,L=n.batches_limit||10,I=!1,R=n.doc_ids,N=n.selector,F=[],B=ei();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var z={};if(r.ready(e,t),r.cancelled)return void p();r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?b():i().then(function(){return C=!0,k.writeCheckpoint(n.since,B)}).then(function(){if(C=!1,r.cancelled)return void p();A=n.since,b()}).catch(_)}function Qr(){ho.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Eo(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function eo(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function to(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw j(Ho,"`doc_ids` filter parameter is not a list.");n.complete=r,n=s(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Qr(n);return Xr(eo(e,n),eo(t,n),n,o),o}function no(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=s(n),n.PouchConstructor=n.PouchConstructor||this,e=eo(e,n),t=eo(t,n),new ro(e,t,n,r)}function ro(e,t,n,r){function o(e){p.emit("change",{direction:"pull",change:e})}function i(e){p.emit("change",{direction:"push",change:e})}function a(e){p.emit("denied",{direction:"push",doc:e})}function u(e){p.emit("denied",{direction:"pull",doc:e})}function s(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function f(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function d(e){return function(t,n){var r="change"===t&&(n===o||n===i),d="denied"===t&&(n===u||n===a),h="paused"===t&&(n===c||n===s),v="active"===t&&(n===f||n===l);(r||d||h||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&p.removeAllListeners(t))}}function h(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}var p=this;this.canceled=!1;var v=n.push?Po({},n,n.push):n,y=n.pull?Po({},n,n.pull):n;this.push=to(e,t,v),this.pull=to(t,e,y),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(h(p.pull,"change",o),h(p.push,"change",i)):"denied"===e?(h(p.pull,"denied",u),h(p.push,"denied",a)):"active"===e?(h(p.pull,"active",f),h(p.push,"active",l)):"paused"===e&&(h(p.pull,"paused",c),h(p.push,"paused",s))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",o),p.push.removeListener("change",i)):"denied"===e?(p.pull.removeListener("denied",u),p.push.removeListener("denied",a)):"active"===e?(p.pull.removeListener("active",f),p.push.removeListener("active",l)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",s))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=Eo.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}function oo(e){e.replicate=to,e.sync=no,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao=n(399),uo=r(ao),so=n(968),co=r(so),lo=n(235),fo=r(lo),ho=n(402),po=n(159),vo=r(po),yo=n(158),mo=r(yo),go=n(969),bo=r(go),_o=n(403),wo=r(_o),xo=n(972),ko=r(xo),Eo="function"==typeof Promise?Promise:co.default,So=Function.prototype.toString,Co=So.call(Object);v.prototype.get=function(e){var t=h(e);return this._store[t]},v.prototype.set=function(e,t){var n=h(e);return this._store[n]=t,!0},v.prototype.has=function(e){return h(e)in this._store},v.prototype.delete=function(e){var t=h(e),n=t in this._store;return delete this._store[t],n},v.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n],i=this._store[o];o=p(o),e(i,o)}},Object.defineProperty(v.prototype,"size",{get:function(){return Object.keys(this._store).length}}),y.prototype.add=function(e){return this._store.set(e,!0)},y.prototype.has=function(e){return this._store.has(e)},y.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(y.prototype,"size",{get:function(){return this._store.size}});var Oo,To;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(Oo=y,To=v):(Oo=Set,To=Map);var Ao,jo=6;if(w())Ao=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Ao=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){Ao=!1}(0,vo.default)(E,ho.EventEmitter),E.prototype.addListener=function(e,t,n,r){function o(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var u=m(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&(0,mo.default)(o),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=o,this.on(e,o)}},E.prototype.removeListener=function(e,t){t in this._listeners&&(ho.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},E.prototype.notifyLocalWindows=function(e){w()?chrome.storage.local.set({dbName:e}):x()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},E.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Mo;Mo="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var Po=Mo;(0,vo.default)(A,Error),A.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var Do=(new A(401,"unauthorized","Name or password is incorrect."),new A(400,"bad_request","Missing JSON list of 'docs'")),Lo=new A(404,"not_found","missing"),Io=new A(409,"conflict","Document update conflict"),Ro=new A(400,"bad_request","_id field must contain a string"),No=new A(412,"missing_id","_id is required for puts"),Fo=new A(400,"bad_request","Only reserved document ids may start with underscore."),Bo=(new A(412,"precondition_failed","Database not open"),new A(500,"unknown_error","Database encountered an unknown error")),zo=new A(500,"badarg","Some query argument is invalid"),qo=(new A(400,"invalid_request","Request was invalid"),new A(400,"query_parse_error","Some query parameter is invalid")),Uo=new A(500,"doc_validation","Bad special document member"),Ho=new A(400,"bad_request","Something wrong with the request"),Yo=new A(400,"bad_request","Document must be a JSON object"),Vo=(new A(404,"not_found","Database not found"),new A(500,"indexed_db_went_bad","unknown")),Wo=new A(500,"web_sql_went_bad","unknown"),$o=(new A(500,"levelDB_went_went_bad","unknown"),new A(403,"forbidden","Forbidden by design doc validate_doc_update function"),new A(400,"bad_request","Invalid rev format")),Go=(new A(412,"file_exists","The database could not be created, the file already exists."),new A(412,"missing_stub","A pre-existing attachment stub wasn't found")),Jo=(new A(413,"invalid_url","Provided URL is invalid"),I.name);var Ko=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Zo="queryKey",Xo=/(?:^|&)([^&=]*)=?([^&]*)/g,Qo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ei=uo.default.v4;(0,vo.default)(pe,ho.EventEmitter),pe.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},pe.prototype.validateChanges=function(e){var t=e.complete,n=this;Te._changesFilterPlugin?Te._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},pe.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=s(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=ve,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){if(t.isCancelled)return void n(null,{status:"cancelled"});e.since=r.update_seq,t.doChanges(e)},n);if(Te._changesFilterPlugin){if(Te._changesFilterPlugin.normalize(e),Te._changesFilterPlugin.shouldFilter(this,e))return Te._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&S("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=(0,fo.default)(function(e){r.cancel(),o.apply(this,e)})}},(0,vo.default)(Ee,ho.EventEmitter),Ee.prototype.post=d("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!==(void 0===e?"undefined":io(e))||Array.isArray(e))return n(j(Yo));this.bulkDocs({docs:[e]},t,me(n,e._id))}),Ee.prototype.put=d("put",function(e,t,n){function r(n){"function"==typeof o._put&&!1!==t.new_edits?o._put(e,t,n):o.bulkDocs({docs:[e]},t,me(n,e._id))}if("function"==typeof t&&(n=t,t={}),"object"!==(void 0===e?"undefined":io(e))||Array.isArray(e))return n(j(Yo));if(R(e._id),fe(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var o=this;t.force&&e._rev?(!function(){var n=e._rev.split("-"),r=n[1],o=parseInt(n[0],10),i=o+1,a=V();e._revisions={start:i,ids:[a,r]},e._rev=i+"-"+a,t.new_edits=!1}(),r(function(t){var r=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,r)})):r(n)}),Ee.prototype.putAttachment=d("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},a.put(e)}var a=this;return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||S("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==n)throw j(Io);return i(e)},function(t){if(t.reason===Lo.message)return i({_id:e});throw t})}),Ee.prototype.removeAttachment=d("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(j(Io)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),Ee.prototype.remove=d("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};if(i._deleted=!0,fe(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,me(r,i._id))}),Ee.prototype.revsDiff=d("revsDiff",function(e,t,n){function r(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);$(n,function(e,n,i,a,u){var s=n+"-"+i,c=o.indexOf(s);-1!==c&&(o.splice(c,1),"available"!==u.status&&r(t,s))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var a=0,u=new To;i.map(function(t){this._getRevisionTree(t,function(r,s){if(r&&404===r.status&&"missing"===r.message)u.set(t,{missing:e[t]});else{if(r)return n(r);o(t,s)}if(++a===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),Ee.prototype.bulkGet=d("bulkGet",function(e,t){_(this,e,t)}),Ee.prototype.compactDocument=d("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var a=_e(i),u=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),$(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&s.push(i)}),r._doCompaction(e,s,n)})}),Ee.prototype.compact=d("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&xe(n)}),Ee.prototype._compact=function(e,t){function n(e){a.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;Eo.all(a).then(function(){return H(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},Ee.prototype.get=d("get",function(e,t,n){function r(){var r=[],a=o.length;if(!a)return n(null,r);o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:o});else{for(var i,u=0,s=r.length;u<s;u++)if(r[u].ok&&r[u].ok._rev===t._rev){i=!0;break}i||r.push({ok:t})}--a||n(null,r)})})}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(j(Ro));if(fe(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(r,o){if(r)return r.docId=e,n(r);var a=o.doc,u=o.metadata,s=o.ctx;if(t.conflicts){var c=K(u);c.length&&(a._conflicts=c)}if(le(u,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var l=a._rev.split("-"),f=parseInt(l[0],10),d=l[1],h=X(u.rev_tree),p=null,v=0;v<h.length;v++){var y=h[v],m=y.ids.map(function(e){return e.id}).indexOf(d);(m===f-1||!p&&-1!==m)&&(p=y)}var g=p.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1,b=p.ids.length-g;if(p.ids.splice(g,b),p.ids.reverse(),t.revs&&(a._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var _=p.pos+p.ids.length;a._revs_info=p.ids.map(function(e){return _--,{rev:_+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&a._attachments){var w=a._attachments,x=Object.keys(w).length;if(0===x)return n(null,a);Object.keys(w).forEach(function(e){this._getAttachment(a._id,e,w[e],{rev:a._rev,binary:t.binary,ctx:s},function(t,r){var o=a._attachments[e];o.data=r,delete o.stub,delete o.length,--x||n(null,a)})},i)}else{if(a._attachments)for(var k in a._attachments)a._attachments.hasOwnProperty(k)&&(a._attachments[k].stub=!0);n(null,a)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);o=J(t).map(function(e){return e.rev}),r()});else{if(!Array.isArray(t.open_revs))return n(j(Bo,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var u=o[a];if("string"!=typeof u||!/^\d+-/.test(u))return n(j($o))}r()}}),Ee.prototype.getAttachment=d("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,a){return i?r(i):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,o._getAttachment(e,t,a.doc._attachments[t],n,r),void 0):r(j(Lo))})}),Ee.prototype.allDocs=d("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(j(qo,"Query parameter `"+n+"` is not compatible with multi-get"));if(!N(this))return we(this,e,t)}return this._allDocs(e,t)}),Ee.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new pe(this,e,t)},Ee.prototype.close=d("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Ee.prototype.info=d("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||N(t)),r.adapter=t.adapter,e(null,r)})}),Ee.prototype.id=d("id",function(e){return this._id(e)}),Ee.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ee.prototype.bulkDocs=d("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(j(Do));for(var r=0;r<e.docs.length;++r)if("object"!==io(e.docs[r])||Array.isArray(e.docs[r]))return n(j(Yo));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||ke(t),e._attachments[t].content_type||S("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return n(j(Ho,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||N(i)||e.docs.sort(be),ge(e.docs);var a=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!N(i))for(var o=0,u=r.length;o<u;o++)r[o].id=r[o].id||a[o];n(null,r)})}),Ee.prototype.registerDependentDatabase=d("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);H(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),Ee.prototype.destroy=d("destroy",function(e,t){function n(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;if(N(r))return n();r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var a=i.dependentDbs,u=r.constructor,s=Object.keys(a).map(function(e){var t=o?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()});Eo.all(s).then(n,t)})}),Se.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Se.prototype.fail=function(e){this.failed=e,this.execute()},Se.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Se.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},(0,vo.default)(Te,Ee),Te.adapters={},Te.preferredAdapters=[],Te.prefix="_pouch_";var ti=new ho.EventEmitter;!function(e){Object.keys(ho.EventEmitter.prototype).forEach(function(t){"function"==typeof ho.EventEmitter.prototype[t]&&(e[t]=ti[t].bind(ti))});var t=e._destructionListeners=new To;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach(function(e){e.emit("destroyed",!0)})}})}(Te),Te.adapter=function(e,t,n){t.valid()&&(Te.adapters[e]=t,n&&Te.preferredAdapters.push(e))},Te.plugin=function(e){if("function"==typeof e)e(Te);else{if("object"!==(void 0===e?"undefined":io(e))||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Te.prototype[t]=e[t]})}return this.__defaults&&(Te.__defaults=Po({},this.__defaults)),Te},Te.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"===(void 0===e?"undefined":io(e))&&(n=e,e=n.name,delete n.name),n=Po({},t.__defaults,n),Te.call(this,e,n)}return(0,vo.default)(t,Te),t.preferredAdapters=Te.preferredAdapters.slice(),Object.keys(Te).forEach(function(e){e in t||(t[e]=Te[e])}),t.__defaults=Po({},this.__defaults,e),t};var ni=["$or","$nor","$not"],ri=-324,oi=3,ii="",ai={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"===io(r[0])?r.some(function(e){return ot(e,t,Object.keys(t))}):r.some(function(r){return it(t,e,n,r)})))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"===io(r[0])?r.every(function(e){return ot(e,t,Object.keys(t))}):r.every(function(r){return it(t,e,n,r)})))},$eq:function(e,t,n,r){return ct(r)&&0===Ye(r,t)},$gte:function(e,t,n,r){return ct(r)&&Ye(r,t)>=0},$gt:function(e,t,n,r){return ct(r)&&Ye(r,t)>0},$lte:function(e,t,n,r){return ct(r)&&Ye(r,t)<=0},$lt:function(e,t,n,r){return ct(r)&&Ye(r,t)<0},$exists:function(e,t,n,r){return t?ct(r):!ct(r)},$mod:function(e,t,n,r){return st(r)&&lt(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==Ye(r,e)})},$in:function(e,t,n,r){return st(r)&&ft(r,t)},$nin:function(e,t,n,r){return st(r)&&!ft(r,t)},$size:function(e,t,n,r){return st(r)&&ht(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&dt(r,t)},$regex:function(e,t,n,r){return st(r)&&pt(r,t)},$type:function(e,t,n,r){return vt(r,t)}};Te.plugin(Ae),Te.plugin(kt),Te.version="6.3.4";var ui,si=Et(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ci=Et(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),li=function(e){return atob(e)},fi=function(e){return btoa(e)},di=window.setImmediate||e.setTimeout,hi=32768,pi=5,vi="document-store",yi="by-sequence",mi="attach-store",gi="attach-seq-store",bi="meta-store",_i="local-store",wi="detect-blob-support",xi=new E,ki=!1,Ei=[],Si=new To,Ci=new To;_n.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Oi=function(e){e.adapter("idb",_n,!0)},Ti=7,Ai=Tn("document-store"),ji=Tn("by-sequence"),Mi=Tn("attach-store"),Pi=Tn("local-store"),Di=Tn("metadata-store"),Li=Tn("attach-seq-store"),Ii=new To,Ri=new E,Ni=1,Fi="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+ji+" (seq, deleted)",Bi="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+ji+" (doc_id, rev)",zi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Ai+" (winningseq)",qi="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Li+" (seq)",Ui="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Li+" (digest, seq)",Hi=ji+".seq = "+Ai+".winningseq",Yi=ji+".seq AS seq, "+ji+".deleted AS deleted, "+ji+".json AS data, "+ji+".rev AS rev, "+Ai+".json AS metadata";Gn.valid=Wn,Gn.use_prefix=!0;var Vi=function(e){e.adapter("websql",Gn,!0)},Wi=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}(),$i=function(){},Gi=25,Ji=50,Ki=5e3,Zi=1e4,Xi={};fr.valid=function(){return!0};var Qi=function(e){e.adapter("http",fr,!1),e.adapter("https",fr,!1)};(0,vo.default)(dr,Error),(0,vo.default)(hr,Error),(0,vo.default)(pr,Error);var ea=S.bind(null,"log"),ta=Array.isArray,na=JSON.parse;Er.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Er.prototype.finish=function(){return this.promise};var ra={},oa=new Er,ia=50,aa={_sum:function(e,t){return xr(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:xr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}(t)}}},ua=function(e,t,n,r){function o(e,t,n){try{t(n)}catch(t){jr(e,t)}}function i(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return jr(e,t),{error:t}}}function a(e,t){var n=Ye(e.key,t.key);return 0!==n?n:Ye(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function s(e){var t=e.value;return t&&"object"===(void 0===t?"undefined":io(t))&&t._id||e.id}function c(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Mt(n.data,n.content_type)})})}function l(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&c(t),t}}function f(e,t,n,r){var o=t[e];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}function p(e){if(e){if("number"!=typeof e)return new dr('Invalid value for integer: "'+e+'"');if(e<0)return new dr('Invalid value for positive integer: "'+e+'"')}}function v(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&Ye(e[n],e[r])>0)throw new dr("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new dr("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new dr("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=p(e[t]);if(n)throw n})}function y(e,t,n){var r,o=[],i="GET";if(f("reduce",n,o),f("include_docs",n,o),f("attachments",n,o),f("limit",n,o),f("descending",n,o),f("group",n,o),f("group_level",n,o),f("skip",n,o),f("stale",n,o),f("conflicts",n,o),f("startkey",n,o,!0),f("start_key",n,o,!0),f("endkey",n,o,!0),f("end_key",n,o,!0),f("inclusive_end",n,o),f("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=Tr(t);return e.request({method:i,url:"_design/"+u[0]+"/_view/"+u[1]+o,body:r}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(l(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(l(n))}function m(e,t,n){return new Eo(function(r,o){e._query(t,n,function(e,t){if(e)return o(e);r(t)})})}function g(e){return new Eo(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}function b(e){return function(t){if(404===t.status)return e;throw t}}function _(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Eo.resolve({rows:[]})}function o(e,t){for(var n=[],r=new Oo,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!s.has(u._id),!u._deleted)){var c=s.get(u._id);"value"in c&&(u.value=c.value)}}var l=_r(s);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=s.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=br(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},u=n.get(e),s=u[0],c=u[1];return function(){return Ar(c)?Eo.resolve(a):t.db.get(i).catch(b(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function w(e,t,n){return e.db.get("_local/lastSeq").catch(b({_id:"_local/lastSeq",seq:0})).then(function(r){var o=_r(t);return Eo.all(o.map(function(n){return _(n,e,t)})).then(function(t){var o=L(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function x(e){var t="string"==typeof e?e:e.name,n=ra[t];return n||(n=ra[t]=new Er),n}function k(e){return gr(x(e),function(){return E(e)})()}function E(e){function n(e,t){var n={id:f._id,key:Ve(e)};void 0!==t&&null!==t&&(n.value=Ve(t)),l.push(n)}function r(t,n){return function(){return w(e,t,n)}}function i(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:h,limit:ia}).then(u)}function u(e){var t=e.results;if(t.length){var n=s(t);if(p.add(r(n,h)),!(t.length<ia))return i()}}function s(t){for(var n=new To,r=0,i=t.length;r<i;r++){var u=t[r];if("_"!==u.doc._id[0]){l=[],f=u.doc,f._deleted||o(e.sourceDB,d,f),l.sort(a);var s=c(l);n.set(u.doc._id,[s,u.changes])}h=u.seq}return n}function c(e){for(var t,n=new To,r=0,o=e.length;r<o;r++){var i=e[r],a=[i.key,i.id];r>0&&0===Ye(i.key,t)&&a.push(r),n.set($e(a),i),t=i.key}return n}var l,f,d=t(e.mapFun,n),h=e.seq||0,p=new Er;return i().then(function(){return p.finish()}).then(function(){e.seq=h})}function S(e,t,r){0===r.group_level&&delete r.group_level;var o=r.group||r.group_level,a=n(e.reduceFun),s=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=s[s.length-1],n=o?e.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,c)),t&&0===Ye(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var l=0,f=s.length;l<f;l++){var d=s[l],h=i(e.sourceDB,a,d.keys,d.values,!1);if(h.error&&h.error instanceof pr)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:u(t,r.limit,r.skip)}}function C(e,t){return gr(x(e),function(){return O(e,t)})()}function O(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"===io(e.doc.value)&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Ke(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?S(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=br(n.map(s));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new To;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=s(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var u=t.keys,c=u.map(function(e){return n({startkey:$e([e]),endkey:$e([e,{}])})});return Eo.all(c).then(L).then(r)}var l,f,d={descending:t.descending};if("start_key"in t&&(l=t.start_key),"startkey"in t&&(l=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==l&&(d.startkey=$e(t.descending?[l,{}]:[l])),void 0!==f){var h=!1!==t.inclusive_end;t.descending&&(h=!h),d.endkey=$e(h?[f,{}]:[f])}if(void 0!==t.key){var p=$e([t.key]),v=$e([t.key,{}]);d.descending?(d.endkey=p,d.startkey=v):(d.startkey=p,d.endkey=v)}return i||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=a),n(d).then(r)}function T(e){return e.request({method:"POST",url:"_view_cleanup"})}function A(t){return t.get("_local/"+e).then(function(e){var n=new To;Object.keys(e.views).forEach(function(e){var t=Tr(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new Oo,n.set(r,i)),i.add(o)});var r={keys:_r(n),include_docs:!0};return t.allDocs(r).then(function(r){var o={};r.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var a=Object.keys(e.views[i]),u=t.doc&&t.doc.views&&t.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(e){return gr(x(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Eo.all(a).then(function(){return{ok:!0}})})},b({ok:!0}))}function j(t,n,o){if("function"==typeof t._query)return m(t,n,o);if(N(t))return y(t,n,o);if("string"!=typeof n)return v(o,n),oa.add(function(){return Or(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then(function(e){return mr(k(e).then(function(){return C(e,o)}),function(){return e.db.destroy()})})}),oa.finish();var i=n,a=Tr(i),u=a[0],s=a[1];return t.get("_design/"+u).then(function(n){var a=n.views&&n.views[s];if(!a)throw new hr("ddoc "+n._id+" has no view named "+s);return r(n,s),v(o,a),Or(t,i,a.map,a.reduce,!1,e).then(function(e){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&(0,mo.default)(function(){k(e)}),C(e,o)):k(e).then(function(){return C(e,o)})})})}function M(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?h(t):{},"function"==typeof e&&(e={map:e});var o=Eo.resolve().then(function(){return j(r,e,t)});return vr(o,n),o}return{query:M,viewCleanup:yr(function(){var e=this;return"function"==typeof e._viewCleanup?g(e):N(e)?T(e):A(e)})}}("mrviews",Pr,Dr,Lr),sa={query:Ir,viewCleanup:Rr},ca=1,la="pouchdb",fa=5,da=0;Yr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Yr.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Hr(this.target,this.id,e,t,this.returnValue):Eo.resolve(!0)},Yr.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return this.readOnlySource?Eo.resolve(!0):Hr(this.src,this.id,e,t,this.returnValue).catch(function(e){if(Gr(e))return n.readOnlySource=!0,!0;throw e})}return Eo.resolve(!0)};var ha={undefined:function(e,t){return 0===Ye(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Vr(t,e).last_seq}};Yr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?Eo.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return da;var n;return n=t.version?t.version.toString():"undefined",n in ha?ha[n](t,e):da},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:da}).then(function(){return da},function(n){return Gr(n)?(e.readOnlySource=!0,t.last_seq):da});throw n})}).catch(function(e){if(404!==e.status)throw e;return da})};var pa=0;(0,vo.default)(Qr,ho.EventEmitter),Qr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Qr.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},(0,vo.default)(ro,ho.EventEmitter),ro.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Te.plugin(Oi).plugin(Vi).plugin(Qi).plugin(sa).plugin(oo),t.default=Te}).call(t,n(35))},function(e,t,n){function r(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:s,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,h=f-c+(d-l)/1e4;if(h<0&&void 0===e.clockseq&&(a=a+1&16383),(h<0||f>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=d,s=a,f+=122192928e5;var p=(1e4*(268435455&f)+d)%4294967296;o[r++]=p>>>24&255,o[r++]=p>>>16&255,o[r++]=p>>>8&255,o[r++]=255&p;var v=f/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var y=e.node||u,m=0;m<6;++m)o[r+m]=y[m];return t||i(o)}var o=n(400),i=n(401),a=o(),u=[1|a[0],a[1],a[2],a[3],a[4],a[5]],s=16383&(a[6]<<8|a[7]),c=0,l=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[r+u]=a[u];return t||i(a)}var o=n(400),i=n(401);e.exports=r},function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){v(function(){var r;try{r=t(n)}catch(t){return y.reject(e,t)}r===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&("object"===(void 0===e?"undefined":p(e))||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,y.reject(e,t))}function r(t){i||(i=!0,y.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:y.resolve(new this(r),e)}function f(e){var t=new this(r);return y.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,y.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,y.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,y.resolve(a,e))},function(e){o||(o=!0,y.reject(a,e))})}(e[i]);return a}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=n(158),y={},m=["REJECTED"],g=["FULFILLED"],b=["PENDING"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==b){a(n,this.state===g?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){y.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},y.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return y.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},y.reject=function(e,t){e.state=m,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=f,o.all=d,o.race=h},function(e,t,n){"use strict";(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"===("undefined"==typeof console?"undefined":c(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t=e.exports=n(970),t.log=a,t.formatArgs=i,t.save=u,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(137))},function(e,t,n){"use strict";function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(971),t.names=[],t.skips=[],t.formatters={};var c},function(e,t,n){"use strict";function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*f;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){return e>=f?Math.round(e/f)+"d":e>=l?Math.round(e/l)+"h":e>=c?Math.round(e/c)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function i(e){return a(e,f,"day")||a(e,l,"hour")||a(e,c,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=1e3,c=60*s,l=60*c,f=24*l,d=365.25*f;e.exports=function(e,t){t=t||{};var n=void 0===e?"undefined":u(e);if("string"===n&&e.length>0)return r(e);if("number"===n&&!1===isNaN(e))return t.long?i(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var a=t.pop();o[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,a,u,s,c,l,f,d,h="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",h+=o,i)h+=i;else if("object"!=typeof r)h+=void 0===r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)u=0===a?"":",",t.push({obj:r[a],prefix:u});t.push({val:"["})}else{s=[];for(c in r)r.hasOwnProperty(c)&&s.push(c);for(t.push({val:"}"}),a=s.length-1;a>=0;a--)l=s[a],f=r[l],d=a>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:f,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,o,i,a,u,s,c,l,f=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,f,d);break;case"t":h+=3,r(!0,f,d);break;case"f":h+=4,r(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}n+=o}r(parseFloat(n),f,d);break;case'"':for(i="",a=void 0,u=0;;){if('"'===(s=e[h++])&&("\\"!==a||u%2!=1))break;i+=s,a=s,"\\"===a?u++:u=0}r(JSON.parse('"'+i+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();r(f.pop(),f,d)}}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e=(0,pe.clone)(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function i(e,t,n){t=o(t),e.request({method:"POST",url:"_index",body:t},n)}function a(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function u(e,t,n){e.request({method:"POST",url:"_explain",body:t},n)}function s(e,t){e.request({method:"GET",url:"_index"},t)}function c(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var a="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},n)}function l(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function f(e){return l(function(t){var n=t.pop(),r=e.apply(this,t);return d(r,n),r})}function d(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t}function h(e){for(var t={},n=0,r=e.length;n<r;n++)t=(0,pe.assign)(t,e[n]);return t}function p(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=(0,me.parseField)(t[r]),a=(0,me.getFieldFromDoc)(e,i);void 0!==a&&(0,me.setFieldInDoc)(n,i,a)}return n}function v(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function y(e,t){return!(e.length>t.length)&&v(e,t)}function m(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0}function g(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}function b(e,t){for(var n=null,r=-1,o=0,i=e.length;o<i;o++){var a=e[o],u=t(a);u>r&&(r=u,n=a)}return n}function _(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function w(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}function x(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++){for(var a=(0,me.parseField)(e[o]),u=n,s=0,c=a.length;s<c;s++){if(!(u=u[a[s]]))return}r.push(u)}t(r)}}function k(e,t){var n=(0,me.parseField)(e);return function(e){for(var r=e,o=0,i=n.length;o<i;o++){if(!(r=r[n[o]]))return}t(r)}}function E(e,t){return function(n){t(n[e])}}function S(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++)r.push(n[e[o]]);t(r)}}function C(e){for(var t=0,n=e.length;t<n;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function O(e,t){var n=C(e),r=1===e.length;return n?r?E(e[0],t):S(e,t):r?k(e[0],t):x(e,t)}function T(e,t){return O(Object.keys(e.fields),t)}function A(){throw new Error("reduce not supported")}function j(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}function M(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function P(e){var t=[];return"string"==typeof e?t.push(e):t=e,t.map(function(e){return e.replace("_design/","")})}function D(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function L(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var o=(0,me.getKey)(t.def.fields[r]);n.push(e[o])}return n}function I(e,t,n){for(var r=n.def.fields,o=0,i=e.length;o<i;o++){var a=e[o],u=L(a.doc,n);if(1===r.length)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs((0,_e.collate)(u,t))>0)break}return o>0?e.slice(o):e}function R(e){var t=(0,pe.clone)(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function N(e){var t=e.fields.filter(function(e){return"asc"===(0,me.getValue)(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function F(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function B(e){if("object"!==he(e.selector))throw new Error("you must provide a selector when you find()")}function z(e,t){var n,r=Object.keys(e),o=t?t.map(me.getKey):[];return n=r.length>=o.length?r:o,0===o.length?{fields:n}:(n=n.sort(function(e,t){var n=o.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=o.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(me.getKey)})}function q(e,t){function n(){return a||(a=(0,we.stringMd5)(JSON.stringify(t)))}function r(e){return e._rev&&"query"!==e.language&&(l=!0),e.language="query",e.views=e.views||{},!(f=!!e.views[u])&&(e.views[u]={map:{fields:h(t.index.fields)},reduce:"_count",options:{def:i}},e)}t=o(t);var i=(0,pe.clone)(t.index);t.index=D(t.index),N(t.index);var a,u=t.name||"idx-"+n(),s=t.ddoc||"idx-"+n(),c="_design/"+s,l=!1,f=!1;return e.constructor.emit("debug",["find","creating index",c]),(0,pe.upsert)(e,c,r).then(function(){if(l)throw new Error('invalid language for ddoc with id "'+c+'" (should be "query")')}).then(function(){var t=s+"/"+u;return ke.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:c,name:u,result:f?"exists":"created"}})})}function U(e){return e.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=xe(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:D(n.options.def)}})})),t.indexes.sort(function(e,t){return(0,me.compare)(e.name,t.name)}),t.total_rows=t.indexes.length,t})}function H(e,t){for(var n=e.def.fields.map(me.getKey),r=0,o=n.length;r<o;r++){if(t===n[r])return!0}return!1}function Y(e,t){var n=e[t];return"$eq"!==(0,me.getKey)(n)}function V(e,t){var n=t.def.fields.map(me.getKey);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),(0,me.compare)(r,o)})}function W(e,t,n){n=V(n,e);for(var r=!1,o=0,i=n.length;o<i;o++){var a=n[o];if(r||!H(e,a))return n.slice(o);o<i-1&&Y(t,a)&&(r=!0)}return[]}function $(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function G(e,t,n,r){return V(w(xe(e,W(t,n,r),$(n))),t)}function J(e,t,n){if(t){var r=y(t,e),o=v(n,e);return r&&o}return m(n,e)}function K(e){return-1===Ce.indexOf(e)}function Z(e,t){var n=e[0],r=t[n];return void 0===r||!!Object.keys(r).some(function(e){return!K(e)})&&!(1===Object.keys(r).length&&"$ne"===(0,me.getKey)(r))}function X(e,t,n,r){var o=e.def.fields.map(me.getKey);return!!J(o,t,n)&&Z(o,r)}function Q(e,t,n,r){return r.reduce(function(r,o){return X(o,n,t,e)&&r.push(o),r},[])}function ee(e,t,n,r,o){function i(e){for(var t=e.def.fields.map(me.getKey),n=0,r=0,o=t.length;r<o;r++){var i=t[r];s[i]&&n++}return n}var a=Q(e,t,n,r);if(0===a.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var u=r[0];return u.defaultUsed=!0,u}if(1===a.length&&!o)return a[0];var s=g(t);if(o){var c="_design/"+o[0],l=2===o.length&&o[1],f=a.find(function(e){return!(!l||e.ddoc!==c||l!==e.name)||e.ddoc===c});if(!f)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return f}return b(a,i)}function te(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function ne(e,t){var n,r=(0,me.getKey)(t.def.fields[0]),o=e[r]||{},i=[],a=Object.keys(o);return a.forEach(function(e){if(K(e))return void i.push(r);var t=o[e],a=te(e,t);n=n?h([n,a]):a}),{queryOpts:n,inMemoryFields:i}}function re(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function oe(e,t){function n(e){!1!==r&&u.push(Ee),!1!==o&&s.push(Se),a=i.slice(e)}for(var r,o,i=t.def.fields.map(me.getKey),a=[],u=[],s=[],c=0,l=i.length;c<l;c++){var f=i[c],d=e[f];if(!d||!Object.keys(d).length){n(c);break}if(c>0){if(Object.keys(d).some(K)){n(c);break}var p="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,v=Object.keys(e[i[c-1]]),y=_(v,["$eq"]),m=_(v,Object.keys(d));if(p&&!y&&!m){n(c);break}}for(var g=Object.keys(d),b=null,w=0;w<g.length;w++){var x=g[w],k=d[x],E=re(x,k);b=b?h([b,E]):E}u.push("startkey"in b?b.startkey:Ee),s.push("endkey"in b?b.endkey:Se),"inclusive_start"in b&&(r=b.inclusive_start),"inclusive_end"in b&&(o=b.inclusive_end)}var S={startkey:u,endkey:s};return void 0!==r&&(S.inclusive_start=r),void 0!==o&&(S.inclusive_end=o),{queryOpts:S,inMemoryFields:a}}function ie(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function ae(e,t){return t.defaultUsed?ie(e,t):1===t.def.fields.length?ne(e,t):oe(e,t)}function ue(e,t){var n=e.selector,r=e.sort,o=z(n,r),i=o.fields,a=o.sortOrder,u=ee(n,i,a,t,e.use_index),s=ae(n,u);return{queryOpts:s.queryOpts,index:u,inMemoryFields:G(s.inMemoryFields,u,n,i)}}function se(e){return e.ddoc.substring(8)+"/"+e.name}function ce(e,t){var n=(0,pe.clone)(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e})}function le(e,t,n){return t.selector&&(t.selector=(0,me.massageSelector)(t.selector)),t.sort&&(t.sort=M(t.sort)),t.use_index&&(t.use_index=P(t.use_index)),B(t),U(e).then(function(r){e.constructor.emit("debug",["find","planning query",t]);var o=ue(t,r.indexes);e.constructor.emit("debug",["find","query plan",o]);var i=o.index;F(t,i);var a=(0,pe.assign)({include_docs:!0,reduce:!1},o.queryOpts);return"startkey"in a&&"endkey"in a&&(0,_e.collate)(a.startkey,a.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===(0,me.getValue)(t.sort[0])&&(a.descending=!0,a=R(a)),o.inMemoryFields.length||("limit"in t&&(a.limit=t.limit),"skip"in t&&(a.skip=t.skip)),n?ye.default.resolve(o,a):ye.default.resolve().then(function(){if("_all_docs"===i.name)return ce(e,a);var t=se(i);return ke.query.call(e,t,a)}).then(function(e){!1===a.inclusive_start&&(e.rows=I(e.rows,a.startkey,i)),o.inMemoryFields.length&&(e.rows=(0,me.filterInMemoryFields)(e.rows,t,o.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?p(n,t.fields):n})};return i.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}function fe(e,t){return le(e,t,!0).then(function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}function de(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[o]?{_id:r,_deleted:!0}:(delete e.views[o],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,o=t.name;return(0,pe.upsert)(e,r,n).then(function(){return ke.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe=n(160),ve=n(236),ye=r(ve),me=n(976),ge=n(977),be=r(ge),_e=n(238),we=n(405),xe=l(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];Array.isArray(o)?t=t.concat(xe.apply(null,o)):t.push(o)}return t}),ke=(0,be.default)("indexes",T,A,j),Ee=null,Se={"":{}},Ce=["$eq","$gt","$gte","$lt","$lte"],Oe=f(q),Te=f(le),Ae=f(fe),je=f(U),Me=f(de),Pe={};Pe.createIndex=(0,pe.toPromise)(function(e,t){if("object"!==(void 0===e?"undefined":he(e)))return t(new Error("you must provide an index to create"));((0,pe.isRemote)(this)?i:Oe)(this,e,t)}),Pe.find=(0,pe.toPromise)(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!==(void 0===e?"undefined":he(e)))return t(new Error("you must provide search parameters to find()"));((0,pe.isRemote)(this)?a:Te)(this,e,t)}),Pe.explain=(0,pe.toPromise)(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!==(void 0===e?"undefined":he(e)))return t(new Error("you must provide search parameters to explain()"));((0,pe.isRemote)(this)?u:Ae)(this,e,t)}),Pe.getIndexes=(0,pe.toPromise)(function(e){((0,pe.isRemote)(this)?s:je)(this,e)}),Pe.deleteIndex=(0,pe.toPromise)(function(e,t){if("object"!==(void 0===e?"undefined":he(e)))return t(new Error("you must provide an index to delete"));((0,pe.isRemote)(this)?c:Me)(this,e,t)}),t.default=Pe}).call(t,n(137))},function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,v.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,v.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}(e[i]);return a}var p=n(158),v={},y=["REJECTED"],m=["FULFILLED"],g=["PENDING"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===y)return this;var n=new this.constructor(r);if(this.state!==g){a(n,this.state===m?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=y,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=f,o.all=d,o.race=h},function(e,t,n){"use strict";function r(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function o(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=r.prototype,new n(t)}n.d(t,"b",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return o});var i=n(159);n.n(i)()(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var a=(new r(401,"unauthorized","Name or password is incorrect."),new r(400,"bad_request","Missing JSON list of 'docs'"),new r(404,"not_found","missing"),new r(409,"conflict","Document update conflict"),new r(400,"bad_request","_id field must contain a string")),u=new r(412,"missing_id","_id is required for puts"),s=new r(400,"bad_request","Only reserved document ids may start with underscore."),c=(new r(412,"precondition_failed","Database not open"),new r(500,"unknown_error","Database encountered an unknown error"),new r(500,"badarg","Some query argument is invalid"),new r(400,"invalid_request","Request was invalid"),new r(400,"query_parse_error","Some query parameter is invalid"),new r(500,"doc_validation","Bad special document member"),new r(400,"bad_request","Something wrong with the request"));new r(400,"bad_request","Document must be a JSON object"),new r(404,"not_found","Database not found"),new r(500,"indexed_db_went_bad","unknown"),new r(500,"web_sql_went_bad","unknown"),new r(500,"levelDB_went_went_bad","unknown"),new r(403,"forbidden","Forbidden by design doc validate_doc_update function"),new r(400,"bad_request","Invalid rev format"),new r(412,"file_exists","The database could not be created, the file already exists."),new r(412,"missing_stub","A pre-existing attachment stub wasn't found"),new r(413,"invalid_url","Provided URL is invalid")},function(e,t,n){"use strict";function r(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n}function o(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n}function i(e,t){return e<t?-1:e>t?1:0}function a(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t}function u(e){return D.indexOf(e)>-1}function s(e){return Object.keys(e)[0]}function c(e){return e[s(e)]}function l(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),u(n))r instanceof Array?t[n]=r.map(function(e){return l([e])}):t[n]=l([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?f(e,t,o):"$lt"===e||"$lte"===e?d(e,t,o):"$ne"===e?h(t,o):"$eq"===e?p(t,o):void(o[e]=t)})}})}),t}function f(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function d(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function h(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function p(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function v(e){var t=Object(M.clone)(e),n=!1;"$and"in t&&(t=l(t.$and),n=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],o=e[r];"object"==typeof o&&null!==o||(e[r]={$eq:o})}})}),"$not"in t&&(t.$not=l([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function y(e){function t(t){return e.map(function(e){var n=s(e),o=a(n);return r(t,o)})}return function(e,n){var r=t(e.doc),o=t(n.doc),a=Object(P.collate)(r,o);return 0!==a?a:i(e.doc._id,n.doc._id)}}function m(e,t,n){if(e=e.filter(function(e){return g(e.doc,t.selector,n)}),t.sort){var r=y(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===c(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function g(e,t,n){return n.every(function(n){var o=t[n],i=a(n),s=r(e,i);return u(n)?_(n,o,e):b(o,e,i,s)})}function b(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return w(o,t,i,n,r)})}function _(e,t,n){return"$or"===e?t.some(function(e){return g(n,e,Object.keys(e))}):"$not"===e?!g(n,t,Object.keys(t)):!t.find(function(e){return g(n,e,Object.keys(e))})}function w(e,t,n,r,o){if(!L[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return L[e](t,n,r,o)}function x(e){return void 0!==e&&null!==e}function k(e){return void 0!==e}function E(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function S(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function C(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function O(e,t){return e.length===t}function T(e,t){return new RegExp(t).test(e)}function A(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function j(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");t=v(t);var n={doc:e},r=m([n],{selector:t},Object.keys(t));return r&&1===r.length}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"massageSelector",function(){return v}),n.d(t,"matchesSelector",function(){return j}),n.d(t,"filterInMemoryFields",function(){return m}),n.d(t,"createFieldSorter",function(){return y}),n.d(t,"rowFilter",function(){return g}),n.d(t,"isCombinationalField",function(){return u}),n.d(t,"getKey",function(){return s}),n.d(t,"getValue",function(){return c}),n.d(t,"getFieldFromDoc",function(){return r}),n.d(t,"setFieldInDoc",function(){return o}),n.d(t,"compare",function(){return i}),n.d(t,"parseField",function(){return a});var M=n(160),P=n(238),D=["$or","$nor","$not"],L={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return g(e,t,Object.keys(t))}):r.some(function(r){return b(t,e,n,r)})))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every(function(e){return g(e,t,Object.keys(t))}):r.every(function(r){return b(t,e,n,r)})))},$eq:function(e,t,n,r){return k(r)&&0===Object(P.collate)(r,t)},$gte:function(e,t,n,r){return k(r)&&Object(P.collate)(r,t)>=0},$gt:function(e,t,n,r){return k(r)&&Object(P.collate)(r,t)>0},$lte:function(e,t,n,r){return k(r)&&Object(P.collate)(r,t)<=0},$lt:function(e,t,n,r){return k(r)&&Object(P.collate)(r,t)<0},$exists:function(e,t,n,r){return t?k(r):!k(r)},$mod:function(e,t,n,r){return x(r)&&E(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==Object(P.collate)(r,e)})},$in:function(e,t,n,r){return x(r)&&S(r,t)},$nin:function(e,t,n,r){return x(r)&&!S(r,t)},$size:function(e,t,n,r){return x(r)&&O(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&C(r,t)},$regex:function(e,t,n,r){return x(r)&&T(r,t)},$type:function(e,t,n,r){return A(r,t)}}},function(e,t,n){"use strict";function r(){this.promise=new f.default(function(e){e()})}function o(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function i(e,t){return o(e)+o(t)+"undefined"}function a(e,t,n,r,o,a){var u,s=i(n,r);if(!o&&(u=e._cachedViews=e._cachedViews||{},u[s]))return u[s];var c=e.info().then(function(i){function c(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e}var l=i.db_name+"-mrview-"+(o?"temp":Object(y.stringMd5)(s));return Object(h.upsert)(e,"_local/"+a,c).then(function(){return e.registerDependentDatabase(l).then(function(t){var o=t.db;o.auto_compaction=!0;var i={name:l,db:o,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,u&&i.db.once("destroyed",function(){delete u[s]}),i})})})});return u&&(u[s]=c),c}function u(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function s(e){return 1===e.length&&/^1-/.test(e[0].rev)}function c(e,t){try{e.emit("error",t)}catch(e){Object(h.guardedConsole)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Object(h.guardedConsole)("error",t)}}function l(e,t,n,o){function i(e,t,n){try{t(n)}catch(t){c(e,t)}}function l(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return c(e,t),{error:t}}}function y(e,t){var n=Object(v.collate)(e.key,t.key);return 0!==n?n:Object(v.collate)(e.value,t.value)}function w(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function x(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function k(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Object(p.a)(n.data,n.content_type)})})}function E(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&k(t),t}}function S(e,t,n,r){var o=t[e];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function C(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function O(e){return e.group_level=C(e.group_level),e.limit=C(e.limit),e.skip=C(e.skip),e}function T(e){if(e){if("number"!=typeof e)return new m.c('Invalid value for integer: "'+e+'"');if(e<0)return new m.c('Invalid value for positive integer: "'+e+'"')}}function A(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&Object(v.collate)(e[n],e[r])>0)throw new m.c("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new m.c("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new m.c("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=T(e[t]);if(n)throw n})}function j(e,t,n){var r,o=[],i="GET";if(S("reduce",n,o),S("include_docs",n,o),S("attachments",n,o),S("limit",n,o),S("descending",n,o),S("group",n,o),S("group_level",n,o),S("skip",n,o),S("stale",n,o),S("conflicts",n,o),S("startkey",n,o,!0),S("start_key",n,o,!0),S("endkey",n,o,!0),S("end_key",n,o,!0),S("inclusive_end",n,o),S("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var s=u(t);return e.request({method:i,url:"_design/"+s[0]+"/_view/"+s[1]+o,body:r}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(E(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(E(n))}function M(e,t,n){return new f.default(function(r,o){e._query(t,n,function(e,t){if(e)return o(e);r(t)})})}function P(e){return new f.default(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}function D(e){return function(t){if(404===t.status)return e;throw t}}function L(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):f.default.resolve({rows:[]})}function o(e,t){for(var n=[],r=new d.b,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!c.has(u._id),!u._deleted)){var s=c.get(u._id);"value"in s&&(u.value=s.value)}}var l=Object(m.f)(c);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=c.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=Object(m.i)(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},u=n.get(e),c=u[0],l=u[1];return function(){return s(l)?f.default.resolve(a):t.db.get(i).catch(D(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function I(e,t,n){return e.db.get("_local/lastSeq").catch(D({_id:"_local/lastSeq",seq:0})).then(function(r){var o=Object(m.f)(t);return f.default.all(o.map(function(n){return L(n,e,t)})).then(function(t){var o=Object(h.flatten)(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function R(e){var t="string"==typeof e?e:e.name,n=g[t];return n||(n=g[t]=new r),n}function N(e){return Object(m.h)(R(e),function(){return F(e)})()}function F(e){function n(e,t){var n={id:f._id,key:Object(v.normalizeKey)(e)};void 0!==t&&null!==t&&(n.value=Object(v.normalizeKey)(t)),l.push(n)}function o(t,n){return function(){return I(e,t,n)}}function a(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:p,limit:_}).then(u)}function u(e){var t=e.results;if(t.length){var n=s(t);if(m.add(o(n,p)),!(t.length<_))return a()}}function s(t){for(var n=new d.a,r=0,o=t.length;r<o;r++){var a=t[r];if("_"!==a.doc._id[0]){l=[],f=a.doc,f._deleted||i(e.sourceDB,h,f),l.sort(y);var u=c(l);n.set(a.doc._id,[u,a.changes])}p=a.seq}return n}function c(e){for(var t,n=new d.a,r=0,o=e.length;r<o;r++){var i=e[r],a=[i.key,i.id];r>0&&0===Object(v.collate)(i.key,t)&&a.push(r),n.set(Object(v.toIndexableString)(a),i),t=i.key}return n}var l,f,h=t(e.mapFun,n),p=e.seq||0,m=new r;return a().then(function(){return m.finish()}).then(function(){e.seq=p})}function B(e,t,r){0===r.group_level&&delete r.group_level;var o=r.group||r.group_level,i=n(e.reduceFun),a=[],u=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=a[a.length-1],n=o?e.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===Object(v.collate)(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var s=0,c=a.length;s<c;s++){var f=a[s],d=l(e.sourceDB,i,f.keys,f.values,!1);if(d.error&&d.error instanceof m.a)throw d.error;t.push({value:d.error?null:d.output,key:f.groupKey})}return{rows:w(t,r.limit,r.skip)}}function z(e,t){return Object(m.h)(R(e),function(){return q(e,t)})()}function q(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Object(v.parseIndexableString)(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?B(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=Object(m.i)(n.map(x));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new d.a;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=x(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var u=t.keys,s=u.map(function(e){return n({startkey:Object(v.toIndexableString)([e]),endkey:Object(v.toIndexableString)([e,{}])})});return f.default.all(s).then(h.flatten).then(r)}var c,l,p={descending:t.descending};if("start_key"in t&&(c=t.start_key),"startkey"in t&&(c=t.startkey),"end_key"in t&&(l=t.end_key),"endkey"in t&&(l=t.endkey),void 0!==c&&(p.startkey=t.descending?Object(v.toIndexableString)([c,{}]):Object(v.toIndexableString)([c])),void 0!==l){var y=!1!==t.inclusive_end;t.descending&&(y=!y),p.endkey=Object(v.toIndexableString)(y?[l,{}]:[l])}if(void 0!==t.key){var g=Object(v.toIndexableString)([t.key]),b=Object(v.toIndexableString)([t.key,{}]);p.descending?(p.endkey=g,p.startkey=b):(p.startkey=g,p.endkey=b)}return i||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=a),n(p).then(r)}function U(e){return e.request({method:"POST",url:"_view_cleanup"})}function H(t){return t.get("_local/"+e).then(function(e){var n=new d.a;Object.keys(e.views).forEach(function(e){var t=u(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new d.b,n.set(r,i)),i.add(o)});var r={keys:Object(m.f)(n),include_docs:!0};return t.allDocs(r).then(function(r){var o={};r.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var a=Object.keys(e.views[i]),u=t.doc&&t.doc.views&&t.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(e){return Object(m.h)(R(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return f.default.all(a).then(function(){return{ok:!0}})})},D({ok:!0}))}function Y(t,n,r){if("function"==typeof t._query)return M(t,n,r);if(Object(h.isRemote)(t))return j(t,n,r);if("string"!=typeof n)return A(r,n),b.add(function(){return a(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then(function(e){return Object(m.e)(N(e).then(function(){return z(e,r)}),function(){return e.db.destroy()})})}),b.finish();var i=n,s=u(i),c=s[0],l=s[1];return t.get("_design/"+c).then(function(n){var u=n.views&&n.views[l];if(!u)throw new m.b("ddoc "+n._id+" has no view named "+l);return o(n,l),A(r,u),a(t,i,u.map,u.reduce,!1,e).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&Object(h.nextTick)(function(){N(e)}),z(e,r)):N(e).then(function(){return z(e,r)})})})}function V(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?O(t):{},"function"==typeof e&&(e={map:e});var o=f.default.resolve().then(function(){return Y(r,e,t)});return Object(m.g)(o,n),o}return{query:V,viewCleanup:Object(m.d)(function(){var e=this;return"function"==typeof e._viewCleanup?P(e):Object(h.isRemote)(e)?U(e):H(e)})}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(236),d=n(237),h=n(160),p=n(404),v=n(238),y=n(405),m=n(978);r.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise};var g={},b=new r,_=50;t.default=l},function(e,t,n){"use strict";function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(e){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function i(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,i)}catch(e){}}function a(e,t){return t&&e.then(function(e){Object(v.nextTick)(function(){t(null,e)})},function(e){Object(v.nextTick)(function(){t(e)})}),e}function u(e){return p()(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&a(r,n),r})}function s(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function c(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function l(e){var t=new d.b(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function f(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}n.d(t,"i",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"g",function(){return a}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var d=n(237),h=n(235),p=n.n(h),v=n(160),y=n(159),m=n.n(y);m()(r,Error),m()(o,Error),m()(i,Error)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return void 0!==window.cordova&&void 0!==window.cordova.InAppBrowser};t.authenticateWithCordova=function(e){return r()?new Promise(function(t,n){var r=window.cordova.InAppBrowser.open(e,"_blank","clearcache=yes,zoom=no"),o=function(){r.removeEventListener("loadstart",i),r.removeEventListener("exit",a)},i=function(e){var n=e.url,i=/\?access_code=(.+)$/.test(n),a=/\?state=(.+)$/.test(n);(i||a)&&(t(n),o(),r.close())},a=function(){n(new Error("REGISTRATION_ABORT")),o(),r.close()};r.addEventListener("loadstart",i),r.addEventListener("exit",a)}):(console.log(e),new Promise(function(e){setTimeout(function(){var t=prompt("Paste the url here:");e(t)},1e4)}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(23),f=n(5),d=r(f),h=n(15),p=n(234),v=d.default.shape({subscribe:d.default.func.isRequired,dispatch:d.default.func.isRequired,getState:d.default.func.isRequired}),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){var r=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchActions,t=this.context.store.dispatch;for(var n in e)t(e[n])}},{key:"render",value:function(){var e=this.context,t=e.t,r=e.f,o=e.client,i=e.store,a=this.props.fetchActions,u=Object.assign({t:t,f:r,client:o},this.props,(0,h.enhancePropsForActions)(this.props,a,i.dispatch));return c.default.createElement(n,u)}}]),t}(s.Component);r.contextTypes={store:v.isRequired};var f=function(t,n){var r=e(n),o=function(e){return e&&e.types&&e.promise},i=(0,p.filterValues)(r,function(e){return o(e)}),a=(0,p.filterValues)(r,function(e){return!o(e)});return function(e){return Object.assign({},(0,p.mapValues)(i,function(t){return o(t)?(0,h.applySelectorForAction)(e,t):t}),{fetchActions:i},a)}};return(0,l.connect)(f,t)(r)}};t.default=y},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(240),a=function(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(u){var s=u.promise,c=u.type,l=u.types,f=u.dependencies,d=r(u,["promise","type","types","dependencies"]);if(!s)return t(u);if(!c&&!l)return s(e,n,a).then(function(e){return n(e)});if(c)return s(e,n,a).then(function(e){return t(Object.assign({},d,{response:e,type:c})),e});var h=o(l,3),p=h[0],v=h[1],y=h[2];t(Object.assign({},d,{type:p}));var m=[];return f&&f.forEach(function(e){"pending"===(0,i.applySelectorForAction)(a(),e).fetchStatus&&m.push(n(e))}),Promise.all(m).then(function(){return s(e,n,a)}).then(function(e){return t(Object.assign({},d,{response:e,type:v})),e},function(e){console.log(e),t(Object.assign({},d,{error:e,type:y}))}).catch(function(e){console.error("MIDDLEWARE ERROR:",e),t(Object.assign({},d,{error:e,type:y}))})}}}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return function(t,n){return i.default.createElement(e,r({},t,{client:n.client}))}};t.default=a},function(e,t,n){"use strict";(function(e){function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.queryAll=t.deleteAll=void 0;var o=n(19),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return{_id:e._id,_rev:e._rev,_deleted:!0}};t.deleteAll=function(){var t=r(i.default.mark(function t(n,r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchJSON("POST","/data/"+n+"/_bulk_docs",{docs:r.map(a)}));case 1:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}(),t.queryAll=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,o){var i=[],a=n.skip||0,u=function(){return e.data.query(t,Object.assign({},n,{wholeResponse:!0,skip:a})).then(s).catch(o)},s=function(e){var t=e.docs;a+=t.length,i.push.apply(i,t),e.next?u():r(i)};u()})}}).call(t,n(27))},function(e,t,n){function r(e){return i(o(e).toLowerCase())}var o=n(215),i=n(985);e.exports=r},function(e,t,n){var r=n(986),o=r("toUpperCase");e.exports=o},function(e,t,n){function r(e){return function(t){t=u(t);var n=i(t)?a(t):void 0,r=n?n[0]:t.charAt(0),s=n?o(n,1).join(""):t.slice(1);return r[e]()+s}}var o=n(987),i=n(412),a=n(988),u=n(215);e.exports=r},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:o(e,t,n)}var o=n(397);e.exports=r},function(e,t,n){function r(e){return i(e)?a(e):o(e)}var o=n(989),i=n(412),a=n(990);e.exports=r},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e){return e.match(f)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",s="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",i,a].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*",c="[\\ufe0e\\ufe0f]?"+u+s,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,i,a,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(o+"(?="+o+")|"+l+c,"g");e.exports=n},function(e,t){e.exports=cozy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(993),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){return Object.keys(o.default.permissions).map(function(e){return o.default.permissions[e].type})};t.default=i},function(e,t){e.exports={name:"Banks",slug:"banks",icon:"icon-banks.svg",description:"The banking application for Cozy",category:"cozy",version:"0.4.0",licence:"AGPL-3.0",source:"git://gitlab.cozycloud.cc/labs/cozy-bank.git",developer:{name:"Cozy",url:"https://cozy.io"},default_locale:"en",locales:{en:{name:"Banks",short_description:"The banking application for Cozy.",long_description:"Banks allows you to monitor your banking transactions in your cozy.",changes:""},fr:{name:"Banks",short_description:"L'application bancaire pour Cozy.",long_description:"Banks vous permet de visualiser trs facilement vos oprations bancaires directement dans votre Cozy.",changes:""}},langs:["en","fr"],platforms:[{type:"ios",url:"#"},{type:"android",url:"#"}],editor:"Cozy",screenshots:["screenshot1.png"],tags:["bank","banks","money","account"],routes:{"/":{folder:"/",index:"index.html",public:!1}},services:{notifications:{type:"node",file:"notifications.js",trigger:"@event io.cozy.bank.operations:CREATED",debounce:"3m"}},permissions:{"bank.groups":{description:"Manage groups of bank accounts",type:"io.cozy.bank.groups",verbs:["GET","POST","PUT","DELETE"]},"bank.accounts":{description:"Used to list your bank accounts",type:"io.cozy.bank.accounts",verbs:["GET","POST","PUT","DELETE"]},"bank.operations":{description:"Used to manage your bank operations",type:"io.cozy.bank.operations",verbs:["GET","POST","PUT"]},bills:{description:"Manage bills",type:"io.cozy.bills",verbs:["GET","POST","PUT","DELETE"]},notifications:{description:"Used to send notifications",type:"io.cozy.notifications",verbs:["POST"]},apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},"bank.settings":{description:"Used to manage your bank settings",type:"io.cozy.bank.settings",verbs:["GET","POST","PUT"]},settings:{description:"Required by the cozy-bar to display Claudy and know which applications are coming soon",type:"io.cozy.settings",verbs:["GET"]}}}},function(e,t,n){e.exports=n.p+"icon-banks.80cf12655e5103cc838cae2033497ca6.svg"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComingSoon=void 0;var o=n(2),i=r(o),a=n(24),u=n(1022),s=r(u),c=n(430),l=n(168),f=n(171),d=n(1203),h=r(d),p=n(1205),v=n(1220),y=t.ComingSoon=function(){return i.default.createElement("p",{style:"margin-left: 2em"},"Coming soon!")},m=i.default.createElement(a.Route,{component:v.EnsureIsFirstSynced},i.default.createElement(a.Route,{component:v.EnsureHasAccounts},i.default.createElement(a.Route,{component:s.default},i.default.createElement(a.Redirect,{from:"/",to:"balances"}),i.default.createElement(a.Route,{path:"balances",component:p.Balance}),i.default.createElement(a.Route,{path:"transactions",component:c.TransactionsPage}),i.default.createElement(a.Route,{path:"categories"},i.default.createElement(a.IndexRoute,{component:l.CategoriesPage}),i.default.createElement(a.Route,{path:":categoryName/:subcategoryName",component:c.TransactionsPage}),i.default.createElement(a.Route,{path:":categoryName",component:l.CategoriesPage})),i.default.createElement(a.Route,{path:"projections",component:y}),i.default.createElement(a.Route,{path:"savings",component:y}),i.default.createElement(a.Route,{path:"settings"},i.default.createElement(a.Route,{path:"groups/new",component:f.NewGroupSettings}),i.default.createElement(a.Route,{path:"groups/:groupId",component:f.GroupSettings}),i.default.createElement(a.Route,{path:"accounts/:accountId",component:f.AccountSettings}),i.default.createElement(a.Route,{component:f.Settings},i.default.createElement(a.IndexRoute,{component:h.default}),i.default.createElement(a.Route,{path:"accounts",component:f.AccountsSettings}),i.default.createElement(a.Route,{path:"groups",component:f.GroupsSettings}),i.default.createElement(a.Route,{path:"notifications",component:h.default}))),i.default.createElement(a.Redirect,{from:"*",to:"/transactions"}))));t.default=m},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n(26),i=n.n(o),a=n(2),u=n(53),s=n.n(u),c=n(5),l=(n.n(c),n(413)),f=n(117),d=n(242),h=n(60),p=n(415),v=(n(99),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),y={history:c.object,children:f.d,routes:f.d,render:c.func,createElement:c.func,onError:c.func,onUpdate:c.func,matchContext:c.object},m=s()({displayName:"Router",propTypes:y,getDefaultProps:function(){return{render:function(e){return a.default.createElement(d.a,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return Object(p.b)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,o=n.children;return t.getCurrentLocation||i()(!1),Object(l.a)(t,Object(h.b)(r||o))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):(Object(p.a)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function(){var e=this.state,t=e.location,n=e.routes,o=e.params,i=e.components,a=this.props,u=a.createElement,s=a.render,c=r(a,["createElement","render"]);return null==t?null:(Object.keys(y).forEach(function(e){return delete c[e]}),s(v({},c,{router:this.router,location:t,routes:n,params:o,components:i,createElement:u})))}});t.a=m},function(e,t,n){"use strict";function r(e,t,n){return!!e.path&&Object(i.b)(e.path).some(function(e){return t.params[e]!==n.params[e]})}function o(e,t){var n=e&&e.routes,o=t.routes,i=void 0,a=void 0,u=void 0;if(n){var s=!1;i=n.filter(function(n){if(s)return!0;var i=-1===o.indexOf(n)||r(n,e,t);return i&&(s=!0),i}),i.reverse(),u=[],a=[],o.forEach(function(e){var t=-1===n.indexOf(e),r=-1!==i.indexOf(e);t||r?u.push(e):a.push(e)})}else i=[],a=[],u=o;return{leaveRoutes:i,changeRoutes:a,enterRoutes:u}}var i=n(100);t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){function e(e,t,n,r){var o=e.length<n,i=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(e.apply(t,r),o){(0,r[r.length-1])()}};return r.add(i),i}function t(t){return t.reduce(function(t,n){return n.onEnter&&t.push(e(n.onEnter,n,3,c)),t},[])}function n(t){return t.reduce(function(t,n){return n.onChange&&t.push(e(n.onChange,n,4,l)),t},[])}function r(e,t,n){function r(e){o=e}if(!e)return void n();var o=void 0;Object(i.a)(e,function(e,n,i){t(e,r,function(e){e||o?i(e,o):n()})},n)}function o(e,n,o){c.clear();var i=t(e);return r(i.length,function(e,t,r){var o=function(){c.has(i[e])&&(r.apply(void 0,arguments),c.remove(i[e]))};i[e](n,t,o)},o)}function u(e,t,o,i){l.clear();var a=n(e);return r(a.length,function(e,n,r){var i=function(){l.has(a[e])&&(r.apply(void 0,arguments),l.remove(a[e]))};a[e](t,o,n,i)},i)}function s(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}var c=new a,l=new a;return{runEnterHooks:o,runChangeHooks:u,runLeaveHooks:s}}t.a=o;var i=n(241),a=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return-1!==t.hooks.indexOf(e)},this.clear=function(){return t.hooks=[]}}},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===(void 0===e?"undefined":c(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function o(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function i(e,t,n){for(var r=e,o=[],i=[],a=0,u=t.length;a<u;++a){var c=t[a],l=c.path||"";if("/"===l.charAt(0)&&(r=e,o=[],i=[]),null!==r&&l){var f=Object(s.c)(l,r);if(f?(r=f.remainingPathname,o=[].concat(o,f.paramNames),i=[].concat(i,f.paramValues)):r=null,""===r)return o.every(function(e,t){return String(i[t])===String(n[e])})}}return!1}function a(e,t){return null==t?null==e:null==e||r(e,t)}function u(e,t,n,r,u){var s=e.pathname,c=e.query;return null!=n&&("/"!==s.charAt(0)&&(s="/"+s),!!(o(s,n.pathname)||!t&&i(s,r,u))&&a(c,n.query))}t.a=u;var s=n(100),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var o=r.call(t,e,n);Object(a.a)(o)&&o.then(function(e){return n(null,e)},n)}else n()}function o(e,t){Object(i.b)(e.routes,function(t,n,o){r(e,t,o)},t)}var i=n(241),a=n(414);t.a=o},function(e,t,n){"use strict";function r(e,t,n,r,o){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var i=!0,u=void 0,s={location:t,params:a(n,r)},c=e.getChildRoutes(s,function(e,t){if(t=!e&&Object(d.b)(t),i)return void(u=[e,t]);o(e,t)});return Object(l.a)(c)&&c.then(function(e){return o(null,Object(d.b)(e))},o),i=!1,u}function o(e,t,n,i,u){if(e.indexRoute)u(null,e.indexRoute);else if(e.getIndexRoute){var s={location:t,params:a(n,i)},f=e.getIndexRoute(s,function(e,t){u(e,!e&&Object(d.b)(t)[0])});Object(l.a)(f)&&f.then(function(e){return u(null,Object(d.b)(e)[0])},u)}else if(e.childRoutes||e.getChildRoutes){var h=function(e,r){if(e)return void u(e);var a=r.filter(function(e){return!e.path});Object(c.a)(a.length,function(e,r,u){o(a[e],t,n,i,function(t,n){if(t||n){var o=[a[e]].concat(Array.isArray(n)?n:[n]);u(t,o)}else r()})},function(e,t){u(null,t)})},p=r(e,t,n,i,h);p&&h.apply(void 0,p)}else u()}function i(e,t,n){return t.reduce(function(e,t,r){var o=n&&n[r];return Array.isArray(e[t])?e[t].push(o):e[t]=t in e?[e[t],o]:o,e},e)}function a(e,t){return i({},e,t)}function u(e,t,n,i,u,c){var l=e.path||"";if("/"===l.charAt(0)&&(n=t.pathname,i=[],u=[]),null!==n&&l){try{var d=Object(f.c)(l,n);d?(n=d.remainingPathname,i=[].concat(i,d.paramNames),u=[].concat(u,d.paramValues)):n=null}catch(e){c(e)}if(""===n){var h={routes:[e],params:a(i,u)};return void o(e,t,i,u,function(e,t){if(e)c(e);else{if(Array.isArray(t)){var n;(n=h.routes).push.apply(n,t)}else t&&h.routes.push(t);c(null,h)}})}}if(null!=n||e.childRoutes){var p=function(r,o){r?c(r):o?s(o,t,function(t,n){t?c(t):n?(n.routes.unshift(e),c(null,n)):c()},n,i,u):c()},v=r(e,t,i,u,p);v&&p.apply(void 0,v)}else c()}function s(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=h({},t,{pathname:"/"+t.pathname})),r=t.pathname),Object(c.a)(e.length,function(n,a,s){u(e[n],t,r,o,i,function(e,t){e||t?s(e,t):a()})},n)}t.a=s;var c=n(241),l=n(414),f=n(100),d=(n(99),n(60)),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?(Object(o.b)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}var o=n(100);t.a=r},function(e,t,n){"use strict";var r=n(2),o=n(53),i=n.n(o),a=n(416),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=i()({displayName:"IndexLink",render:function(){return r.default.createElement(a.a,u({},this.props,{onlyActiveOnIndex:!0}))}});t.a=s},function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}function o(e,t){var n=t&&t.withRef,o=c()({displayName:"WithRouter",mixins:[Object(d.b)("router")],contextTypes:{router:h.b},propTypes:{router:h.b},getWrappedInstance:function(){return n||a()(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router;if(!r)return u.default.createElement(e,this.props);var o=r.params,i=r.location,a=r.routes,s=p({},this.props,{router:r,params:o,location:i,routes:a});return n&&(s.ref=function(e){t.wrappedInstance=e}),u.default.createElement(e,s)}});return o.displayName="withRouter("+r(e)+")",o.WrappedComponent=e,f()(o,e)}t.a=o;var i=n(26),a=n.n(i),u=n(2),s=n(53),c=n.n(s),l=n(1005),f=n.n(l),d=n(243),h=n(244),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var u=0;u<a.length;++u)if(!(r[a[u]]||o[a[u]]||n&&n[a[u]]))try{e[a[u]]=t[a[u]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=n(53),o=n.n(r),i=n(5),a=(n.n(i),n(99),n(26)),u=n.n(a),s=n(417),c=n(117),l=o()({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=s.a.createRouteFromReactElement(e))}},propTypes:{to:i.string.isRequired,query:i.object,state:i.object,onEnter:c.c,children:c.c},render:function(){u()(!1)}});t.a=l},function(e,t,n){"use strict";var r=n(53),o=n.n(r),i=n(5),a=(n.n(i),n(99),n(26)),u=n.n(a),s=n(60),c=n(117),l=o()({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=Object(s.a)(e))}},propTypes:{path:c.c,component:c.a,components:c.b,getComponent:i.func,getComponents:i.func},render:function(){u()(!1)}});t.a=l},function(e,t,n){"use strict";var r=n(53),o=n.n(r),i=n(5),a=(n.n(i),n(26)),u=n.n(a),s=n(60),c=n(117),l=o()({displayName:"Route",statics:{createRouteFromReactElement:s.a},propTypes:{path:i.string,component:c.a,components:c.b,getComponent:i.func,getComponents:i.func},render:function(){u()(!1)}});t.a=l},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){var n=e.history,o=e.routes,a=e.location,h=r(e,["history","routes","location"]);n||a||u()(!1),n=n||Object(s.a)(h);var p=Object(c.a)(n,Object(l.b)(o));a=a?n.createLocation(a):n.getCurrentLocation(),p.match(a,function(e,r,o){var a=void 0;if(o){var u=Object(f.b)(n,p,o);a=d({},o,{router:u,matchContext:{transitionManager:p,router:u}})}t(e,r&&n.createLocation(r,i.REPLACE),a)})}var i=n(161),a=(n.n(i),n(26)),u=n.n(a),s=n(418),c=n(413),l=n(60),f=n(415),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=o},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function i(e,t){return t.encode?t.strict?u(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var u=n(1011),s=n(1012);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=s({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=s({encode:!0,strict:!0,arrayFormat:"none"},t);var n=r(t);return e?Object.keys(e).sort().map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return i(r,t);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(e){void 0!==e&&a.push(n(r,e,a.length))}),a.join("&")}return i(r,t)+"="+i(o,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,u,s=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(o){u=o(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(50),a=(r(i),n(26)),u=r(a),s=n(101),c=n(61),l=n(246),f=r(l),d=n(161),h=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=v[y],t=(0,c.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=b(n));var i=(0,c.parsePath)(t);return(0,s.createLocation)(o({},i,{state:r}),void 0,n)},n=function(e){var t=y+e;return t>=0&&t<v.length},r=function(e){if(e&&n(e)){y+=e;var r=t();l.transitionTo(o({},r,{action:d.POP}))}},i=function(e){y+=1,y<v.length&&v.splice(y),v.push(e),g(e.key,e.state)},a=function(e){v[y]=e,g(e.key,e.state)},l=(0,f.default)(o({},e,{getCurrentLocation:t,pushLocation:i,replaceLocation:a,go:r})),p=e,v=p.entries,y=p.current;"string"==typeof v?v=[v]:Array.isArray(v)||(v=["/"]),v=v.map(function(e){return(0,s.createLocation)(e)}),null==y?y=v.length-1:y>=0&&y<v.length||(0,u.default)(!1);var m=h(v),g=function(e,t){return m[e]=t},b=function(e){return m[e]};return o({},l,{canGo:n})};t.default=p},function(e,t,n){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,o=!1,i=!1,a=!1,u=void 0,s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(o=!0,i)return void(u=t);n.apply(void 0,t)};!function c(){if(!o&&(a=!0,!i)){for(i=!0;!o&&r<e&&a;)a=!1,t(r++,c,s);if(i=!1,o)return void n.apply(void 0,u);r>=e&&a&&(o=!0,n())}}()}},function(e,t,n){"use strict";var r=n(2),o=n(242),i=(n(99),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.map(function(e){return e.renderRouterContext}).filter(Boolean),u=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.createElement;return function(t,n){return u.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return a.reduceRight(function(t,n){return n(t,e)},r.default.createElement(o.a,i({},e,{createElement:s(e.createElement)})))}}},function(e,t,n){"use strict";var r=n(1017),o=n.n(r),i=n(423);t.a=Object(i.a)(o.a)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),u=o(a),s=n(247),c=n(248),l=r(c),f=n(1018),d=r(f),h=n(162),p=n(246),v=o(p),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.canUseDOM||(0,u.default)(!1);var t=e.forceRefresh||!(0,h.supportsHistory)(),n=t?d:l,r=n.getUserConfirmation,o=n.getCurrentLocation,a=n.pushLocation,c=n.replaceLocation,f=n.go,p=(0,v.default)(i({getUserConfirmation:r},e,{getCurrentLocation:o,pushLocation:a,replaceLocation:c,go:f})),y=0,m=void 0,g=function(e,t){1==++y&&(m=l.startListener(p.transitionTo));var n=t?p.listenBefore(e):p.listen(e);return function(){n(),0==--y&&m()}};return i({},p,{listenBefore:function(e){return g(e,!0)},listen:function(e){return g(e,!1)}})};t.default=y},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(248);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var o=n(101),i=n(61);t.getCurrentLocation=function(){return(0,o.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,i.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,i.createPath)(e)),!1}},function(e,t,n){"use strict";var r=n(1020),o=n.n(r),i=n(423);t.a=Object(i.a)(o.a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(50),a=(r(i),n(26)),u=r(a),s=n(247),c=n(162),l=n(1021),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),d=n(246),h=r(d),p=function(e){return"/"===e.charAt(0)?e:"/"+e},v={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:p},slash:{encodePath:p,decodePath:p}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.canUseDOM||(0,u.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t="_k"),null==n&&(n="slash"),n in v||(n="slash");var r=v[n],i=f.getUserConfirmation,a=function(){return f.getCurrentLocation(r,t)},l=function(e){return f.pushLocation(e,r,t)},d=function(e){return f.replaceLocation(e,r,t)},p=(0,h.default)(o({getUserConfirmation:i},e,{getCurrentLocation:a,pushLocation:l,replaceLocation:d,go:f.go})),y=0,m=void 0,g=function(e,n){1==++y&&(m=f.startListener(p.transitionTo,r,t));var o=n?p.listenBefore(e):p.listen(e);return function(){o(),0==--y&&m()}},b=function(e){return g(e,!0)},_=function(e){return g(e,!1)};(0,c.supportsGoWithoutReloadUsingHash)();return o({},p,{listenBefore:b,listen:_,go:function(e){p.go(e)},createHref:function(e){return"#"+r.encodePath(p.createHref(e))}})};t.default=y},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(248);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var o=n(50),i=(function(e){e&&e.__esModule}(o),n(101)),a=n(162),u=n(422),s=n(61),c=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},l=function(e){return window.location.hash=e},f=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},d=t.getCurrentLocation=function(e,t){var n=e.decodePath(c()),r=(0,s.getQueryStringValueFromPath)(n,t),o=void 0;r&&(n=(0,s.stripQueryStringValueFromPath)(n,t),o=(0,u.readState)(r));var a=(0,s.parsePath)(n);return a.state=o,(0,i.createLocation)(a,void 0,r)},h=void 0,p=(t.startListener=function(e,t,n){var r=function(){var r=c(),o=t.encodePath(r);if(r!==o)f(o);else{var i=d(t,n);if(h&&i.key&&h.key===i.key)return;h=i,e(i)}},o=c(),i=t.encodePath(o);return o!==i&&f(i),(0,a.addEventListener)(window,"hashchange",r),function(){return(0,a.removeEventListener)(window,"hashchange",r)}},function(e,t,n,r){var o=e.state,i=e.key,a=t.encodePath((0,s.createPath)(e));void 0!==o&&(a=(0,s.addQueryStringValueToPath)(a,n,i),(0,u.saveState)(i,o)),h=e,r(a)});t.pushLocation=function(e,t,n){return p(e,t,n,function(e){c()!==e&&l(e)})},t.replaceLocation=function(e,t,n){return p(e,t,n,function(e){c()!==e&&f(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(1023),u=r(a);n(1024);var s=n(424),c=n(14),l=n(1058),f=n(1068),d=r(f),h=n(1073);r(h);t.default=function(e){var t=e.children;return i.default.createElement(s.Layout,null,null,i.default.createElement(c.Sidebar,null,i.default.createElement(l.AccountSwitch,null),i.default.createElement(d.default,null)),i.default.createElement(s.Content,null,t),i.default.createElement(u.default,null))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var a,u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=function(e){return e&&e.__esModule?e:{default:e}}(c),f=(u=a=function(e){function t(){var n,i,a;r(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(s))),i.state={target:null,content:null,cls:null,at:"top",top:0,left:0},i.findHint=function(e){for(;e&&e!==document;){if(e.hasAttribute("data-rh"))return e;if(e===i._hint)return i.state.target;e=e.parentNode}return null},i.getHintData=function(e){var t=i,n=t._container,r=t._hint,o=e.getAttribute("data-rh"),a=e.getAttribute("data-rh-cls"),u=e.getAttribute("data-rh-at")||"top",s=n.getBoundingClientRect(),c=s.top,l=s.left,f=r.getBoundingClientRect(),d=f.width,h=f.height,p=e.getBoundingClientRect(),v=p.top,y=p.left,m=p.width,g=p.height,b=void 0,_=void 0;switch(u){case"left":b=g-h>>1,_=-d;break;case"right":b=g-h>>1,_=m;break;case"bottom":b=g,_=m-d>>1;break;case"top":default:b=-h,_=m-d>>1}return{content:o,cls:a,at:u,top:b+v-c,left:_+y-l}},i.onHover=function(e){var t=e.target;clearTimeout(i.timeout),i.timeout=setTimeout(function(){t=i.findHint(t),i.setState({target:t})},100)},i.setRef=function(e,t){return i[e]=t},i.renderContent=function(e){if(e&&"#"===e[0]){var t=document.getElementById(e.slice(1));if(t)return l.default.createElement("span",{dangerouslySetInnerHTML:{__html:t.innerHTML}})}return e},a=n,o(i,a)}return i(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=e.className,r=t.target,o=t.content,i=t.cls,a=t.at,u=t.top,s=t.left,c=this.props,l=this.state;return r!==l.target||o!==l.content||i!==l.cls||a!==l.at||u!==l.top||s!==l.left||n!==c.className},t.prototype.componentDidMount=function(){t.instance&&(t.instance=null),t.instance=this},t.prototype.componentDidUpdate=function(){var e=this.state.target;if(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,o=t.width,i=t.height;(n||r||o||i)&&this.setState(this.getHintData(e))}},t.prototype.componentWillUnmount=function(){t.instance=null},t.prototype.render=function(){var e=this.props.className,t=this.state,n=t.target,r=t.content,o=t.cls,i=t.at,a=t.top,u=t.left;return l.default.createElement("div",{style:{position:"relative"},ref:this.setRef.bind(this,"_container")},n&&l.default.createElement("div",{className:e+" "+e+"--"+i+" "+o,ref:this.setRef.bind(this,"_hint"),style:{top:a,left:u}},l.default.createElement("div",{className:e+"__content"},this.renderContent(r))))},s(t,null,[{key:"instance",get:function(){return t._instance},set:function(e){e?document.addEventListener("mouseover",e.onHover):document.removeEventListener("mouseover",t.instance.onHover),t._instance=e}}]),t}(l.default.Component),a._instance=null,a.defaultProps={className:"react-hint"},u);t.default=f,e.exports=t.default},function(e,t){},function(e,t){e.exports={"c-layout":"Layout_c-layout_mdkrD","c-content":"Layout_c-content_1LeRR"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(13),u=r(a),s=n(5),c=r(s),l=n(1027),f=r(l),d=function(e){var t=e.theme,n=e.busy,r=e.className,o=e.children,a=e.onClick;return i.default.createElement("button",{"aria-busy":n,role:"button",className:(0,u.default)(f.default["coz-btn"],f.default["coz-btn--"+t],r),onClick:a},o)};d.propTypes={children:c.default.node.isRequired,theme:c.default.string,busy:c.default.bool,className:c.default.string,onClick:c.default.func},d.defaultProps={theme:"regular",busy:!1,className:"",onClick:null},t.default=d},function(e,t){e.exports={"coz-btn":"styles_coz-btn_1rRxl","coz-btn--regular":"styles_coz-btn--regular_1_6Fm","coz-btn--secondary":"styles_coz-btn--secondary_1sJ2c","coz-btn--danger":"styles_coz-btn--danger_M0nYd","coz-btn--danger-outline":"styles_coz-btn--danger-outline_1IyIR","coz-btn--highlight":"styles_coz-btn--highlight_3BR9Z",spin:"styles_spin_1ywvo"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(1029),u=r(a),s=function(e){var t=e.children;return i.default.createElement("aside",{className:u.default["o-sidebar"]},t)};t.default=s},function(e,t){e.exports={"o-sidebar":"styles_o-sidebar_1UCaO"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NavIcon=t.NavLink=t.NavText=t.NavItem=void 0;var o=n(2),i=r(o),a=n(230),u=r(a),s=n(1031),c=r(s),l=n(13),f=r(l),d=t.NavItem=function(e){var t=e.children;return i.default.createElement("li",{className:c.default["c-nav-item"]},t)},h=(t.NavText=function(e){var t=e.children;return i.default.createElement("span",{className:c.default["c-nav-item__text"]},t)},t.NavLink=function(e){var t=e.children;return i.default.createElement("div",{className:c.default["c-nav-link"]},t)});Object.assign(h,{className:c.default["c-nav-link"],activeClassName:c.default["is-active"]});var p=(t.NavIcon=function(e){var t=e.icon;return i.default.createElement("span",{className:(0,f.default)(c.default["c-nav-item__icon"],c.default["nav-link__icon"])},i.default.createElement(u.default,{icon:t}))},function(e){var t=e.children;return i.default.createElement("nav",null,i.default.createElement("ul",{className:c.default["c-nav"]},t))});t.default=p,p.NavItem=d},function(e,t){e.exports={"c-nav":"styles_c-nav_2iqla","c-nav-item":"styles_c-nav-item_3HJO0","c-nav-item__icon":"styles_c-nav-item__icon_1DVY2","c-nav-item__text":"styles_c-nav-item__text_1IMTK","c-nav-link":"styles_c-nav-link_3aZyS",active:"styles_active_3CjnL","is-active":"styles_is-active_1jrB6","nav-link__icon":"styles_nav-link__icon_2OQw0"}},function(e,t){e.exports={"coz-btn":"styles_coz-btn_1rRxl","coz-btn--regular":"styles_coz-btn--regular_1_6Fm","coz-btn--secondary":"styles_coz-btn--secondary_1sJ2c","coz-btn--danger":"styles_coz-btn--danger_M0nYd","coz-btn--danger-outline":"styles_coz-btn--danger-outline_1IyIR","coz-btn--highlight":"styles_coz-btn--highlight_3BR9Z",spin:"styles_spin_1ywvo","coz-btn--share":"styles_coz-btn--share_aIzFf","coz-btn--download":"styles_coz-btn--download_Osk1q","coz-btn--upload":"styles_coz-btn--upload_HA0E0","coz-btn--delete":"styles_coz-btn--delete_cnpSe","coz-btn--close":"styles_coz-btn--close_eYbks","coz-hidden":"styles_coz-hidden_QTFZR","coz-modal-container":"styles_coz-modal-container_P56xN","coz-modal-wrapper":"styles_coz-modal-wrapper_3KUNO","coz-modal":"styles_coz-modal_qoEwJ","coz-modal-content":"styles_coz-modal-content_1kPPF","coz-btn-modal-close":"styles_coz-btn-modal-close_2ql21","coz-modal-section":"styles_coz-modal-section_2hM6X","coz-modal-title":"styles_coz-modal-title_1RdvX","coz-modal-buttons":"styles_coz-modal-buttons_oqBSL","coz-modal--hidden":"styles_coz-modal--hidden_2u8Qg","coz-modal--fullscreen":"styles_coz-modal--fullscreen_dMp97","coz-modal--overflowHidden":"styles_coz-modal--overflowHidden_2pS5m"}},function(e,t){e.exports={"c-overlay":"styles_c-overlay_1xCuX"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e,t,n){var o=void 0,i=!0,a=!1,u=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(l.src&&l.dest){var f=l.src,d=l.dest;if(void 0===e[f])continue;o=o||Object.assign({},e),o[d]=e[f],delete o[f],"`"+f+"` is deprecated and has been migrated automatically, you should use `"+d+"` now"}else if(l.fn){var h=l.fn(o||e);if(2!==h.length)throw new Error("migrateOption `fn` should return [newProps, msg].");var p=r(h,2);o=p[0],p[1]}else console.warn("migrateProps option is not valid, valid properties are `src`, `dest`, `fn`. You passed",l)}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}return o||e};t.default=function(e){return function(t){return function(n){var r=a(n,e);return i.default.createElement(t,r)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=(n(23),n(5)),u=r(a),s=n(22),c=n(13),l=(r(c),n(1036)),f=r(l),d=function(e){var t=e.t,n=e.actions,r=e.selected,o=e.hideSelectionBar,a=r.length,u=Object.keys(n).filter(function(e){var t=n[e];return void 0===t.displayCondition||t.displayCondition(r)});return i.default.createElement("div",{className:f.default["coz-selectionbar"],role:"toolbar"},i.default.createElement("span",{className:f.default["coz-selectionbar-count"]},a,i.default.createElement("span",null," ",t("SelectionBar.selected_count",{smart_count:a}))),i.default.createElement("span",{className:f.default["coz-selectionbar-separator"]}),u.map(function(e){return i.default.createElement("button",{className:f.default["coz-action-"+e.toLowerCase()],disabled:a<1,onClick:function(){return n[e].action(r)}},t("SelectionBar."+e))}),i.default.createElement("button",{className:f.default["coz-action-close"],onClick:o},t("SelectionBar.close")))};d.propTypes={t:u.default.func.isRequired,actions:u.default.object.isRequired,selected:u.default.array.isRequired,hideSelectionBar:u.default.func.isRequired},t.default=(0,s.translate)()(d)},function(e,t){e.exports={"coz-selectionbar":"styles_coz-selectionbar_2UF9M","coz-selectionbar-separator":"styles_coz-selectionbar-separator_84gtR","coz-action-share":"styles_coz-action-share_2dCg4","coz-action-download":"styles_coz-action-download_3nbIn","coz-action-trash":"styles_coz-action-trash_32SBy","coz-action-destroy":"styles_coz-action-destroy_2uN4s","coz-action-delete":"styles_coz-action-delete_1vg-G","coz-action-openwith":"styles_coz-action-openwith_3kMrK","coz-action-moveto":"styles_coz-action-moveto_2NUgl","coz-action-rename":"styles_coz-action-rename_3pnBB","coz-action-restore":"styles_coz-action-restore_2joWu","coz-action-album-add":"styles_coz-action-album-add_2Sd4Z","coz-action-album-remove":"styles_coz-action-album-remove_2_XpD","coz-action-extra":"styles_coz-action-extra_2gk-U","coz-action-close":"styles_coz-action-close_2Ys_W","coz-selectionbar-count":"styles_coz-selectionbar-count_2phs1",spin:"styles_spin_1ywvo"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1038);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(163),f=r(l),d=n(1039),h=r(d),p=n(426),v=r(p),y=n(5),m=r(y),g=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={modalOpened:!1},r.openModal=function(){r.setState({modalOpened:!0})},r.closeModal=function(){r.setState({modalOpened:!1})},r.handleComplete=function(e){r.closeModal(),r.props.onComplete&&r.props.onComplete(e)},r.handleDismiss=function(){r.closeModal(),r.props.onDismiss&&r.props.onDismiss()},a=n,i(r,a)}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.action,r=e.doctype,o=e.children,i=e.closable,a=e.create,u=e.tag,s=this.state.modalOpened,l=u,d=[c.default.cloneElement(o,{key:"opener",onClick:this.openModal})];return s&&d.push(c.default.createElement(f.default,{key:"modal",closable:i,overflowHidden:!0,className:v.default.intentModal,crossClassName:v.default.intentModal__cross,dismissAction:this.handleDismiss},c.default.createElement(h.default,{action:n,doctype:r,options:t,onComplete:this.handleComplete,create:a}))),c.default.createElement(l,null,d)}}]),t}(c.default.Component);g.propTypes={children:m.default.element.isRequired},g.defaultProps={tag:"span",closable:!0},t.default=g},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(5),f=r(l),d=n(164),h=r(d),p=n(426),v=r(p),y={closeable:!1,exposeIntentFrameRemoval:!0},m=function(t){function n(){var e,t,r,a;o(this,n);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),r.state={loading:!1},r.onFrameLoaded=function(){r.setState({loading:!1})},a=t,i(r,a)}return a(n,t),u(n,[{key:"componentDidMount",value:function(){var t=this,n=this.props,r=n.action,o=n.doctype,i=n.options,a=(n.onComplete,this.props.create||e.intents.create);this.setState({loading:!0}),a(r,o,Object.assign({},y,i)).start(this.intentViewer,this.onFrameLoaded).then(function(e){t.props.onComplete&&t.props.onComplete(e)})}},{key:"render",value:function(e,t){var n=this,r=t.loading;return c.default.createElement("div",{ref:function(e){return n.intentViewer=e}},r?c.default.createElement("div",{className:v.default.intentModal__loading},c.default.createElement(h.default,{size:"xxlarge"})):null)}}]),n}(c.default.Component);m.propTypes={action:f.default.string.isRequired,doctype:f.default.string.isRequired,options:f.default.object,onComplete:f.default.func},m.defaultProps={options:{}},t.default=m}).call(t,n(27))},function(e,t){e.exports={"coz-spinner":"styles_coz-spinner_2XrW6","coz-spinner--grey":"styles_coz-spinner--grey_2VnDf","coz-spinner--white":"styles_coz-spinner--white_3mvRb","coz-spinner--red":"styles_coz-spinner--red_OvIRW","coz-spinner--tiny":"styles_coz-spinner--tiny_3-DFI","coz-spinner--small":"styles_coz-spinner--small_1IRkp","coz-spinner--large":"styles_coz-spinner--large_13LKx","coz-spinner--xlarge":"styles_coz-spinner--xlarge_7noCH","coz-spinner--xxlarge":"styles_coz-spinner--xxlarge_1qvT-",spin:"styles_spin_1ywvo","coz-spinner--middle":"styles_coz-spinner--middle_1myrG","coz-spinner--nomargin":"styles_coz-spinner--nomargin_2cFDy"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Tabs=t.TabPanels=t.TabPanel=t.TabList=t.Tab=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=r(c),f=n(1042),d=r(f),h=n(13),p=r(h);t.Tab=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u(t,e),s(t,[{key:"render",value:function(e){var t=(e.name,e.children),n=e.className,r=e.active,i=e.activeClass,a=(e.changeTab,e.onClick,o({},d.default["coz-tab--active"],r));return i&&(a[i]=r),l.default.createElement("div",{className:(0,p.default)(d.default["coz-tab"],n,a),onClick:this.onClick},t)}},{key:"onClick",value:function(){var e=this.props,t=e.changeTab,n=e.name,r=e.onClick;t(n),r&&r()}}]),t}(c.Component),t.TabList=function(e){var t=e.children,n=e.activeTab,r=e.changeTab,o=e.className;return l.default.createElement("div",{className:(0,p.default)(d.default["coz-tab-list"],o)},l.default.Children.map(t,function(e){return l.default.cloneElement(e,{active:e.props.name===n,changeTab:r})}))},t.TabPanel=function(e){var t=e.children,n=e.active,r=(e.changeTab,e.className);return n?l.default.createElement("div",{className:(0,p.default)(d.default["coz-tab-panel"],r)},t):null},t.TabPanels=function(e){var t=e.children,n=e.activeTab,r=(e.name,e.changeTab),o=e.className;return l.default.createElement("div",{className:(0,p.default)(d.default["coz-tab-panels"],o)},l.default.Children.map(t,function(e){return l.default.cloneElement(e,{active:e.props.active||n==e.props.name,changeTab:r})}))},t.Tabs=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeTab=n.changeTab.bind(n),n}return u(t,e),s(t,[{key:"getInitialState",value:function(){return{activeTab:this.props.initialActiveTab}}},{key:"changeTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(e,t){var n=e.children,r=e.className,o=t.activeTab,i=this.changeTab;return l.default.createElement("div",{className:(0,p.default)(d.default["coz-tabs"],r)},l.default.Children.map(n,function(e){return l.default.cloneElement(e,{activeTab:o,changeTab:i})}))}}]),t}(c.Component)},function(e,t){e.exports={"coz-tabs":"styles_coz-tabs_Qf3-n","coz-tab-list":"styles_coz-tab-list_22pz_","coz-tab":"styles_coz-tab_3oq-w","coz-tab--active":"styles_coz-tab--active_14hbJ","coz-tab-panel":"styles_coz-tab-panel_3GTUe"}},function(e,t){e.exports={toggle:"styles_toggle_3NGK8",checkbox:"styles_checkbox_Q3jzD",label:"styles_label_3TGxL"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.onlyDesktop=t.onlyTablet=t.onlyMobile=t.renderOnlyIf=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(2),f=r(l),d=n(1045),h=r(d),p=n(21),v=r(p),y=n(1049),m=r(y),g=n(388),b=r(g),_={isExtraLarge:[1201],isLarge:[1024,1200],isMedium:[769,1023],isSmall:[544,768],isTiny:[0,543],isDesktop:[1024],isTablet:[769,1023],isMobile:[0,768]},w=function(e){var t=window.innerWidth;return(0,m.default)(e,function(e){var n=c(e,2),r=n[0],o=n[1];return t>=r&&(void 0===o||t<=o)})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return function(t){return function(n){function r(t){o(this,r);var n=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.state={breakpoints:w(e)},n.checkBreakpoints=(0,b.default)(function(){n.setState({breakpoints:w(e)})},100,{trailing:!0}),n}return a(r,n),s(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.checkBreakpoints)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkBreakpoints)}},{key:"render",value:function(e,n){var r=n.breakpoints;return f.default.createElement(t,u({},e,{breakpoints:r}))}}]),r}(l.Component)}},k=t.renderOnlyIf=function(e){return function(t){return function(n){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return a(r,n),s(r,[{key:"render",value:function(n,r){if(e(n,r))return f.default.createElement(t,n)}}]),r}(l.Component)}};t.onlyMobile=(0,v.default)(x((0,h.default)(_,"isMobile")),k(function(e){return e.breakpoints.isMobile})),t.onlyTablet=(0,v.default)(x((0,h.default)(_,"isTablet")),k(function(e){return e.breakpoints.isTablet})),t.onlyDesktop=(0,v.default)(x((0,h.default)(_,"isDesktop")),k(function(e){return e.breakpoints.isDesktop}));t.default=x},function(e,t,n){var r=n(1046),o=n(227),i=o(function(e,t){return null==e?{}:r(e,t)});e.exports=i},function(e,t,n){function r(e,t){return o(e,t,function(t,n){return i(e,n)})}var o=n(1047),i=n(336);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,u=t.length,s={};++r<u;){var c=t[r],l=o(e,c);n(l,c)&&i(s,a(c,e),l)}return s}var o=n(151),i=n(1048),a=n(94);e.exports=r},function(e,t,n){function r(e,t,n,r){if(!u(e))return e;t=i(t,e);for(var c=-1,l=t.length,f=l-1,d=e;null!=d&&++c<l;){var h=s(t[c]),p=n;if(c!=f){var v=d[h];p=r?r(v,h,d):void 0,void 0===p&&(p=u(v)?v:a(t[c+1])?[]:{})}o(d,h,p),d=d[h]}return e}var o=n(231),i=n(94),a=n(150),u=n(34),s=n(95);e.exports=r},function(e,t,n){function r(e,t){var n={};return t=a(t,3),i(e,function(e,r,i){o(n,r,t(e,r,i))}),n}var o=n(96),i=n(217),a=n(79);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.Bd=t.Img=t.Media=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),u=r(a),s=n(1051),c=r(s),l=n(13),f=r(l),d=function(e){var t=e.children,n=e.className,r=e.align,a=o(e,["children","className","align"]);return u.default.createElement("div",i({className:(0,f.default)(c.default.media,n,r?c.default["media--"+r]:null)},a),t)};t.Media=d;var h=function(e){var t=e.children,n=e.className,r=e.style,a=o(e,["children","className","style"]);return u.default.createElement("div",i({className:(0,f.default)(c.default.img,n),style:r},a),t)};t.Img=h;t.Bd=function(e){var t=e.children,n=e.className,r=e.style;return u.default.createElement("div",{className:(0,f.default)(c.default.bd,n),style:r},t)}},function(e,t){e.exports={media:"Media_media_2cPVR","media--top":"Media_media--top_3Juma","media--bottom":"Media_media--bottom_2swke",bd:"Media_bd_3jqha",img:"Media_img_1ATEE"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(2),f=r(l),d=n(427),h=r(d),p=n(1053),v=r(p),y=n(249),m=r(y),g=n(1054),b=r(g),_=100,w=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.animateClose=function(){r.setState({closing:!0});var e=(0,b.default)(function(){r.menuNode.removeEventListener("transitionend",e),r.close()});r.menuNode.addEventListener("transitionend",e,!1),setTimeout(e,_),r.applyTransformation(1.1)},r.close=function(){r.setState({closing:!0}),r.props.onClose()},r.handleMenuRef=function(e){r.menuNode=f.default.findDOMNode(e)},a=n,i(r,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.initialAppear(),this.attachEvents()}},{key:"componentWillUnmount",value:function(){this.gesturesHandler.destroy()}},{key:"initialAppear",value:function(){var e=this;this.turnTransitionsOff(),this.applyTransformation(1),requestAnimationFrame(function(){e.turnTransitionsOn(),e.applyTransformation(0)})}},{key:"turnTransitionsOn",value:function(){this.menuNode.classList.add(v.default["with-transition"])}},{key:"turnTransitionsOff",value:function(e){this.menuNode.classList.remove(v.default["with-transition"])}},{key:"attachEvents",value:function(){var e=this;this.gesturesHandler=new h.default.Manager(this.menuNode,{recognizers:[[h.default.Pan,{direction:h.default.DIRECTION_VERTICAL}]]});var t=this.menuNode.getBoundingClientRect().height,n=null;this.gesturesHandler.on("panstart",function(t){e.turnTransitionsOff(),n=0}),this.gesturesHandler.on("pan",function(r){n=r.deltaY/t,e.applyTransformation(n)}),this.gesturesHandler.on("panend",function(r){r.deltaY/t>=.6||r.deltaY>0&&r.velocity>=.6?n>=1?e.close():(e.turnTransitionsOn(),e.animateClose()):(e.turnTransitionsOn(),e.applyTransformation(0))})}},{key:"applyTransformation",value:function(e){e=Math.min(1.1,Math.max(0,e)),this.menuNode.style.transform="translateY("+100*e+"%)"}},{key:"render",value:function(){var e=this.props.children,t=this.state.closing;return c.default.createElement("div",{className:v.default.ActionMenu},c.default.createElement(m.default,{style:{opacity:t?0:1},onClick:this.animateClose,onEscape:this.animateClose},c.default.createElement("div",{className:v.default["c-actionmenu"],ref:this.handleMenuRef},e)))}}]),t}(s.Component);t.default=w},function(e,t){e.exports={ActionMenu:"styles_ActionMenu_1ZqTI","c-actionmenu":"styles_c-actionmenu_2fNFG","with-transition":"styles_with-transition_3Vyw-"}},function(e,t,n){function r(e){return o(2,e)}var o=n(1055);e.exports=r},function(e,t,n){function r(e,t){var n;if("function"!=typeof t)throw new TypeError(i);return e=o(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var o=n(339),i="Expected a function";e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=r(c),f=n(13),d=r(f),h=n(1057),p=r(h),v=n(5),y=r(v),m=n(251),g=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(e){var t=e.disabled,n=e.className,r=e.onClick,i=e.children,a=e.icon;return l.default.createElement("div",{onClick:r,className:(0,d.default)(p.default["c-menu__item"],o({},p.default["c-menu__item--disabled"],t),n)},a?l.default.createElement(m.Media,null,l.default.createElement(m.Img,{className:p.default["c-menu__item-icon"]},a),l.default.createElement(m.Bd,null,i)):i)}}]),t}(c.Component),b=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={opened:!1},r.toggle=function(){return r.state.opened?r.close():r.open()},r.handleClickOutside=function(e){r.container.contains(e.target)||(e.stopPropagation(),r.close())},r.handleClick=function(e,t){var n=e.props.disabled,o=n?null:e.props.onSelect,i=o||r.props[n?"onSelectDisabled":"onSelect"];if(i){!1!==i(e.props.data)&&r.close()}else n||r.close()},o=n,a(r,o)}return u(t,e),s(t,[{key:"open",value:function(){this.setState({opened:!0}),document.addEventListener("click",this.handleClickOutside,!0)}},{key:"close",value:function(){this.setState({opened:!1}),document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"renderItems",value:function(){var e=this;return l.default.Children.map(this.props.children,function(t){return t&&"hr"!==t.nodeName?l.default.cloneElement(t,{onClick:e.handleClick.bind(e,t)}):t})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.text,i=n.disabled,a=n.className,u=n.buttonClassName,s=n.position,c=n.component,f=this.state.opened;return l.default.createElement("div",{className:(0,d.default)(p.default["c-menu"],a,(e={},o(e,p.default["c-menu--left"],"left"==s),o(e,p.default["c-menu--right"],"right"==s),e)),ref:function(e){t.container=e}},c?l.default.cloneElement(c,{disabled:i,onClick:this.toggle}):l.default.createElement("button",{role:"button",className:(0,d.default)("c-btn",p.default["c-menu__btn"],u),disabled:i,onClick:this.toggle},r),f?l.default.createElement("div",{className:(0,d.default)(p.default["c-menu__inner"],o({},p.default["c-menu__inner--opened"],f))},this.renderItems()):null)}}]),t}(c.Component);b.defaultProps={position:"left",disabled:!1,component:null,onSelect:null,onSelectDisabled:null},b.propTypes={position:y.default.string,disabled:y.default.bool,component:y.default.element,onSelect:y.default.func,onSelectDisabled:y.default.func},b.MenuItem=g,t.default=b,t.MenuItem=g},function(e,t){e.exports={"c-menu__inner":"styles_c-menu__inner_19ccB","c-menu":"styles_c-menu_1mYNa","c-menu--left":"styles_c-menu--left_3EsHB","c-menu--right":"styles_c-menu--right_2Amud","c-menu__inner--opened":"styles_c-menu__inner--opened_3w6t_","c-menu__btn":"styles_c-menu__btn_2Jp-E","c-menu__item":"styles_c-menu__item_2Ijiw","c-menu__item-icon":"styles_c-menu__item-icon_VIzEf","c-menu__item--disabled":"styles_c-menu__item--disabled_1dSqI"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSwitch=void 0;var r=n(1059),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.AccountSwitch=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(97),c=r(s),l=n(21),f=r(l),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),v=n(5),y=r(v),m=n(23),g=n(24),b=n(13),_=r(b),w=n(15),x=n(14),k=n(249),E=r(k),S=n(251),C=n(428),O=r(C),T=n(58),A=n(1067),j=r(A),M=n(28),P=n(119),D=cozy.bar.BarRight,L=function(e){return"pending"===e.fetchStatus||"loading"===e.fetchStatus},I=(0,x.translate)()(function(e){var t=e.isFetching,n=e.isOpen,r=e.filteringDoc,o=e.accounts,i=e.t,a=e.toggle,s=e.accountExists;return p.default.createElement("button",{className:(0,_.default)(j.default["account-switch-button"],u({},j.default.active,n),"coz-desktop"),onClick:a},t?""+i("Loading.loading"):r?p.default.createElement("div",null,p.default.createElement("div",{className:j.default["account-name"]},r.shortLabel||r.label," ",p.default.createElement(O.default,{account:r})),p.default.createElement("div",{className:j.default["account-num"]},r.number&&"n"+r.number,r.accounts&&i("AccountSwitch.account_counter",r.accounts.filter(s).length))):p.default.createElement("div",null,p.default.createElement("div",{className:j.default["account-name"]},i("AccountSwitch.all_accounts"),p.default.createElement("div",{className:j.default["account-num"]},i("AccountSwitch.account_counter",o.length)))))});I.propTypes={filteringDoc:y.default.object};var R=function(e){var t=e.filteringDoc,n=e.onClick;return p.default.createElement("button",{className:(0,_.default)(j.default["account-switch-button-mobile"],u({},j.default.active,t)),onClick:n})};R.propTypes={filteringDoc:y.default.object};var N=(0,x.translate)()(function(e){var t=e.accounts,n=e.groups,r=e.filteringDoc,o=e.filterByDoc,i=e.resetFilterByDoc,a=e.t,s=e.accountExists;return p.default.createElement("div",{className:j.default["account-switch-menu-content"]},p.default.createElement("div",{className:j.default["account-switch-menu"]},p.default.createElement("h4",null,a("AccountSwitch.groups")),p.default.createElement("ul",null,p.default.createElement("li",null,p.default.createElement("button",{onClick:function(){i()},className:(0,_.default)(u({},j.default.active,void 0===r))},a("AccountSwitch.all_accounts"),p.default.createElement("span",{className:j.default["account-secondary-info"]},"(",a("AccountSwitch.account_counter",t.length),")"))),(0,c.default)(n,"label").map(function(e){return p.default.createElement("li",null,p.default.createElement("button",{onClick:function(){o(e)},className:(0,_.default)(u({},j.default.active,r&&e._id===r._id))},e.label,p.default.createElement("span",{className:j.default["account-secondary-info"]},"(",a("AccountSwitch.account_counter",e.accounts.filter(s).length),")")))})),p.default.createElement(g.Link,{to:"/settings/groups"},a("Groups.manage-groups")),p.default.createElement("hr",null),p.default.createElement("h4",null,a("AccountSwitch.accounts")),p.default.createElement("ul",null,(0,c.default)(t,["institutionLabel","label"]).map(function(e){return p.default.createElement("li",null,p.default.createElement("button",{onClick:function(){o(e)},className:(0,_.default)(u({},j.default.active,r&&e._id===r._id))},p.default.createElement(S.Media,null,p.default.createElement(S.Bd,null,e.shortLabel||e.label,p.default.createElement("span",{className:j.default["account-secondary-info"]},"- ",(0,P.getAccountInstitutionLabel)(e))),p.default.createElement(S.Img,null,p.default.createElement(O.default,{tooltip:!0,account:e})))))})),p.default.createElement(g.Link,{to:"/settings/accounts"},a("Accounts.manage-accounts"))))});N.propTypes={filterByDoc:y.default.func.isRequired,resetFilterByDoc:y.default.func.isRequired,filteringDoc:y.default.object};var F=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={open:!1},r.close=function(){r.state.open&&r.setState({open:!1})},r.toggle=function(){var e=!r.state.open;r.setState({open:e})},r.accountExists=function(e){return r.props.accounts.data.find(function(t){return t.id===e})},a=n,i(r,a)}return a(t,e),d(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.filteringDoc,r=t.filterByDoc,o=t.resetFilterByDoc,i=t.breakpoints,a=i.isMobile,u=i.isTablet,s=i.isDesktop,l=this.state.open,f=this.props,d=f.accounts,h=f.groups,v=L(d)||L(h);if(d=d.data,h=h.data,d&&0!==d.length){var y=function(t){return function(n){t(n),e.close()}},m=(0,c.default)(h.filter(Boolean),function(e){return e.label.toLowerCase()});return p.default.createElement("div",{className:j.default["account-switch"]},a&&p.default.createElement(D,null,p.default.createElement(R,{filteringDoc:n,onClick:this.toggle})),u&&p.default.createElement(R,{filteringDoc:n,onClick:this.toggle}),s&&p.default.createElement(I,{isFetching:v,isOpen:l,filteringDoc:n,accounts:d,accountExists:this.accountExists,toggle:this.toggle}),l&&p.default.createElement(E.default,{className:"coz-tablet",onClick:this.close}),l&&p.default.createElement(N,{filteringDoc:n,filterByDoc:y(r),resetFilterByDoc:y(o),groups:m,accounts:d,accountExists:this.accountExists}))}}}]),t}(h.Component);F.propTypes={filterByDoc:y.default.func.isRequired,resetFilterByDoc:y.default.func.isRequired,filteringDoc:y.default.object};var B=function(e){return{filteringDoc:(0,T.getFilteringDoc)(e)}},z=function(e){return{resetFilterByDoc:function(){return e((0,T.resetFilterByDoc)())},filterByDoc:function(t){return e((0,T.filterByDoc)(t))}}},q=function(e){return{accounts:(0,w.fetchCollection)("accounts",M.ACCOUNT_DOCTYPE),groups:(0,w.fetchCollection)("groups",M.GROUP_DOCTYPE)}};t.default=(0,f.default)((0,w.cozyConnect)(q),(0,m.connect)(B,z),(0,x.translate)(),(0,x.withBreakpoints)())(F)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(23),f=n(141),d=n(1061),h=r(d),p=n(315),v=n(118),y=n(28),m=n(1066),g=r(m),b=/\((.*)\)/,_=function(e){if(e){var t=b.exec(e.label);return t?t[1]:e.label.split(" ").slice(-1)[0]}},w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.sharingInfo||this.props.fetchSharingInfo()}},{key:"render",value:function(e){var t=(e.account,e.sharingInfo),n=e.withText,r=e.tooltip,o=t&&t.info||{},i=o.recipients&&o.recipients.length>0,a={};o.owner?a.to=!0:o.recipients&&o.recipients.length&&(a.from=!0);var u=_(o.account),s=r?{"data-rh-cls":g.default["account-sharing-tooltip"],"data-rh-at":"top","data-rh":"Partag par "+u}:{};return i&&c.default.createElement(v.Media,s,c.default.createElement(v.Img,null,c.default.createElement(h.default,a)),c.default.createElement(v.Bd,null,n&&c.default.createElement("span",null,"Partag par ",u)))}}]),t}(s.Component),x=function(e,t){return{sharingInfo:(0,f.getSharingInfo)(e,y.ACCOUNT_DOCTYPE,t.account._id)}},k=function(e,t){return{fetchSharingInfo:function(n,r){e((0,p.fetchSharingInfo)(y.ACCOUNT_DOCTYPE,t.account._id))}}};t.default=(0,l.connect)(x,k)(w)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1062),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),u=n(5),s=r(u),c=n(13),l=r(c),f=n(1063),d=r(f),h=function(e){var t,n=e.to,r=e.from;return a.default.createElement("i",{className:(0,l.default)(d.default["sharing-icon"],(t={},o(t,d.default["sharing-icon--to"],n),o(t,d.default["sharing-icon--from"],r),t))})};h.propTypes={to:s.default.string,from:s.default.string},t.default=h},function(e,t){e.exports={"sharing-icon":"SharingIcon_sharing-icon_2mISm","sharing-icon--to":"SharingIcon_sharing-icon--to_3nw80","sharing-icon--from":"SharingIcon_sharing-icon--from_GdCCK"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.Bd=t.Img=t.Media=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),u=r(a),s=n(1065),c=r(s),l=n(13),f=r(l),d=function(e){var t=e.children,n=e.className,r=e.align,a=o(e,["children","className","align"]);return u.default.createElement("div",i({className:(0,f.default)(c.default.media,n,r?c.default["media--"+r]:null)},a),t)};t.Media=d;var h=function(e){var t=e.children,n=e.className,r=e.style,a=o(e,["children","className","style"]);return u.default.createElement("div",i({className:(0,f.default)(c.default.img,n),style:r},a),t)};t.Img=h;t.Bd=function(e){var t=e.children,n=e.className,r=e.style;return u.default.createElement("div",{className:(0,f.default)(c.default.bd,n),style:r},t)}},function(e,t){e.exports={media:"Media_media_2cPVR","media--top":"Media_media--top_3Juma","media--bottom":"Media_media--bottom_2swke",bd:"Media_bd_3jqha",img:"Media_img_1ATEE"}},function(e,t){e.exports={"account-sharing-tooltip":"AccountSharingStatus_account-sharing-tooltip_31-F7"}},function(e,t){e.exports={"account-switch":"AccountSwitch_account-switch_6LlRS","account-switch-button":"AccountSwitch_account-switch-button_3RZvj","account-name":"AccountSwitch_account-name_2t6gu","account-num":"AccountSwitch_account-num_2Xjc7",active:"AccountSwitch_active_1MOud","account-switch-menu-content":"AccountSwitch_account-switch-menu-content_1ngJu","account-switch-menu":"AccountSwitch_account-switch-menu_PqxSj","account-secondary-info":"AccountSwitch_account-secondary-info_3q7DY","account-switch-button-mobile":"AccountSwitch_account-switch-button-mobile_3ZC_m"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(14),u=n(24),s=n(1069),c=r(s),l=n(1070),f=r(l),d=n(1071),h=r(d),p=n(1072),v=r(p),y=function(e){var t=e.to,n=e.children;return i.default.createElement(u.Link,{to:t,activeClassName:a.NavLink.activeClassName,className:a.NavLink.className},n)},m=function(e){var t=e.t;return i.default.createElement(a.Nav,null,i.default.createElement(a.NavItem,null,i.default.createElement(y,{to:"balances"},i.default.createElement(a.NavIcon,{icon:c.default}),i.default.createElement(a.NavText,null,t("Nav.balance")))),i.default.createElement(a.NavItem,null,i.default.createElement(y,{to:"transactions"},i.default.createElement(a.NavIcon,{icon:f.default}),i.default.createElement(a.NavText,null,t("Nav.movements")))),i.default.createElement(a.NavItem,null,i.default.createElement(y,{to:"categories"},i.default.createElement(a.NavIcon,{icon:h.default}),i.default.createElement(a.NavText,null,t("Nav.categorisation")))),i.default.createElement(a.NavItem,null,i.default.createElement(y,{to:"settings"},i.default.createElement(a.NavIcon,{icon:v.default}),i.default.createElement(a.NavText,null,t("Nav.settings")))))};t.default=(0,a.translate)()(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-dashboard",use:"icon-dashboard-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-dashboard">\n  <g fill-rule="evenodd" transform="translate(-192 -32)">\n    <path d="M201.118034,42 L205.649994,42 C205.649994,42 206,40.7216708 206,40 C206,36.6862915 203.313708,34 200,34 C196.686292,34 194,36.6862915 194,40 C194,40.7052006 194.345138,42 194.345138,42 L198.881966,42 L201.105573,37.5527864 C201.352562,37.0588079 201.953235,36.8585836 202.447214,37.1055728 C202.941192,37.3525621 203.141416,37.9532351 202.894427,38.4472136 L201.118034,42 Z M200,48 C195.581722,48 192,44.418278 192,40 C192,35.581722 195.581722,32 200,32 C204.418278,32 208,35.581722 208,40 C208,44.418278 204.418278,48 200,48 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-arrow-left-right",use:"icon-arrow-left-right-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-arrow-left-right">\n  <g fill-rule="evenodd" transform="translate(-192 -192)">\n    <path fill-rule="nonzero" d="M195.414214,202 L203,202 C203.552285,202 204,202.447715 204,203 C204,203.552285 203.552285,204 203,204 L195.414214,204 L196.707107,205.292893 C197.097631,205.683418 197.097631,206.316582 196.707107,206.707107 C196.316582,207.097631 195.683418,207.097631 195.292893,206.707107 L192.292893,203.707107 C191.902369,203.316582 191.902369,202.683418 192.292893,202.292893 L195.292893,199.292893 C195.683418,198.902369 196.316582,198.902369 196.707107,199.292893 C197.097631,199.683418 197.097631,200.316582 196.707107,200.707107 L195.414214,202 Z M204.585786,198 L197,198 C196.447715,198 196,197.552285 196,197 C196,196.447715 196.447715,196 197,196 L204.585786,196 L203.292893,194.707107 C202.902369,194.316582 202.902369,193.683418 203.292893,193.292893 C203.683418,192.902369 204.316582,192.902369 204.707107,193.292893 L207.707107,196.292893 C208.097631,196.683418 208.097631,197.316582 207.707107,197.707107 L204.707107,200.707107 C204.316582,201.097631 203.683418,201.097631 203.292893,200.707107 C202.902369,200.316582 202.902369,199.683418 203.292893,199.292893 L204.585786,198 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-graph",use:"icon-graph-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-graph">\n  <g fill-rule="evenodd" transform="translate(-224 -224)">\n    <path d="M231,240 C227.134007,240 224,236.865993 224,233 C224,229.134007 227.134007,226 231,226 L231,233 L238,233 C238,236.865993 234.865993,240 231,240 Z M233,231 C233,231 233,224 233,224 C236.865993,224 240,227.134007 240,231 C238,231 233,231 233,231 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-people",use:"icon-people-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-people">\n  <g fill-rule="evenodd" transform="translate(-128 -64)">\n    <path d="M136,73 C133.790861,73 132,70.9852814 132,68.5 C132,66.0147186 133.790861,64 136,64 C138.209139,64 140,66.0147186 140,68.5 C140,70.9852814 138.209139,73 136,73 Z M128,78 C128,77 130,74 132,74 C134,74 133,75 136,75 C139,75 138,74 140,74 C142,74 144,77 144,78 C144,79 144,80 143,80 L129,80 C128,80 128,79 128,78 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(429),f=r(l),d=function(e){var t=e.name;return c.default.createElement("input",{type:"checkbox",checked:(0,f.default)(t),onChange:function(e){return(0,f.default)(t,JSON.parse(e.target.checked))&&(void 0).props.onChange()}})},h={borderBottomLeftRadius:".5rem",padding:".5rem",position:"absolute",zIndex:1e3,color:"white",background:"rgba(74,68,90,0.85)",top:0,right:0},p=function(e){return e.replace(/[a-z][A-Z]/g,function(e){return e[0]+" "+e[1].toLowerCase()})},v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this;return(0,f.default)("switcher")&&c.default.createElement("div",{className:"flag-switcher",style:h},c.default.createElement("button",{onClick:function(){return e.setState({date:Date.now()})}},"refresh"),"",c.default.createElement("button",{onClick:function(){return f.default.reset()&&(0,f.default)("switcher",!0)&&e.forceUpdate()}},"reset"),f.default.list().map(function(t){return c.default.createElement("div",null,p(t)," : ",c.default.createElement(d,{onChange:function(){return e.forceUpdate()},name:t}))}))}}]),t}(c.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(21),s=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(24),h=n(23),p=n(15),v=n(22),y=n(58),m=n(165),g=n(116),b=n(120),_=n(62),w=n(121),x=n(54),k=r(x),E=n(82),S=r(E),C=n(435),O=n(166),T=r(O),A=n(1098),j=n(1100),M=r(j),P=n(1186),D=r(P),L=function(e){return"pending"===e.fetchStatus||"loading"===e.fetchStatus},I=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.fetchApps()}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.urls,r=e.transactions,o=e.router,i=this.props.filteredTransactions;if(L(r))return f.default.createElement(k.default,{loadingType:"movements"});var a=o.params.subcategoryName;if(a){var u=(0,b.getCategoryIdFromName)(a);i=i.filter(function(e){return(0,_.getCategoryId)(e)===u})}var s=0,c=0;i.forEach(function(e){e.amount>0?s+=e.amount:c+=e.amount});var l=void 0;if(a){var d=o.params.categoryName;l=[{name:t("Categories.title.general"),onClick:function(){return o.push("/categories")}},{name:t("Data.categories."+d),onClick:function(){return o.push("/categories/"+d)}},{name:t("Data.subcategories."+a)}]}else l=[{name:t("Transactions.title")}];var h=i.length>0?i[0].currency:null;return f.default.createElement("div",{className:D.default["bnk-mov-page"]},a?f.default.createElement(T.default,null):null,f.default.createElement(S.default,null,f.default.createElement(C.Breadcrumb,{items:l,tag:"h2"})),f.default.createElement(y.SelectDates,null),0!==i.length&&f.default.createElement("div",{className:D.default["bnk-mov-figures"]},f.default.createElement(w.FigureBlock,{label:t("Transactions.total"),total:s+c,currency:h,coloredPositive:!0,coloredNegative:!0,signed:!0}),f.default.createElement(w.FigureBlock,{label:t("Transactions.transactions"),total:i.length}),f.default.createElement(w.FigureBlock,{label:t("Transactions.debit"),total:c,currency:h,signed:!0}),f.default.createElement(w.FigureBlock,{label:t("Transactions.credit"),total:s,currency:h,signed:!0})),0===i.length?f.default.createElement("p",null,t("Transactions.no-movements")):f.default.createElement(M.default,{transactions:i,urls:n}))}}]),t}(l.Component),R=function(e){return{urls:{MAIF:(0,g.getAppUrlBySource)(e,"gitlab.cozycloud.cc/labs/cozy-maif"),HEALTH:(0,g.getAppUrlBySource)(e,"gitlab.cozycloud.cc/labs/cozy-sante"),EDF:(0,g.getAppUrlBySource)(e,"gitlab.cozycloud.cc/labs/cozy-edf")},filteredTransactions:(0,y.getFilteredTransactions)(e).map(function(t){return(0,A.hydrateTransaction)(e,t)})}},N=function(e){return{fetchApps:function(){return e((0,g.fetchApps)())}}},F=function(e){return{transactions:(0,m.fetchTransactions)()}};t.default=(0,s.default)(d.withRouter,(0,h.connect)(R,N),(0,p.cozyConnect)(F),(0,v.translate)())(I)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTransactions=void 0;var o=n(28),i=n(58),a=n(15),u=n(62),s=n(1088),c=!0,l=function(e,t){return c&&(c=!1,e((0,i.addFilterForMostRecentTransactions)(t.data))),t},f=function(){var e=(0,a.fetchCollection)("transactions",o.TRANSACTION_DOCTYPE,{sort:{date:"desc"},descending:!0,limit:100,fields:["date","manualCategoryId","automaticCategoryId","currency","amount","label","bills","account"]}),t=e.promise;return e.promise=function(e,n){return t(e).then(function(e){return l(n,e)}).then(function(e){return e.data.reduce(function(e,t){if(!(0,u.isHealthExpense)(t))return e;var n=t.reimbursements?t.reimbursements.filter(function(e){return e.billId}).map(function(e){return e.billId.split(":")[1]}):[];return[].concat(r(e),r(n))},[]).forEach(function(e){return n((0,s.fetchBill)(e))}),e})},e};t.fetchTransactions=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-activities",use:"icon-cat-activities-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-activities">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#FC4C83" />\n    <path fill="#FFFFFF" d="M7.5,3 C5.019,3 3,5.019 3,7.5 C3,7.776 2.775,8 2.5,8 C2.224,8 2,7.776 2,7.5 C2,4.467 4.467,2 7.5,2 C7.775,2 8,2.224 8,2.5 C8,2.776 7.775,3 7.5,3 M15,8 C15,3.364 11.846,0 7.5,0 C3.154,0 0,3.364 0,8 C0,10.726 2.182,13.542 6.318,16.164 L5.071,18.242 C4.978,18.396 4.976,18.589 5.064,18.746 C5.153,18.903 5.319,19 5.5,19 L7,19 L7,21.5 C7,22.327 7.673,23 8.5,23 C9.326,23 10,22.327 10,21.5 C10,21.224 10.224,21 10.5,21 C10.775,21 11,21.224 11,21.5 L11,23.5 C11,23.776 11.224,24 11.5,24 C11.775,24 12,23.776 12,23.5 L12,21.5 C12,20.673 11.326,20 10.5,20 C9.673,20 9,20.673 9,21.5 C9,21.775 8.775,22 8.5,22 C8.224,22 8,21.775 8,21.5 L8,19 L9.5,19 C9.68,19 9.846,18.903 9.935,18.746 C10.023,18.589 10.021,18.396 9.929,18.242 L8.682,16.164 C12.817,13.542 15,10.726 15,8" transform="translate(8 4)" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-dailyLife",use:"icon-cat-dailyLife-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-dailyLife">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#FD7461" />\n    <g fill="#FFFFFF" transform="translate(4 6)">\n      <path d="M6 16C4.897 16 4 16.898 4 18 4 19.104 4.897 20 6 20 7.103 20 8 19.104 8 18 8 16.898 7.103 16 6 16M17 16C15.897 16 15 16.898 15 18 15 19.104 15.897 20 17 20 18.103 20 19 19.104 19 18 19 16.898 18.103 16 17 16M23.5 0L20.941 0C20.439 0 20.012.377 19.948.877L19.613 3.563C19.582 3.812 19.368 4 19.117 4L2 4C1.367 4 .764 4.305.388 4.815.012 5.327-.099 5.993.091 6.596L1.653 11.596C1.915 12.436 2.682 13 3.563 13L18 13C18.275 13 18.5 13.225 18.5 13.5 18.5 13.776 18.275 14 18 14L4 14C3.724 14 3.5 14.224 3.5 14.5 3.5 14.776 3.724 15 4 15L18 15C18.805 15 19.458 14.362 19.493 13.566 19.493 13.563 19.496 13.56 19.496 13.556L19.497 13.553 19.498 13.538 20.605 3.686 20.941 1 23.5 1C23.775 1 24 .776 24 .5 24 .224 23.775 0 23.5 0" />\n    </g>\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-educationAndTraining",use:"icon-cat-educationAndTraining-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-educationAndTraining">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#FC6D00" />\n    <path fill="#FFFFFF" d="M16,22.041 C16.08,22.041 16.159,22.022 16.231,21.984 L24,17.931 L24,18.913 C24,21.209 20.957,24.413 16.001,24.413 C14.229,24.413 12.706,23.999 11.475,23.368 C11.49,23.248 11.5,23.125 11.5,23 C11.5,21.924 10.921,20.94 10,20.409 L10,18.975 L15.769,21.984 C15.841,22.022 15.92,22.041 16,22.041 Z M10.4829,22.7705 C10.4819,22.7695 10.4809,22.7695 10.4799,22.7685 C10.4889,22.8445 10.4999,22.9205 10.4999,22.9995 C10.4999,23.4135 10.3739,23.7985 10.1579,24.1175 C10.0139,24.3305 9.8299,24.5145 9.6179,24.6585 C9.2979,24.8745 8.9139,24.9995 8.4999,24.9995 C8.0869,24.9995 7.7019,24.8745 7.3829,24.6585 C7.1699,24.5145 6.9859,24.3305 6.8419,24.1175 C6.6259,23.7985 6.4999,23.4135 6.4999,22.9995 C6.4999,22.8925 6.5109,22.7865 6.5269,22.6835 C6.5339,22.6445 6.5439,22.6075 6.5529,22.5695 C6.5669,22.5065 6.5819,22.4435 6.6019,22.3825 C6.6159,22.3405 6.6329,22.2995 6.6499,22.2575 C6.6719,22.2035 6.6949,22.1495 6.7219,22.0975 C6.7419,22.0585 6.7639,22.0205 6.7859,21.9825 C6.8179,21.9305 6.8519,21.8795 6.8879,21.8305 C6.9109,21.7985 6.9349,21.7665 6.9599,21.7355 C7.0029,21.6835 7.0499,21.6355 7.0979,21.5885 C7.1219,21.5635 7.1449,21.5395 7.1709,21.5165 C7.2279,21.4655 7.2889,21.4205 7.3509,21.3765 C7.3729,21.3605 7.3929,21.3435 7.4159,21.3285 C7.4939,21.2785 7.5769,21.2335 7.6619,21.1945 C7.6719,21.1895 7.6809,21.1835 7.6909,21.1785 C7.7899,21.1355 7.8939,21.0985 7.9999,21.0715 L7.9999,21.0435 L7.9999,18.9135 L7.9999,17.9315 L8.9999,18.4525 L8.9999,18.9135 L8.9999,21.0435 L9.2999,21.1745 C9.9569,21.4615 10.4009,22.0735 10.4829,22.7705 Z M27.7332,13.9709 C27.8972,14.0579 28.0002,14.2269 28.0002,14.4129 C28.0002,14.5989 27.8972,14.7689 27.7332,14.8549 L16.0002,20.9769 L4.2672,14.8549 C4.1032,14.7689 4.0002,14.5989 4.0002,14.4129 C4.0002,14.2269 4.1032,14.0579 4.2672,13.9709 L15.7692,7.9699 C15.9142,7.8949 16.0862,7.8949 16.2312,7.9699 L27.7332,13.9709 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-excludeFromBudgetCat",use:"icon-cat-excludeFromBudgetCat-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-excludeFromBudgetCat">\n    \x3c!-- Generator: Sketch 48.2 (47327) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>icons/32/icon-32-out-budget</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="icon-cat-excludeFromBudgetCat_Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="icon-cat-excludeFromBudgetCat_icons/32/icon-32-out-budget" fill-rule="nonzero">\n            <circle id="icon-cat-excludeFromBudgetCat_Oval" fill="#6984CE" cx="16" cy="16" r="16" />\n            <path d="M24.75,13 C25.3947973,12.9598877 25.951972,13.445744 26,14.09 L26,23.91 C25.951972,24.554256 25.3947973,25.0401123 24.75,25 L7.25,25 C6.60520273,25.0401123 6.04802805,24.554256 6,23.91 L6,14.09 C6.04802805,13.445744 6.60520273,12.9598877 7.25,13 L24.75,13 Z M24.75,12 L7.25,12 C6.05330981,11.9605592 5.04878169,12.8936542 5,14.09 L5,23.91 C5.04878169,25.1063458 6.05330981,26.0394408 7.25,26 L24.75,26 C25.9466902,26.0394408 26.9512183,25.1063458 27,23.91 L27,14.09 C26.9512183,12.8936542 25.9466902,11.9605592 24.75,12 Z" id="icon-cat-excludeFromBudgetCat_Shape" fill="#FFFFFF" />\n            <path d="M23.88,14 L8.12,14 C7.84970871,13.96639 7.57740269,14.044487 7.36601024,14.2162434 C7.15461778,14.3879997 7.02243192,14.6385523 7,14.91 L7,23.09 C7.02243192,23.3614477 7.15461778,23.6120003 7.36601024,23.7837566 C7.57740269,23.955513 7.84970871,24.03361 8.12,24 L23.88,24 C24.1502913,24.03361 24.4225973,23.955513 24.6339898,23.7837566 C24.8453822,23.6120003 24.9775681,23.3614477 25,23.09 L25,14.91 C24.9775681,14.6385523 24.8453822,14.3879997 24.6339898,14.2162434 C24.4225973,14.044487 24.1502913,13.96639 23.88,14 Z M10,19.9923531 C9.44771525,19.9923531 9,19.5446378 9,18.9923531 C9,18.4400683 9.44771525,17.9923531 10,17.9923531 C10.5522847,17.9923531 11,18.4400683 11,18.9923531 C11,19.5446378 10.5522847,19.9923531 10,19.9923531 Z M16,21.5 C14.6192881,21.5 13.5,20.3807119 13.5,19 C13.5,17.6192881 14.6192881,16.5 16,16.5 C17.3807119,16.5 18.5,17.6192881 18.5,19 C18.5,20.3807119 17.3807119,21.5 16,21.5 Z M22,19.9923531 C21.4477153,19.9923531 21,19.5446378 21,18.9923531 C21,18.4400683 21.4477153,17.9923531 22,17.9923531 C22.5522847,17.9923531 23,18.4400683 23,18.9923531 C23,19.5446378 22.5522847,19.9923531 22,19.9923531 Z" id="icon-cat-excludeFromBudgetCat_Shape" fill="#FFFFFF" />\n            <path d="M19.85,5.15 C19.6567003,4.95670034 19.3432997,4.95670034 19.15,5.15 C18.9567003,5.34329966 18.9567003,5.65670034 19.15,5.85 L20.29,7 L15.5,7 C15.2238576,7 15,7.22385763 15,7.5 C15,7.77614237 15.2238576,8 15.5,8 L20.29,8 L19.15,9.15 C19.0099401,9.29285015 18.9685122,9.50543561 19.044684,9.69042423 C19.1208558,9.87541285 19.2999624,9.99718997 19.5,10 C19.6326039,10.0016165 19.7597197,9.94713835 19.85,9.85 L21.85,7.85 C21.9466772,7.75926667 22.0015186,7.63258591 22.0015186,7.5 C22.0015186,7.36741409 21.9466772,7.24073333 21.85,7.15 L19.85,5.15 Z" id="icon-cat-excludeFromBudgetCat_Fill-333" fill="#FFFFFF" />\n            <path d="M9.99848135,4.5 C9.99848135,4.63258591 10.0533228,4.75926667 10.15,4.85 L12.15,6.85 C12.2402803,6.94713835 12.3673961,7.00161655 12.5,7 C12.7000376,6.99718997 12.8791442,6.87541285 12.955316,6.69042423 C13.0314878,6.50543561 12.9900599,6.29285015 12.85,6.15 L11.71,5 L16.5,5 C16.7761424,5 17,4.77614237 17,4.5 C17,4.22385763 16.7761424,4 16.5,4 L11.71,4 L12.85,2.85 C13.0432997,2.65670034 13.0432997,2.34329966 12.85,2.15 C12.6567003,1.95670034 12.3432997,1.95670034 12.15,2.15 L10.15,4.15 C10.0533228,4.24073333 9.99848135,4.36741409 9.99848135,4.5 Z" id="icon-cat-excludeFromBudgetCat_Fill-333-2" fill="#FFFFFF" />\n        </g>\n    </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-goingOutAndTravel",use:"icon-cat-goingOutAndTravel-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-goingOutAndTravel">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#40DE8E" />\n    <path fill="#FFFFFF" d="M9.6415,10.2549 C9.4555,10.1779 9.3325,9.9949 9.3325,9.7929 C9.3325,9.5909 9.4545,9.4089 9.6415,9.3309 L13.3365,7.7999 C13.4585,7.7489 13.5975,7.7499 13.7195,7.7989 L18.8945,9.9359 L14.0075,12.0619 L9.6415,10.2549 Z M27.7559,9.9453 C28.2859,11.2253 27.6759,12.6853 26.4019,13.2123 L21.8729,14.9003 L17.9609,22.7233 C17.9129,22.8203 17.8339,22.8993 17.7369,22.9473 L13.7369,24.9473 C13.6669,24.9833 13.5899,25.0003 13.5139,25.0003 C13.3929,25.0003 13.2729,24.9563 13.1789,24.8713 C13.0259,24.7343 12.9729,24.5173 13.0449,24.3243 L15.6479,17.3843 L9.1989,19.9653 C9.0139,20.0373 8.8019,19.9953 8.6599,19.8533 L4.1599,15.3533 C4.0429,15.2363 3.9909,15.0683 4.0229,14.9053 C4.0539,14.7433 4.1639,14.6053 4.3169,14.5403 L7.8169,13.0403 C7.9529,12.9833 8.1069,12.9873 8.2369,13.0523 L11.0279,14.4483 L24.4819,8.5963 C25.7629,8.0643 27.2409,8.7043 27.7559,9.9453 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-health",use:"icon-cat-health-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-health">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#F62C2C" />\n    <g fill="#FFFFFF" transform="translate(4 6)">\n      <path d="M16.0418 17.3783C15.7848 17.8903 15.2708 18.2073 14.6998 18.2073 13.9498 18.1753 13.4278 17.7123 13.2578 17.1193L12.3168 13.8273 11.5418 15.3773C11.3058 15.8513 10.8378 16.1843 10.2138 16.2063 9.7048 16.2063 9.2438 15.9763 8.9518 15.5393L8.1278 14.3033 7.8988 14.6073C7.6188 14.9833 7.1708 15.2073 6.6998 15.1003L4.0628 15.1003C5.6228 17.8993 9.4138 21.3523 11.9238 23.0173 12.0078 23.0723 12.1038 23.1003 12.1998 23.1003 12.3088 23.1003 12.4158 23.0653 12.5058 22.9953 14.7038 21.3063 18.2978 17.7523 19.8738 15.1003L17.1268 15.1003 16.0418 17.3783zM2.323 12.1L5.95 12.1 7 10.807C7.279 10.432 7.733 10.207 8.214 10.207 8.723 10.222 9.18 10.471 9.448 10.875L10.013 11.724 11.358 9.036C11.614 8.525 12.128 8.206 12.7 8.206 13.453 8.24 13.974 8.706 14.142 9.294L15.108 12.57C15.388 12.273 15.778 12.1 16.2 12.1L21.732 12.1C22.435 10.962 23.2 8.746 23.2 6.781 23.2 2.465 20.387.207 17.607.207 15.544.207 13.271 1.466 12.2 4.229 11.145 1.51 8.93.271 6.92.271 3.165.271 1.2 3.844 1.2 7.372 1.2 9.219 1.777 11.156 2.323 12.1" />\n      <path d="M23.7,13.1 L16.2,13.1 C16.009,13.1 15.838,13.205 15.753,13.375 L14.828,15.334 L13.18,9.57 C13.124,9.369 12.952,9.215 12.678,9.206 C12.509,9.206 12.338,9.313 12.253,9.483 L10.137,13.712 L8.616,11.43 C8.525,11.293 8.373,11.212 8.199,11.207 C8.051,11.207 7.892,11.284 7.802,11.406 L6.45,13.1 L0.7,13.1 C0.424,13.1 0.2,13.324 0.2,13.6 C0.2,13.875 0.424,14.1 0.7,14.1 L6.7,14.1 C6.856,14.1 7.006,14.025 7.098,13.9 L8.177,12.573 L9.784,14.985 C9.896,15.152 10.052,15.212 10.248,15.204 C10.408,15.195 10.568,15.089 10.647,14.93 L12.572,11.08 L14.219,16.844 C14.274,17.038 14.446,17.198 14.706,17.207 C14.893,17.204 15.062,17.099 15.147,16.931 L16.509,14.1 L23.7,14.1 C23.975,14.1 24.2,13.875 24.2,13.6 C24.2,13.324 23.975,13.1 23.7,13.1" />\n    </g>\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-homeAndRealEstate",use:"icon-cat-homeAndRealEstate-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-homeAndRealEstate">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#FF962F" />\n    <g fill="#FFFFFF" transform="translate(4 3)">\n      <polygon points="3.001 11.621 3.001 23 10.001 23 10.001 16 14.001 16 14.001 23 21 23 21 11.621 12.001 2.621" />\n      <path d="M23.8638,11.6621 C23.8598,11.6591 23.8578,11.6511 23.8538,11.6461 L12.3538,0.1461 C12.1628,-0.0459 11.8388,-0.0459 11.6468,0.1461 L0.1468,11.6461 C-0.0332,11.8271 -0.0602,12.1261 0.1358,12.3381 C0.3628,12.5641 0.6688,12.5311 0.8468,12.3571 C0.8488,12.3561 0.8518,12.3551 0.8538,12.3531 L12.0008,1.2061 L23.1468,12.3531 C23.1488,12.3551 23.1508,12.3561 23.1528,12.3571 C23.3438,12.5421 23.6578,12.5421 23.8468,12.3571 C23.8488,12.3561 23.8518,12.3551 23.8538,12.3531 C24.0358,12.1721 24.0598,11.8701 23.8638,11.6621" />\n    </g>\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-incomeCat",use:"icon-cat-incomeCat-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-incomeCat">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#35CE68" />\n    <path fill="#FFFFFF" d="M8.5005,17.126 C8.7755,17.126 9.0005,17.35 9.0005,17.626 L9.0005,25.126 C9.0005,25.401 8.7755,25.626 8.5005,25.626 L4.5005,25.626 C4.2245,25.626 4.0005,25.401 4.0005,25.126 L4.0005,17.626 C4.0005,17.35 4.2245,17.126 4.5005,17.126 L8.5005,17.126 Z M27.854,21.2715 C27.967,21.3855 28.019,21.5475 27.994,21.7055 C27.968,21.8645 27.868,22.0005 27.724,22.0735 C24.961,23.4545 23.105,24.5155 21.749,25.2915 C19.7,26.4615 18.719,27.0005 17.572,27.0005 C16.61,27.0005 15.531,26.6215 13.603,25.9205 C12.624,25.5635 11.403,25.1205 9.842,24.5995 C9.638,24.5325 9.5,24.3405 9.5,24.1255 L9.5,18.6255 C9.5,18.3495 9.724,18.1255 10,18.1255 L11.5,18.1255 C13.793,18.1255 15.188,19.5205 15.647,19.9795 C15.741,20.0735 15.868,20.1255 16,20.1255 L16.203,20.1255 L19,20.1255 C20.085,20.1255 20.375,21.0685 20.375,21.6255 C20.375,22.0275 20.247,22.4115 20.022,22.6805 C19.776,22.9755 19.432,23.1255 19,23.1255 L14,23.1255 C13.724,23.1255 13.5,23.3495 13.5,23.6255 C13.5,23.9015 13.724,24.1255 14,24.1255 L19,24.1255 C19.733,24.1255 20.352,23.8465 20.791,23.3205 C21.167,22.8685 21.375,22.2655 21.375,21.6255 C21.375,21.4655 21.361,21.3065 21.334,21.1495 L24.342,20.1515 C25.667,19.7715 26.68,20.0985 27.854,21.2715 Z M21.0005,11.126 C19.0705,11.126 17.5005,9.556 17.5005,7.626 C17.5005,5.695 19.0705,4.126 21.0005,4.126 C22.9305,4.126 24.5005,5.695 24.5005,7.626 C24.5005,9.556 22.9305,11.126 21.0005,11.126 Z M16.5005,18.126 C14.5705,18.126 13.0005,16.556 13.0005,14.626 C13.0005,12.695 14.5705,11.126 16.5005,11.126 C18.4305,11.126 20.0005,12.695 20.0005,14.626 C20.0005,16.556 18.4305,18.126 16.5005,18.126 Z M16.0005,13.626 L16.0005,15.626 C16.0005,15.901 16.2245,16.126 16.5005,16.126 C16.7755,16.126 17.0005,15.901 17.0005,15.626 L17.0005,13.626 C17.0005,13.35 16.7755,13.126 16.5005,13.126 C16.2245,13.126 16.0005,13.35 16.0005,13.626 Z M20.5005,6.626 L20.5005,8.626 C20.5005,8.901 20.7245,9.126 21.0005,9.126 C21.2755,9.126 21.5005,8.901 21.5005,8.626 L21.5005,6.626 C21.5005,6.35 21.2755,6.126 21.0005,6.126 C20.7245,6.126 20.5005,6.35 20.5005,6.626 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-kids",use:"icon-cat-kids-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-kids">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#1FA8F1" />\n    <path fill="#FFFFFF" d="M6,8 C3.794,8 2,6.206 2,4 C2,1.795 3.794,0 6,0 C8.206,0 10,1.795 10,4 C10,6.206 8.206,8 6,8 Z M0,9 L12,9 L12,9.5 C12,14.326 9.916,16.423 8.5,17.289 L8.5,24 L3.5,24 L3.5,17.289 C2.083,16.423 0,14.328 0,9.5 L0,9 Z M15,16 C13.897,16 13,15.103 13,14 C13,12.8975 13.897,12 15,12 C16.103,12 17,12.8975 17,14 C17,15.103 16.103,16 15,16 Z M15,16.5 C16.6825,16.5 18,18.6965 18,21.5 L18,21.75 L16.25,21.75 L16.25,24 L13.75,24 L13.75,21.75 L12,21.75 L12,21.5 C12,18.6965 13.3175,16.5 15,16.5 Z" transform="translate(7 4)" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-services",use:"icon-cat-services-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-services">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#7F6BEE" />\n    <path fill="#FFFFFF" d="M13.5,7.9995 L12.5,7.9995 C12.224,7.9995 12,7.7755 12,7.4995 C12,7.2235 12.224,6.9995 12.5,6.9995 L13.5,6.9995 C13.775,6.9995 14,7.2235 14,7.4995 C14,7.7755 13.775,7.9995 13.5,7.9995 M13.5,10.9995 L12.5,10.9995 C12.224,10.9995 12,10.7755 12,10.4995 C12,10.2235 12.224,9.9995 12.5,9.9995 L13.5,9.9995 C13.775,9.9995 14,10.2235 14,10.4995 C14,10.7755 13.775,10.9995 13.5,10.9995 M13.5,13.9995 L12.5,13.9995 C12.224,13.9995 12,13.7755 12,13.4995 C12,13.2235 12.224,12.9995 12.5,12.9995 L13.5,12.9995 C13.775,12.9995 14,13.2235 14,13.4995 C14,13.7755 13.775,13.9995 13.5,13.9995 M13.5,16.9995 L12.5,16.9995 C12.224,16.9995 12,16.7755 12,16.4995 C12,16.2235 12.224,15.9995 12.5,15.9995 L13.5,15.9995 C13.775,15.9995 14,16.2235 14,16.4995 C14,16.7755 13.775,16.9995 13.5,16.9995 M9.5,7.9995 L3.5,7.9995 C3.224,7.9995 3,7.7755 3,7.4995 C3,7.2235 3.224,6.9995 3.5,6.9995 L9.5,6.9995 C9.775,6.9995 10,7.2235 10,7.4995 C10,7.7755 9.775,7.9995 9.5,7.9995 M3,10.4995 C3,10.2235 3.224,9.9995 3.5,9.9995 L7.5,9.9995 C7.775,9.9995 8,10.2235 8,10.4995 C8,10.7755 7.775,10.9995 7.5,10.9995 L3.5,10.9995 C3.224,10.9995 3,10.7755 3,10.4995 M8.5,13.9995 L3.5,13.9995 C3.224,13.9995 3,13.7755 3,13.4995 C3,13.2235 3.224,12.9995 3.5,12.9995 L8.5,12.9995 C8.775,12.9995 9,13.2235 9,13.4995 C9,13.7755 8.775,13.9995 8.5,13.9995 M6.5,16.9995 L3.5,16.9995 C3.224,16.9995 3,16.7755 3,16.4995 C3,16.2235 3.224,15.9995 3.5,15.9995 L6.5,15.9995 C6.775,15.9995 7,16.2235 7,16.4995 C7,16.7755 6.775,16.9995 6.5,16.9995 M16.691,1.0375 C16.504,0.9595 16.289,1.0035 16.146,1.1455 L14.5,2.7925 L12.854,1.1455 C12.658,0.9505 12.342,0.9505 12.146,1.1455 L10.5,2.7925 L8.854,1.1455 C8.658,0.9505 8.342,0.9505 8.146,1.1455 L6.5,2.7925 L4.854,1.1455 C4.658,0.9505 4.342,0.9505 4.146,1.1455 L2.5,2.7925 L0.854,1.1455 C0.71,1.0035 0.494,0.9595 0.309,1.0375 C0.121,1.1145 0,1.2975 0,1.4995 L0,24.4995 C0,24.7015 0.121,24.8845 0.309,24.9615 C0.494,25.0395 0.71,24.9975 0.854,24.8535 L2.5,23.2065 L4.146,24.8535 C4.342,25.0485 4.658,25.0485 4.854,24.8535 L6.5,23.2065 L8.146,24.8535 C8.342,25.0485 8.658,25.0485 8.854,24.8535 L10.5,23.2065 L12.146,24.8535 C12.342,25.0485 12.658,25.0485 12.854,24.8535 L14.5,23.2065 L16.146,24.8535 C16.242,24.9485 16.369,24.9995 16.5,24.9995 C16.565,24.9995 16.629,24.9885 16.691,24.9615 C16.878,24.8845 17,24.7015 17,24.4995 L17,1.4995 C17,1.2975 16.878,1.1145 16.691,1.0375" transform="translate(8 3)" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-tax",use:"icon-cat-tax-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-tax">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#B449E7" />\n    <path fill="#FFFFFF" d="M27.0006126,24.99975 C27.2756126,24.99975 27.5006126,25.22375 27.5006126,25.49975 C27.5006126,25.77475 27.2756126,25.99975 27.0006126,25.99975 L5.00061265,25.99975 C4.72461265,25.99975 4.50061265,25.77475 4.50061265,25.49975 C4.50061265,25.22375 4.72461265,24.99975 5.00061265,24.99975 L27.0006126,24.99975 Z M24.5006126,13.99975 L26.5006126,13.99975 C26.7756126,13.99975 27.0006126,14.22275 27.0006126,14.49975 C27.0006126,14.77475 26.7756126,14.99975 26.5006126,14.99975 L26.5006126,22.99975 C26.7756126,22.99975 27.0006126,23.22375 27.0006126,23.49975 C27.0006126,23.77475 26.7756126,23.99975 26.5006126,23.99975 L24.5006126,23.99975 L24.5006126,13.99975 Z M21.5006126,13.99975 L23.5006126,13.99975 L23.5006126,23.99975 L21.5006126,23.99975 C21.2246126,23.99975 21.0006126,23.77475 21.0006126,23.49975 C21.0006126,23.22375 21.2246126,22.99975 21.5006126,22.99975 L21.5006126,14.99975 C21.2246126,14.99975 21.0006126,14.77475 21.0006126,14.49975 C21.0006126,14.22275 21.2246126,13.99975 21.5006126,13.99975 Z M8.50061265,13.99975 L10.5006126,13.99975 C10.7756126,13.99975 11.0006126,14.22275 11.0006126,14.49975 C11.0006126,14.77475 10.7756126,14.99975 10.5006126,14.99975 L10.5006126,22.99975 C10.7756126,22.99975 11.0006126,23.22375 11.0006126,23.49975 C11.0006126,23.77475 10.7756126,23.99975 10.5006126,23.99975 L8.50061265,23.99975 L8.50061265,13.99975 Z M5.50061265,13.99975 L7.50061265,13.99975 L7.50061265,23.99975 L5.50061265,23.99975 C5.22461265,23.99975 5.00061265,23.77475 5.00061265,23.49975 C5.00061265,23.22375 5.22461265,22.99975 5.50061265,22.99975 L5.50061265,14.99975 C5.22461265,14.99975 5.00061265,14.77475 5.00061265,14.49975 C5.00061265,14.22275 5.22461265,13.99975 5.50061265,13.99975 Z M16.5006126,13.99975 L18.5006126,13.99975 C18.7756126,13.99975 19.0006126,14.22275 19.0006126,14.49975 C19.0006126,14.77475 18.7756126,14.99975 18.5006126,14.99975 L18.5006126,22.99975 C18.7756126,22.99975 19.0006126,23.22375 19.0006126,23.49975 C19.0006126,23.77475 18.7756126,23.99975 18.5006126,23.99975 L16.5006126,23.99975 L16.5006126,13.99975 Z M13.5006126,13.99975 L15.5006126,13.99975 L15.5006126,23.99975 L13.5006126,23.99975 C13.2246126,23.99975 13.0006126,23.77475 13.0006126,23.49975 C13.0006126,23.22375 13.2246126,22.99975 13.5006126,22.99975 L13.5006126,14.99975 C13.2246126,14.99975 13.0006126,14.77475 13.0006126,14.49975 C13.0006126,14.22275 13.2246126,13.99975 13.5006126,13.99975 Z M5.00061265,12.99975 C4.78661265,12.99975 4.59761265,12.86475 4.52761265,12.66175 C4.45761265,12.46075 4.52361265,12.23575 4.69261265,12.10475 L15.7246126,3.10575 C15.9046126,2.96475 16.1596126,2.96475 16.3406126,3.10575 L27.3096126,12.10575 C27.4776126,12.23775 27.5426126,12.46175 27.4736126,12.66275 C27.4026126,12.86475 27.2136126,12.99975 27.0006126,12.99975 L5.00061265,12.99975 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cat-transportation",use:"icon-cat-transportation-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-cat-transportation">\n  <g fill="none" fill-rule="evenodd">\n    <circle cx="16" cy="16" r="16" fill="#4DCEC5" />\n    <path fill="#FFFFFF" d="M14.5,13 L13.809,13 L12.947,14.724 C12.859,14.898 12.683,15 12.499,15 C12.424,15 12.348,14.982 12.275,14.947 C12.029,14.823 11.929,14.523 12.053,14.276 L13.053,12.276 C13.138,12.106 13.311,12 13.5,12 L14.5,12 C14.775,12 15,12.224 15,12.5 C15,12.776 14.775,13 14.5,13 M27.5,19 C27.775,19 28,19.224 28,19.5 C28,19.776 27.775,20 27.5,20 L25.202,20 C25.232,19.838 25.25,19.671 25.25,19.5 C25.25,17.983 24.016,16.75 22.5,16.75 C20.983,16.75 19.75,17.983 19.75,19.5 C19.75,19.671 19.768,19.838 19.798,20 L11.202,20 C11.232,19.838 11.25,19.671 11.25,19.5 C11.25,17.983 10.016,16.75 8.5,16.75 C6.983,16.75 5.75,17.983 5.75,19.5 C5.75,19.671 5.768,19.838 5.798,20 L4.5,20 C4.224,20 4,19.776 4,19.5 L4,16 C4,14.896 4.896,14 6,14 L9.69,14 L11.553,10.276 C11.638,10.106 11.811,10 12,10 L21.5,10 C21.689,10 21.862,10.106 21.947,10.276 L23.809,14 L25,14 C26.103,14 27,14.896 27,16 L27,19 L27.5,19 Z M8.5,17.25 C9.74,17.25 10.75,18.259 10.75,19.5 C10.75,20.74 9.74,21.75 8.5,21.75 C7.259,21.75 6.25,20.74 6.25,19.5 C6.25,18.259 7.259,17.25 8.5,17.25 Z M22.5,17.25 C23.74,17.25 24.75,18.259 24.75,19.5 C24.75,20.74 23.74,21.75 22.5,21.75 C21.259,21.75 20.25,20.74 20.25,19.5 C20.25,18.259 21.259,17.25 22.5,17.25 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBill=void 0;var r=n(15),o=n(28);t.fetchBill=function(e){return(0,r.fetchDocument)(o.BILLS_DOCTYPE,e)}},function(e,t){e.exports={"bnk-figure-total":"Figure_bnk-figure-total_3mvuL","bnk-figure-currency":"Figure_bnk-figure-currency_2o0Fz","bnk-figure-content--positive":"Figure_bnk-figure-content--positive_17pHN","bnk-figure-content--negative":"Figure_bnk-figure-content--negative_1PQuP","bnk-figure-content--warning":"Figure_bnk-figure-content--warning_20yXQ"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(5),u=r(a),s=n(13),c=r(s),l=n(434),f=r(l),d=n(1091),h=r(d),p=function(e){var t=e.className,n=e.label,r=e.total,o=e.currency,a=e.coloredPositive,u=e.coloredNegative,s=e.signed,l=e.decimalNumbers,d=void 0===l?0:l;return i.default.createElement("div",{className:(0,c.default)(h.default["bnk-figure-wrapper"],t)},i.default.createElement("h4",{className:h.default["bnk-figure-label"]},n),i.default.createElement(f.default,{className:h.default["bnk-figure"],total:r,currency:o,coloredPositive:a,coloredNegative:u,signed:s,decimalNumbers:d}))};p.propTypes={label:u.default.string.isRequired,className:u.default.string},t.default=p},function(e,t){e.exports={"bnk-figure-wrapper":"FigureBlock_bnk-figure-wrapper_1SS5P","bnk-figure-label":"FigureBlock_bnk-figure-label_2OOR7","bnk-figure":"FigureBlock_bnk-figure_2V2CJ"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var o=n(2),i=r(o),a=n(22),u=n(1093),s=r(u),c=t.Loading=function(e){var t=e.t,n=e.loadingType,r=e.noMargin;return i.default.createElement("div",{className:r?s.default["bnk-loading--no-margin"]:s.default["bnk-loading"]},n&&i.default.createElement("p",null,t("Loading.loading")))};t.default=(0,a.translate)()(c)},function(e,t){e.exports={"bnk-loading":"Loading_bnk-loading_1TzRy","bnk-loading--no-margin":"Loading_bnk-loading--no-margin_2R02h",spin:"Loading_spin_2lZjh","pho-loading--no-margin":"Loading_pho-loading--no-margin_37OKS"}},function(e,t){e.exports={Topbar:"styles_Topbar_2fBru"}},function(e,t){e.exports={Breadcrumb:"style_Breadcrumb_21Mck",Breadcrumb__title:"style_Breadcrumb__title_2iOLJ",Breadcrumb__crumb:"style_Breadcrumb__crumb_2HzK-",Breadcrumb__last:"style_Breadcrumb__last_2xLvE",Breadcrumb__separator:"style_Breadcrumb__separator_1HC1Y",Breadcrumb__link:"style_Breadcrumb__link_1pFvy"}},function(e,t){e.exports={"back-arrow":"style_back-arrow_3X72g"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(427),f=r(l),d=n(24);t.default=function(e){var t=e.getLocation;return function(e){return(0,d.withRouter)(function(n){function r(){var e,n,a,u;o(this,r);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=i(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(c))),a.onSwipeRight=function(e){if(!e.defaultPrevented){var n=t(a.props);n&&(a.props.router.push(n),e.preventDefault())}},u=n,i(a,u)}return a(r,n),u(r,[{key:"componentDidMount",value:function(){var e=document.body;this.hammer=new f.default.Manager(e,{recognizers:[[f.default.Swipe,{direction:f.default.DIRECTION_RIGHT}]]}),this.hammer.on("swiperight",this.onSwipeRight)}},{key:"componentWillUnmount",value:function(){this.hammer.destroy()}},{key:"render",value:function(t){return c.default.createElement(e,t)}}]),r}(s.Component))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateTransaction=void 0;var r=n(28),o=n(15),i=n(62),a=n(1099),u=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(e){return e&&e.split(":")[1]},c=function(e,t){var n=s(t.billId);return n?Object.assign({},t,{bill:(0,o.getDocument)(e,r.BILLS_DOCTYPE,n)}):t};t.hydrateTransaction=function(e,t){return(0,u.default)(e,"hydrateTransactions takes state as 1st argument"),(0,u.default)(t,"hydrateTransactions takes transaction as 2nd argument"),(0,i.isHealthExpense)(t)?(t.reimbursements=t.reimbursements||[],t.reimbursements=t.reimbursements.map(function(t){return c(e,t)}),t):t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=r(c),f=n(1101),d=r(f),h=n(1184),p=r(h),v=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={transaction:void 0},r.selectTransaction=function(e){r.setState({transaction:e})},r.unselectTransaction=function(){r.setState({transaction:void 0})},a=n,i(r,a)}return a(t,e),s(t,[{key:"render",value:function(e){var t=this.state.transaction;return l.default.createElement("div",null,l.default.createElement(d.default,u({selectTransaction:this.selectTransaction},e)),t&&l.default.createElement(p.default,u({requestClose:this.unselectTransaction,transaction:t},e)))}}]),t}(c.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(2),u=r(a),s=n(13),c=r(s),l=n(154),f=r(l),d=n(14),h=n(121),p=n(102),v=n(1103),y=r(v),m=n(253),g=n(252),b=n(120),_=n(62),w=n(167),x=r(w),k=n(168),E=n(170),S=n(254),C=r(S),O=n(1183),T=r(O),A=n(118),j=n(255),M=T.default["bnk-op-date"],P=T.default["bnk-op-desc"],D=T.default["bnk-op-amount"],L=T.default["bnk-op-action"],I=T.default["bnk-op-actions"],R=function(e){var t=e.t;return u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("td",{className:M},t("Transactions.header.date")),u.default.createElement("td",{className:P},t("Transactions.header.description")),u.default.createElement("td",{className:D},t("Transactions.header.amount")),u.default.createElement("td",{className:L},t("Transactions.header.action")),u.default.createElement("td",{className:I},"")))},N=function(e){(0,C.default)(e("ComingSoon.description"))},F=(0,i.default)((0,d.translate)(),E.withDispatch,(0,k.withUpdateCategory)())(function(e){var t=e.t,n=e.f,r=e.transaction,o=e.urls,i=e.isExtraLarge,a=e.showCategoryChoice,s=(0,_.getCategoryId)(r),l=(0,b.getCategoryName)(s),f=t("Data.subcategories."+l),d=(0,b.getParentCategory)(s),v=function(){},w=function(){N(t)};return u.default.createElement("tr",null,u.default.createElement(p.TdSecondary,{className:M},n(r.date,"DD "+(i?"MMMM":"MMM")+" YYYY")),u.default.createElement("td",{className:(0,c.default)(P,"u-pv-half","u-pl-1")},u.default.createElement(A.Media,null,u.default.createElement(A.Img,{title:f,onClick:a},u.default.createElement(x.default,{category:d,className:T.default["bnk-op-caticon"]})),u.default.createElement(A.Bd,{className:"u-pl-1"},(0,g.getLabel)(r)))),u.default.createElement(p.TdSecondary,{className:D},u.default.createElement(h.Figure,{total:r.amount,currency:r.currency,coloredPositive:!0,signed:!0})),u.default.createElement(p.TdSecondary,{className:L},(0,_.isHealthExpense)(r)?u.default.createElement(j.HealthExpenseStatus,{vendors:(0,j.getVendors)(r)}):u.default.createElement(m.PrimaryAction,{showIcon:!0,transaction:r,urls:o,className:T.default["bnk-table-actions-link"]})),u.default.createElement(p.TdSecondary,{className:I},u.default.createElement(y.default,{onSelect:v,onSelectDisabled:w,transaction:r,urls:o})))}),B=(0,d.translate)()(function(e){var t=e.t,n=(e.f,e.transaction),r=e.urls,o=e.selectTransaction;return u.default.createElement("tr",{onClick:function(){return o(n)},className:T.default["bnk-transaction-mobile"]},u.default.createElement("td",null,u.default.createElement(A.Media,null,u.default.createElement(A.Img,{className:"u-mr-half",title:t("Data.subcategories."+(0,b.getCategoryName)((0,_.getCategoryId)(n)))},u.default.createElement(x.default,{category:(0,b.getParentCategory)((0,_.getCategoryId)(n))})),u.default.createElement(A.Bd,{className:"u-mr-half u-ellipsis"},(0,g.getLabel)(n)),u.default.createElement(A.Img,{style:{flexBasis:"1rem"}},(0,_.isHealthExpense)(n)?u.default.createElement(j.HealthExpenseStatusIcon,{className:"u-mr-half",pending:0===(0,j.getVendors)(n).length}):u.default.createElement(m.PrimaryActionIcon,{className:"u-mr-half",type:(0,m.getLinkType)(n,r)})),u.default.createElement(A.Img,null,u.default.createElement(h.Figure,{total:n.amount,currency:n.currency,coloredPositive:!0,signed:!0})))))}),z=function(e){var t=e.t,n=e.f,r=e.transactions,o=e.urls,i=e.selectTransaction,a=e.breakpoints,s=a.isDesktop,c=a.isExtraLarge,l={},d=[],h=!0,v=!1,y=void 0;try{for(var m,g=r[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var b=m.value,_=n(b.date,"YYYY-MM-DD");void 0===l[_]&&(l[_]=[],d.push(_)),l[_].push(b)}}catch(e){v=!0,y=e}finally{try{!h&&g.return&&g.return()}finally{if(v)throw y}}return d=d.sort(f.default),u.default.createElement(p.Table,{className:T.default["bnk-op-table"]},s&&u.default.createElement(R,{t:t}),d.map(function(e){var t=l[e].sort(function(e,t){return(0,f.default)(e.date,t.date)});return u.default.createElement("tbody",null,!s&&u.default.createElement("tr",{className:T.default["bnk-op-date-header"]},u.default.createElement("td",{colspan:"2"},n(e,"dddd D MMMM"))),t.map(function(e){return s?u.default.createElement(F,{transaction:e,urls:o,isExtraLarge:c}):u.default.createElement(B,{transaction:e,urls:o,selectTransaction:i})}))}))};t.default=(0,i.default)((0,d.withBreakpoints)(),(0,d.translate)())(z)},function(e,t){e.exports={"c-table":"styles_c-table_3XJQS","c-table-td-secondary":"styles_c-table-td-secondary_3MaKB","c-table-td-fix":"styles_c-table-td-fix_IT4V_","c-table-td-with-icon":"styles_c-table-td-with-icon_7mSGB","mobile-row":"styles_mobile-row_1lKus","mobile-row-main":"styles_mobile-row-main_33UqS","mobile-row-label":"styles_mobile-row-label_ETXwu"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(14),u=n(253),s=r(u),c=n(1122),l=r(c),f=i.default.createElement("span",null,i.default.createElement(a.Icon,{icon:l.default,color:"#95999d"})),d=function(e){var t=(e.t,e.transaction),n=e.urls,r=e.onSelect,o=e.onSelectDisabled;return i.default.createElement(a.Menu,{position:"right",component:f},i.default.createElement(s.default,{onSelect:r,onSelectDisabled:o,transaction:t,urls:n,withoutDefault:!0}))};t.default=(0,a.translate)()(d)},function(e,t,n){function r(e,t){return o(e,a(t,3),i)}var o=n(1105),i=n(217),a=n(79);e.exports=r},function(e,t){function n(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-comment",use:"icon-comment-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-comment">\n  <g fill-rule="evenodd" transform="translate(-128 -192)">\n    <path d="M128,192.998502 C128,192.447045 128.444631,192 129.000872,192 L142.999128,192 C143.551894,192 144,192.447489 144,192.998502 L144,204.001498 C144,204.552955 143.546964,205 143.00297,205 L136,205 L130,208 L130,205 L129,205 C128.447715,205 128,204.552511 128,204.001498 L128,192.998502 Z M132,197 C132,197.556135 132.446386,198 132.99703,198 L139.00297,198 C139.546964,198 140,197.552285 140,197 C140,196.443865 139.553614,196 139.00297,196 L132.99703,196 C132.453036,196 132,196.447715 132,197 Z M132,200 C132,200.556135 132.443586,201 132.990778,201 L137.009222,201 C137.549025,201 138,200.552285 138,200 C138,199.443865 137.556414,199 137.009222,199 L132.990778,199 C132.450975,199 132,199.447715 132,200 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-bell-16",use:"icon-bell-16-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-bell-16">\n  <g fill-rule="evenodd" transform="translate(-192 -224)">\n    <path d="M197.75,237 L194.006845,237 C193.45078,237 193,236.556135 193,236 C193,235.447715 193.453186,235 194,235 C194,235 194,234 194,233 C194,230.55051 195.333333,227.434354 198,226.373186 L198,225.99406 C198,224.892771 198.88773,224 200,224 C201.104569,224 202,224.894514 202,225.99406 L202,226.373186 C204.666667,227.434354 206,230.55051 206,233 L206,235 C206.552285,235 207,235.443865 207,236 C207,236.552285 206.550051,237 205.993155,237 L202.25,237 L197.75,237 Z M198,238 L198,238.00594 C198,239.105486 198.895431,240 200,240 C201.11227,240 202,239.107229 202,238.00594 L202,238 L198,238 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-link-out",use:"icon-link-out-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-link-out">\n  <g fill-rule="evenodd" transform="translate(-128 -160)">\n    <path d="M137,160 L137,162 L140.5,162 L134,168.5 L135.5,170 L142,163.5 L142,167 L144,167 L144,161.002929 C144,160.449027 143.562119,160 142.997071,160 L137,160 Z M135,162 L135,160 L129.002929,160 C128.449027,160 128,160.444631 128,161.000872 L128,174.999128 C128,175.551894 128.444631,176 129.000872,176 L142.999128,176 C143.551894,176 144,175.562119 144,174.997071 L144,169 L142,169 L142,174 L130,174 L130,162 L135,162 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-link",use:"icon-link-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-link">\n  <g fill-rule="evenodd" transform="translate(-320 -64)">\n    <path fill-rule="nonzero" d="M329.207107,68.2071068 C328.816582,68.5976311 328.183418,68.5976311 327.792893,68.2071068 C327.402369,67.8165825 327.402369,67.1834175 327.792893,66.7928932 L329.380739,65.2050473 C330.550312,64.0354741 332.449532,64.0353186 333.617357,65.2031436 L334.796856,66.3826429 C335.967125,67.5529115 335.963199,69.4510143 334.790552,70.6236612 L331.326334,74.0878797 C329.792011,75.6222029 327.256375,75.6705883 325.792893,74.2071068 C325.402369,73.8165825 325.402369,73.1834175 325.792893,72.7928932 C326.183418,72.4023689 326.816582,72.4023689 327.207107,72.7928932 C327.877207,73.4629938 329.147023,73.438763 329.91212,72.6736661 L333.376339,69.2094477 C333.769244,68.8165428 333.77055,68.1847639 333.382643,67.7968564 L332.203144,66.6173571 C331.816419,66.2306326 331.183529,66.2306845 330.794953,66.6192609 L329.207107,68.2071068 Z M326.792893,75.7928932 C327.183418,75.4023689 327.816582,75.4023689 328.207107,75.7928932 C328.597631,76.1834175 328.597631,76.8165825 328.207107,77.2071068 L326.619261,78.7949527 C325.449688,79.9645259 323.550468,79.9646814 322.382643,78.7968564 L321.203144,77.6173571 C320.032875,76.4470885 320.036801,74.5489857 321.209448,73.3763388 L324.673666,69.9121203 C326.207989,68.3777971 328.743625,68.3294117 330.207107,69.7928932 C330.597631,70.1834175 330.597631,70.8165825 330.207107,71.2071068 C329.816582,71.5976311 329.183418,71.5976311 328.792893,71.2071068 C328.122793,70.5370062 326.852977,70.561237 326.08788,71.3263339 L322.623661,74.7905523 C322.230756,75.1834572 322.22945,75.8152361 322.617357,76.2031436 L323.796856,77.3826429 C324.183581,77.7693674 324.816471,77.7693155 325.205047,77.3807391 L326.792893,75.7928932 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-file",use:"icon-file-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-file">\n  <g fill-rule="evenodd" transform="translate(-2 0)">\n    <path d="M0,1.00087166 C0,0.448105505 0.446311399,0 0.997544646,0 L9,0 L9,5 L14,5 L14,15.0044225 C14,15.5542648 13.5500512,16 12.9931545,16 L1.00684547,16 C0.450780073,16 0,15.5553691 0,14.9991283 L0,1.00087166 Z M10,4 L10,0 L14,4 L10,4 Z" />\n  </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(19),c=r(s),l=n(21),f=r(l),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),v=n(23),y=n(141),m=n(1112),g=r(m),b=n(5),_=r(b),w=n(164),x=r(w),k=n(14),E=n(1116),S=n(254),C=r(S),O={marginLeft:"-0.25rem",marginRight:"-1rem"},T=function(e,t,n){var r=e.split("/"),o=r[0],i=r[2].split(".");return o+"//"+i[0]+"-"+t+"."+i.slice(1).join(".")+"/#"+n},A=function(e){function t(){var e,n,r,u,s=this;i(this,t);for(var l=arguments.length,f=Array(l),d=0;d<l;d++)f[d]=arguments[d];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.onCloseModal=function(e){r.setState({file:null}),e&&(0,C.default)("error",JSON.stringify(e,null,2))},r.displayFile=function(){var e=o(c.default.mark(function e(t){var n,o,i,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.prev=1,r.setState({loading:!0}),e.next=5,r.props.getFileId();case 5:n=e.sent,r.setState({fileId:n[1]}),e.next=23;break;case 10:return o=!1,e.prev=11,e.next=14,(0,E.checkApp)(E.DRIVE_INFO);case 14:o=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),console.warn("Could not check if app is installed. error: "+e.t0);case 20:i=o?E.DRIVE_INFO.uri:T(r.props.cozyURL,"drive",""),a=i+"file/"+n[1],window.open(a,"_system");case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(1),(0,C.default)("error",r.props.t("FileOpener.error")),console.warn(e.t1);case 29:return e.prev=29,r.setState({loading:!1}),e.finish(29);case 32:case"end":return e.stop()}},e,s,[[1,25,29,32],[11,17]])}));return function(t){return e.apply(this,arguments)}}(),u=n,a(r,u)}return u(t,e),d(t,[{key:"render",value:function(e,t){var n=t.loading,r=t.fileId;return p.default.createElement("span",null,p.default.cloneElement(e.children,{onClick:this.displayFile}),n&&p.default.createElement(x.default,{style:O}),r&&p.default.createElement(g.default,{onClose:this.onCloseModal,onError:this.onCloseModal,fileId:r}))}}]),t}(h.Component);A.propTypes={children:_.default.element},t.default=(0,f.default)((0,v.connect)(function(e){return{cozyURL:(0,y.getURL)(e)}}),(0,k.translate)())(A)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(5),f=r(l),d=n(1113),h=r(d),p=function(t){function n(){var t,r,a,u;o(this,n);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=i(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(c))),a.createIntent=function(){var t=a.props.fileId;return e.intents.create("OPEN","io.cozy.files",{id:t})},a.showModal=function(){a.setState({intent:a.createIntent()})},a.closeModal=function(){a.setState({intent:null}),a.props.onClose&&a.props.onClose()},a.handleModalError=function(e){a.setState({intent:null,error:e}),a.props.onError&&a.props.onError(e)},u=r,i(a,u)}return a(n,t),u(n,[{key:"componentDidMount",value:function(){this.showModal()}},{key:"render",value:function(e,t){var n=(e.children,t.intent);return n?c.default.createElement(h.default,{intent:n,onIntentError:this.handleModalError,dismissAction:this.closeModal}):null}}]),n}(s.Component);p.propTypes={fileId:f.default.string.isRequired,onClose:f.default.func.isRequired,onError:f.default.func.isRequired},t.default=p}).call(t,n(27))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(1114),f=r(l),d=n(163),h=r(d),p=n(1115),v=r(p),y=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.saveRef=function(e){r.target=e},a=n,i(r,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.intent=this.props.intent.start(this.target).then(this.props.onIntentSuccess).catch(function(t){return e.props.onIntentError(t)})}},{key:"render",value:function(e){var t=e.style;return c.default.createElement(f.default,{into:"body"},c.default.createElement("div",{style:t,className:v.default["modal--fullscreen"]},c.default.createElement(h.default,{overflowHidden:!0,dismissAction:this.props.dismissAction},c.default.createElement("div",{className:v.default.content,ref:this.saveRef}))))}}]),t}(s.Component);t.default=y},function(e,t,n){!function(t,r){e.exports=r(n(292))}(0,function(e){"use strict";var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},o=function(o){function a(){return t(this,a),r(this,o.apply(this,arguments))}return n(a,o),a.prototype.componentDidUpdate=function(e){for(var t in e)if(e[t]!==this.props[t])return this.renderLayer()},a.prototype.componentDidMount=function(){this.renderLayer()},a.prototype.componentWillUnmount=function(){this.renderLayer(!1),this.remote&&this.remote.parentNode.removeChild(this.remote)},a.prototype.findNode=function(e){return"string"==typeof e?document.querySelector(e):e},a.prototype.renderLayer=function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.props.into!==this.intoPointer&&(this.intoPointer=this.props.into,this.into&&this.remote&&(this.remote=e.render(e.h(i,null),this.into,this.remote)),this.into=this.findNode(this.props.into)),this.remote=e.render(e.h(i,{context:this.context},t&&this.props.children||null),this.into,this.remote)},a.prototype.render=function(){return null},a}(e.Component),i=function(e){function o(){return t(this,o),r(this,e.apply(this,arguments))}return n(o,e),o.prototype.getChildContext=function(){return this.props.context},o.prototype.render=function(e){var t=e.children;return t&&t[0]||null},o}(e.Component);return o})},function(e,t){e.exports={"modal--fullscreen":"styles_modal--fullscreen_3QWjc",content:"styles_content_1lZOq"}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkApp=t.BANKS_INFO=t.DRIVE_INFO=void 0;var o=n(19),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=(t.DRIVE_INFO={appId:"io.cozy.drive.mobile",uri:"cozydrive://"},t.BANKS_INFO={appId:"io.cozy.banks.mobile",uri:"cozybanks://"},function(){return startApp}),u=function(e){var t=e.appId,n=e.uri;return"android"===cordova.platformId?{package:t}:n};t.checkApp=function(){var e=r(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u(t),e.abrupt("return",new Promise(function(e,t){a()?startApp.set(n).check(function(t){e("OK"===t?!0:t)},function(n){!1===n||0===n.indexOf("NameNotFoundException")?e(!1):t(n)}):t(new Error("Cordova plugin 'com.lampa.startapp' is not installed."))}));case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){var r,o;/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){"use strict";function t(e){var t=e.length,r=n.type(e);return"function"!==r&&!n.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return e&&e===e.window},n.type=function(e){return e?"object"==typeof e||"function"==typeof e?o[a.call(e)]||"object":typeof e:e+""},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||i.call(e,t)},n.each=function(e,n,r){var o=0,i=e.length,a=t(e);if(r){if(a)for(;o<i&&!1!==n.apply(e[o],r);o++);else for(o in e)if(e.hasOwnProperty(o)&&!1===n.apply(e[o],r))break}else if(a)for(;o<i&&!1!==n.call(e[o],o,e[o]);o++);else for(o in e)if(e.hasOwnProperty(o)&&!1===n.call(e[o],o,e[o]))break;return e},n.data=function(e,t,o){if(void 0===o){var i=e[n.expando],a=i&&r[i];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var u=e[n.expando]||(e[n.expando]=++n.uuid);return r[u]=r[u]||{},r[u][t]=o,o}},n.removeData=function(e,t){var o=e[n.expando],i=o&&r[o];i&&(t?n.each(t,function(e,t){delete i[t]}):delete r[o])},n.extend=function(){var e,t,r,o,i,a,u=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[s]||{},s++),"object"!=typeof u&&"function"!==n.type(u)&&(u={}),s===c&&(u=this,s--);s<c;s++)if(i=arguments[s])for(o in i)i.hasOwnProperty(o)&&(e=u[o],r=i[o],u!==r&&(l&&r&&(n.isPlainObject(r)||(t=n.isArray(r)))?(t?(t=!1,a=e&&n.isArray(e)?e:[]):a=e&&n.isPlainObject(e)?e:{},u[o]=n.extend(l,a,r)):void 0!==r&&(u[o]=r)));return u},n.queue=function(e,r,o){if(e){r=(r||"fx")+"queue";var i=n.data(e,r);return o?(!i||n.isArray(o)?i=n.data(e,r,function(e,n){var r=n||[];return e&&(t(Object(e))?function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;)e[o++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[o++]=t[r++];e.length=o}(r,"string"==typeof e?[e]:e):[].push.call(r,e)),r}(o)):i.push(o),i):i||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,r){t=t||"fx";var o=n.queue(r,t),i=o.shift();"inprogress"===i&&(i=o.shift()),i&&("fx"===t&&o.unshift("inprogress"),i.call(r,function(){n.dequeue(r,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}(e),r=this.offset(),o=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(o.top+=parseFloat(t.style.borderTopWidth)||0,o.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-o.top,left:r.left-o.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var o={},i=o.hasOwnProperty,a=o.toString,u="Boolean Number String Function Array Date RegExp Object Error".split(" "),s=0;s<u.length;s++)o["[object "+u[s]+"]"]=u[s].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=i():(r=i,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o))}(function(){"use strict";return function(e,t,n,r){function o(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var o=e[t];o&&r.push(o)}return r}function i(e){return _.isWrapped(e)?e=g.call(e):_.isNode(e)&&(e=[e]),e}function a(e){var t=p.data(e,"velocity");return null===t?r:t}function u(e,t){var n=a(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function s(e,t){var n=a(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function c(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,n,r,o){function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function u(e){return 3*e}function s(e,t,n){return((i(t,n)*e+a(t,n))*e+u(t))*e}function c(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+u(t)}function l(t,n){for(var o=0;o<v;++o){var i=c(n,e,r);if(0===i)return n;n-=(s(n,e,r)-t)/i}return n}function f(){for(var t=0;t<b;++t)k[t]=s(t*_,e,r)}function d(t,n,o){var i,a,u=0;do{a=n+(o-n)/2,i=s(a,e,r)-t,i>0?o=a:n=a}while(Math.abs(i)>m&&++u<g);return a}function h(t){for(var n=0,o=1,i=b-1;o!==i&&k[o]<=t;++o)n+=_;--o;var a=(t-k[o])/(k[o+1]-k[o]),u=n+a*_,s=c(u,e,r);return s>=y?l(t,u):0===s?u:d(t,n,n+_)}function p(){E=!0,e===n&&r===o||f()}var v=4,y=.001,m=1e-7,g=10,b=11,_=1/(b-1),w="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var k=w?new Float32Array(b):new Array(b),E=!1,S=function(t){return E||p(),e===n&&r===o?t:0===t?0:1===t?1:s(h(t),n,o)};S.getControlPoints=function(){return[{x:e,y:n},{x:r,y:o}]};var C="generateBezier("+[e,n,r,o]+")";return S.toString=function(){return C},S}function f(e,t){var n=e;return _.isString(e)?E.Easings[e]||(n=!1):n=_.isArray(e)&&1===e.length?c.apply(null,e):_.isArray(e)&&2===e.length?S.apply(null,e.concat([t])):!(!_.isArray(e)||4!==e.length)&&l.apply(null,e),!1===n&&(n=E.Easings[E.defaults.easing]?E.defaults.easing:k),n}function d(e){if(e){var t=E.timestamp&&!0!==e?e:m.now(),n=E.State.calls.length;n>1e4&&(E.State.calls=o(E.State.calls),n=E.State.calls.length);for(var i=0;i<n;i++)if(E.State.calls[i]){var u=E.State.calls[i],s=u[0],c=u[2],l=u[3],f=!!l,y=null,g=u[5],b=u[6];if(l||(l=E.State.calls[i][3]=t-16),g){if(!0!==g.resume)continue;l=u[3]=Math.round(t-b-16),u[5]=null}b=u[6]=t-l;for(var w=Math.min(b/c.duration,1),x=0,k=s.length;x<k;x++){var S=s[x],O=S.element;if(a(O)){var A=!1;if(c.display!==r&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var j=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];p.each(j,function(e,t){C.setPropertyValue(O,"display",t)})}C.setPropertyValue(O,"display",c.display)}c.visibility!==r&&"hidden"!==c.visibility&&C.setPropertyValue(O,"visibility",c.visibility);for(var M in S)if(S.hasOwnProperty(M)&&"element"!==M){var P,D=S[M],L=_.isString(D.easing)?E.Easings[D.easing]:D.easing;if(_.isString(D.pattern)){var I=1===w?function(e,t,n){var r=D.endValue[t];return n?Math.round(r):r}:function(e,t,n){var r=D.startValue[t],o=D.endValue[t]-r,i=r+o*L(w,c,o);return n?Math.round(i):i};P=D.pattern.replace(/{(\d+)(!)?}/g,I)}else if(1===w)P=D.endValue;else{var R=D.endValue-D.startValue;P=D.startValue+R*L(w,c,R)}if(!f&&P===D.currentValue)continue;if(D.currentValue=P,"tween"===M)y=P;else{var N;if(C.Hooks.registered[M]){N=C.Hooks.getRoot(M);var F=a(O).rootPropertyValueCache[N];F&&(D.rootPropertyValue=F)}var B=C.setPropertyValue(O,M,D.currentValue+(v<9&&0===parseFloat(P)?"":D.unitType),D.rootPropertyValue,D.scrollData);C.Hooks.registered[M]&&(C.Normalizations.registered[N]?a(O).rootPropertyValueCache[N]=C.Normalizations.registered[N]("extract",null,B[1]):a(O).rootPropertyValueCache[N]=B[1]),"transform"===B[0]&&(A=!0)}}c.mobileHA&&a(O).transformCache.translate3d===r&&(a(O).transformCache.translate3d="(0px, 0px, 0px)",A=!0),A&&C.flushTransformCache(O)}}c.display!==r&&"none"!==c.display&&(E.State.calls[i][2].display=!1),c.visibility!==r&&"hidden"!==c.visibility&&(E.State.calls[i][2].visibility=!1),c.progress&&c.progress.call(u[1],u[1],w,Math.max(0,l+c.duration-t),l,y),1===w&&h(i)}}E.State.isTicking&&T(d)}function h(e,t){if(!E.State.calls[e])return!1;for(var n=E.State.calls[e][0],o=E.State.calls[e][1],i=E.State.calls[e][2],u=E.State.calls[e][4],s=!1,c=0,l=n.length;c<l;c++){var f=n[c].element;t||i.loop||("none"===i.display&&C.setPropertyValue(f,"display",i.display),"hidden"===i.visibility&&C.setPropertyValue(f,"visibility",i.visibility));var d=a(f);if(!0!==i.loop&&(p.queue(f)[1]===r||!/\.velocityQueueEntryFlag/i.test(p.queue(f)[1]))&&d){d.isAnimating=!1,d.rootPropertyValueCache={};var h=!1;p.each(C.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,o=d.transformCache[t];d.transformCache[t]!==r&&new RegExp("^\\("+n+"[^.]").test(o)&&(h=!0,delete d.transformCache[t])}),i.mobileHA&&(h=!0,delete d.transformCache.translate3d),h&&C.flushTransformCache(f),C.Values.removeClass(f,"velocity-animating")}if(!t&&i.complete&&!i.loop&&c===l-1)try{i.complete.call(o,o)}catch(e){setTimeout(function(){throw e},1)}u&&!0!==i.loop&&u(o),d&&!0===i.loop&&!t&&(p.each(d.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),E(f,"reverse",{loop:!0,delay:i.delay})),!1!==i.queue&&p.dequeue(f,i.queue)}E.State.calls[e]=!1;for(var v=0,y=E.State.calls.length;v<y;v++)if(!1!==E.State.calls[v]){s=!0;break}!1===s&&(E.State.isTicking=!1,delete E.State.calls,E.State.calls=[])}var p,v=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return r}(),y=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-e)),e=r+n,setTimeout(function(){t(r+n)},n)}}(),m=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}(),g=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var r=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=r),this.slice)return e.call(this,t,n);var o,i=[],a=t>=0?t:Math.max(0,r+t),u=n<0?r+n:Math.min(n,r),s=u-a;if(s>0)if(i=new Array(s),this.charAt)for(o=0;o<s;o++)i[o]=this.charAt(a+o);else for(o=0;o<s;o++)i[o]=this[a+o];return i}}}(),b=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},_={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&_.isNumber(e.length)&&!_.isString(e)&&!_.isFunction(e)&&!_.isNode(e)&&(0===e.length||_.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},w=!1;if(e.fn&&e.fn.jquery?(p=e,w=!0):p=t.Velocity.Utilities,v<=8&&!w)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(v<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var x=400,k="swing",E={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:x,easing:k,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){p.data(e,"velocity",{isSVG:_.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:0},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();p.each(E.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]={resume:!1}}}),p.each(E.State.delayedElements,function(e,n){n&&u(n,t)})},resumeAll:function(e){var t=(new Date).getTime();p.each(E.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}}),p.each(E.State.delayedElements,function(e,n){n&&s(n,t)})}};t.pageYOffset!==r?(E.State.scrollAnchor=t,E.State.scrollPropertyLeft="pageXOffset",E.State.scrollPropertyTop="pageYOffset"):(E.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,E.State.scrollPropertyLeft="scrollLeft",E.State.scrollPropertyTop="scrollTop");var S=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var o={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function n(n,r){var o={dx:n.v,dv:e(n)},i=t(n,.5*r,o),a=t(n,.5*r,i),u=t(n,r,a),s=1/6*(o.dx+2*(i.dx+a.dx)+u.dx),c=1/6*(o.dv+2*(i.dv+a.dv)+u.dv);return n.x=n.x+s*r,n.v=n.v+c*r,n}return function e(t,r,o){var i,a,u,s={x:-1,v:0,tension:null,friction:null},c=[0],l=0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,o=o||null,s.tension=t,s.friction=r,i=null!==o,i?(l=e(t,r),a=l/o*.016):a=.016;;)if(u=n(u||s,a),c.push(1+u.x),l+=16,!(Math.abs(u.x)>1e-4&&Math.abs(u.v)>1e-4))break;return i?function(e){return c[e*(c.length-1)|0]}:l}}();E.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){E.Easings[t[0]]=l.apply(null,t[1])});var C=E.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<C.Lists.colors.length;e++){var t="color"===C.Lists.colors[e]?"0 0 0 1":"255 255 255 1";C.Hooks.templates[C.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,r,o;if(v)for(n in C.Hooks.templates)if(C.Hooks.templates.hasOwnProperty(n)){r=C.Hooks.templates[n],o=r[0].split(" ");var i=r[1].match(C.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),i.push(i.shift()),C.Hooks.templates[n]=[o.join(" "),i.join(" ")])}for(n in C.Hooks.templates)if(C.Hooks.templates.hasOwnProperty(n)){r=C.Hooks.templates[n],o=r[0].split(" ");for(var a in o)if(o.hasOwnProperty(a)){var u=n+o[a],s=a;C.Hooks.registered[u]=[n,s]}}},getRoot:function(e){var t=C.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&b(C.Lists.units,n)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,n){return C.Lists.colorNames.hasOwnProperty(n)?(t||"rgba(")+C.Lists.colorNames[n]+(t?"":",1)"):t+n})},cleanRootPropertyValue:function(e,t){return C.RegEx.valueUnwrap.test(t)&&(t=t.match(C.RegEx.valueUnwrap)[1]),C.Values.isCSSNullValue(t)&&(t=C.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=C.Hooks.registered[e];if(n){var r=n[0],o=n[1];return t=C.Hooks.cleanRootPropertyValue(r,t),t.toString().match(C.RegEx.valueSplit)[o]}return t},injectValue:function(e,t,n){var r=C.Hooks.registered[e];if(r){var o,i=r[0],a=r[1];return n=C.Hooks.cleanRootPropertyValue(i,n),o=n.toString().match(C.RegEx.valueSplit),o[a]=t,o.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return C.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(C.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return E.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var o=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=o?o[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(v<=8)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){function e(e,t,n){if("border-box"===C.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(n||!1)){var r,o,i=0,a="width"===e?["Left","Right"]:["Top","Bottom"],u=["padding"+a[0],"padding"+a[1],"border"+a[0]+"Width","border"+a[1]+"Width"];for(r=0;r<u.length;r++)o=parseFloat(C.getPropertyValue(t,u[r])),isNaN(o)||(i+=o);return n?-i:i}return 0}function t(t,n){return function(r,o,i){switch(r){case"name":return t;case"extract":return parseFloat(i)+e(t,o,n);case"inject":return parseFloat(i)-e(t,o,n)+"px"}}}v&&!(v>9)||E.State.isGingerbread||(C.Lists.transformsBase=C.Lists.transformsBase.concat(C.Lists.transforms3D));for(var n=0;n<C.Lists.transformsBase.length;n++)!function(){var e=C.Lists.transformsBase[n];C.Normalizations.registered[e]=function(t,n,o){switch(t){case"name":return"transform";case"extract":return a(n)===r||a(n).transformCache[e]===r?/^scale/i.test(e)?1:0:a(n).transformCache[e].replace(/[()]/g,"");case"inject":var i=!1;switch(e.substr(0,e.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":E.State.isAndroid&&a(n).transformCache[e]===r&&o<1&&(o=1),i=!/(\d)$/i.test(o);break;case"skew":case"rotate":i=!/(deg|\d)$/i.test(o)}return i||(a(n).transformCache[e]="("+o+")"),a(n).transformCache[e]}}}();for(var o=0;o<C.Lists.colors.length;o++)!function(){var e=C.Lists.colors[o];C.Normalizations.registered[e]=function(t,n,o){switch(t){case"name":return e;case"extract":var i;if(C.RegEx.wrappedValueAlreadyExtracted.test(o))i=o;else{var a,u={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?a=u[o]!==r?u[o]:u.black:C.RegEx.isHex.test(o)?a="rgb("+C.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(a=u.black),i=(a||o).toString().match(C.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!v||v>8)&&3===i.split(" ").length&&(i+=" 1"),i;case"inject":return/^rgb/.test(o)?o:(v<=8?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(v<=8?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();C.Normalizations.registered.innerWidth=t("width",!0),C.Normalizations.registered.innerHeight=t("height",!0),C.Normalizations.registered.outerWidth=t("width"),C.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(v||E.State.isAndroid&&!E.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(E.State.prefixMatches[e])return[E.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;n<r;n++){var o;if(o=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),_.isString(E.State.prefixElement.style[o]))return E.State.prefixMatches[e]=o,[o,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,r){return t+t+n+n+r+r}),t=r.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(_.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(v<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(_.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(v<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,o,i){function u(e,n){var o=0;if(v<=8)o=p.css(e,n);else{var s=!1;/^(width|height)$/.test(n)&&0===C.getPropertyValue(e,"display")&&(s=!0,C.setPropertyValue(e,"display",C.Values.getDisplayType(e)));var c=function(){s&&C.setPropertyValue(e,"display","none")};if(!i){if("height"===n&&"border-box"!==C.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var l=e.offsetHeight-(parseFloat(C.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(C.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(C.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(C.getPropertyValue(e,"paddingBottom"))||0);return c(),l}if("width"===n&&"border-box"!==C.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var f=e.offsetWidth-(parseFloat(C.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(C.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(C.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(C.getPropertyValue(e,"paddingRight"))||0);return c(),f}}var d;d=a(e)===r?t.getComputedStyle(e,null):a(e).computedStyle?a(e).computedStyle:a(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),o=9===v&&"filter"===n?d.getPropertyValue(n):d[n],""!==o&&null!==o||(o=e.style[n]),c()}if("auto"===o&&/^(top|right|bottom|left)$/i.test(n)){var h=u(e,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(n))&&(o=p(e).position()[n]+"px")}return o}var s;if(C.Hooks.registered[n]){var c=n,l=C.Hooks.getRoot(c);o===r&&(o=C.getPropertyValue(e,C.Names.prefixCheck(l)[0])),C.Normalizations.registered[l]&&(o=C.Normalizations.registered[l]("extract",e,o)),s=C.Hooks.extractValue(c,o)}else if(C.Normalizations.registered[n]){var f,d;f=C.Normalizations.registered[n]("name",e),"transform"!==f&&(d=u(e,C.Names.prefixCheck(f)[0]),C.Values.isCSSNullValue(d)&&C.Hooks.templates[n]&&(d=C.Hooks.templates[n][1])),s=C.Normalizations.registered[n]("extract",e,d)}if(!/^[\d-]/.test(s)){var h=a(e);if(h&&h.isSVG&&C.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{s=e.getBBox()[n]}catch(e){s=0}else s=e.getAttribute(n);else s=u(e,C.Names.prefixCheck(n)[0])}return C.Values.isCSSNullValue(s)&&(s=0),E.debug>=2&&console.log("Get "+n+": "+s),s},setPropertyValue:function(e,n,r,o,i){var u=n;if("scroll"===n)i.container?i.container["scroll"+i.direction]=r:"Left"===i.direction?t.scrollTo(r,i.alternateValue):t.scrollTo(i.alternateValue,r);else if(C.Normalizations.registered[n]&&"transform"===C.Normalizations.registered[n]("name",e))C.Normalizations.registered[n]("inject",e,r),u="transform",r=a(e).transformCache[n];else{if(C.Hooks.registered[n]){var s=n,c=C.Hooks.getRoot(n);o=o||C.getPropertyValue(e,c),r=C.Hooks.injectValue(s,r,o),n=c}if(C.Normalizations.registered[n]&&(r=C.Normalizations.registered[n]("inject",e,r),n=C.Normalizations.registered[n]("name",e)),u=C.Names.prefixCheck(n)[0],v<=8)try{e.style[u]=r}catch(e){E.debug&&console.log("Browser does not support ["+r+"] for ["+u+"]")}else{var l=a(e);l&&l.isSVG&&C.Names.SVGAttribute(n)?e.setAttribute(n,r):e.style[u]=r}E.debug>=2&&console.log("Set "+n+" ("+u+"): "+r)}return[u,r]},flushTransformCache:function(e){var t="",n=a(e);if((v||E.State.isAndroid&&!E.State.isChrome)&&n&&n.isSVG){var r=function(t){return parseFloat(C.getPropertyValue(e,t))},o={translate:[r("translateX"),r("translateY")],skewX:[r("skewX")],skewY:[r("skewY")],scale:1!==r("scale")?[r("scale"),r("scale")]:[r("scaleX"),r("scaleY")],rotate:[r("rotateZ"),0,0]};p.each(a(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),o[e]&&(t+=e+"("+o[e].join(" ")+") ",delete o[e])})}else{var i,u;p.each(a(e).transformCache,function(n){if(i=a(e).transformCache[n],"transformPerspective"===n)return u=i,!0;9===v&&"rotateZ"===n&&(n="rotate"),t+=n+i+" "}),u&&(t="perspective"+u+" "+t)}C.setPropertyValue(e,"transform",t)}};C.Hooks.register(),C.Normalizations.register(),E.hook=function(e,t,n){var o;return e=i(e),p.each(e,function(e,i){if(a(i)===r&&E.init(i),n===r)o===r&&(o=C.getPropertyValue(i,t));else{var u=C.setPropertyValue(i,t,n);"transform"===u[0]&&E.CSS.flushTransformCache(i),o=u}}),o};var O=function(){function e(){return l?S.promise||null:v}function o(e,o){function i(i){var l,h;if(s.begin&&0===A)try{s.begin.call(m,m)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===P){var v,y,x,k=/^x$/i.test(s.axis)?"Left":"Top",O=parseFloat(s.offset)||0;s.container?_.isWrapped(s.container)||_.isNode(s.container)?(s.container=s.container[0]||s.container,v=s.container["scroll"+k],x=v+p(e).position()[k.toLowerCase()]+O):s.container=null:(v=E.State.scrollAnchor[E.State["scrollProperty"+k]],y=E.State.scrollAnchor[E.State["scrollProperty"+("Left"===k?"Top":"Left")]],x=p(e).offset()[k.toLowerCase()]+O),c={scroll:{rootPropertyValue:!1,startValue:v,currentValue:v,endValue:x,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:k,alternateValue:y}},element:e},E.debug&&console.log("tweensContainer (scroll): ",c.scroll,e)}else if("reverse"===P){if(!(l=a(e)))return;if(!l.tweensContainer)return void p.dequeue(e,s.queue);"none"===l.opts.display&&(l.opts.display="auto"),"hidden"===l.opts.visibility&&(l.opts.visibility="visible"),l.opts.loop=!1,l.opts.begin=null,l.opts.complete=null,w.easing||delete s.easing,w.duration||delete s.duration,s=p.extend({},l.opts,s),h=p.extend(!0,{},l?l.tweensContainer:null);for(var j in h)if(h.hasOwnProperty(j)&&"element"!==j){var M=h[j].startValue;h[j].startValue=h[j].currentValue=h[j].endValue,h[j].endValue=M,_.isEmptyObject(w)||(h[j].easing=s.easing),E.debug&&console.log("reverse tweensContainer ("+j+"): "+JSON.stringify(h[j]),e)}c=h}else if("start"===P){l=a(e),l&&l.tweensContainer&&!0===l.isAnimating&&(h=l.tweensContainer);var D=function(o,i){var a,f=C.Hooks.getRoot(o),d=!1,v=i[0],y=i[1],m=i[2];if(!(l&&l.isSVG||"tween"===f||!1!==C.Names.prefixCheck(f)[1]||C.Normalizations.registered[f]!==r))return void(E.debug&&console.log("Skipping ["+f+"] due to a lack of browser support."));(s.display!==r&&null!==s.display&&"none"!==s.display||s.visibility!==r&&"hidden"!==s.visibility)&&/opacity|filter/.test(o)&&!m&&0!==v&&(m=0),s._cacheValues&&h&&h[o]?(m===r&&(m=h[o].endValue+h[o].unitType),d=l.rootPropertyValueCache[f]):C.Hooks.registered[o]?m===r?(d=C.getPropertyValue(e,f),m=C.getPropertyValue(e,o,d)):d=C.Hooks.templates[f][1]:m===r&&(m=C.getPropertyValue(e,o));var g,b,w,x=!1,k=function(e,t){var n,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=C.Values.getUnitType(e)),[r,n]};if(m!==v&&_.isString(m)&&_.isString(v)){a="";var S=0,O=0,T=[],A=[],j=0,M=0,P=0;for(m=C.Hooks.fixColors(m),v=C.Hooks.fixColors(v);S<m.length&&O<v.length;){var D=m[S],L=v[O];if(/[\d\.-]/.test(D)&&/[\d\.-]/.test(L)){for(var I=D,R=L,N=".",B=".";++S<m.length;){if((D=m[S])===N)N="..";else if(!/\d/.test(D))break;I+=D}for(;++O<v.length;){if((L=v[O])===B)B="..";else if(!/\d/.test(L))break;R+=L}var z=C.Hooks.getUnit(m,S),q=C.Hooks.getUnit(v,O);if(S+=z.length,O+=q.length,z===q)I===R?a+=I+z:(a+="{"+T.length+(M?"!":"")+"}"+z,T.push(parseFloat(I)),A.push(parseFloat(R)));else{var U=parseFloat(I),H=parseFloat(R);a+=(j<5?"calc":"")+"("+(U?"{"+T.length+(M?"!":"")+"}":"0")+z+" + "+(H?"{"+(T.length+(U?1:0))+(M?"!":"")+"}":"0")+q+")",U&&(T.push(U),A.push(0)),H&&(T.push(0),A.push(H))}}else{if(D!==L){j=0;break}a+=D,S++,O++,0===j&&"c"===D||1===j&&"a"===D||2===j&&"l"===D||3===j&&"c"===D||j>=4&&"("===D?j++:(j&&j<5||j>=4&&")"===D&&--j<5)&&(j=0),0===M&&"r"===D||1===M&&"g"===D||2===M&&"b"===D||3===M&&"a"===D||M>=3&&"("===D?(3===M&&"a"===D&&(P=1),M++):P&&","===D?++P>3&&(M=P=0):(P&&M<(P?5:4)||M>=(P?4:3)&&")"===D&&--M<(P?5:4))&&(M=P=0)}}S===m.length&&O===v.length||(E.debug&&console.error('Trying to pattern match mis-matched strings ["'+v+'", "'+m+'"]'),a=r),a&&(T.length?(E.debug&&console.log('Pattern found "'+a+'" -> ',T,A,"["+m+","+v+"]"),m=T,v=A,b=w=""):a=r)}a||(g=k(o,m),m=g[0],w=g[1],g=k(o,v),v=g[0].replace(/^([+-\/*])=/,function(e,t){return x=t,""}),b=g[1],m=parseFloat(m)||0,v=parseFloat(v)||0,"%"===b&&(/^(fontSize|lineHeight)$/.test(o)?(v/=100,b="em"):/^scale/.test(o)?(v/=100,b=""):/(Red|Green|Blue)$/i.test(o)&&(v=v/100*255,b="")));if(/[\/*]/.test(x))b=w;else if(w!==b&&0!==m)if(0===v)b=w;else{u=u||function(){var r={myParent:e.parentNode||n.body,position:C.getPropertyValue(e,"position"),fontSize:C.getPropertyValue(e,"fontSize")},o=r.position===F.lastPosition&&r.myParent===F.lastParent,i=r.fontSize===F.lastFontSize;F.lastParent=r.myParent,F.lastPosition=r.position,F.lastFontSize=r.fontSize;var a={};if(i&&o)a.emToPx=F.lastEmToPx,a.percentToPxWidth=F.lastPercentToPxWidth,a.percentToPxHeight=F.lastPercentToPxHeight;else{var u=l&&l.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");E.init(u),r.myParent.appendChild(u),p.each(["overflow","overflowX","overflowY"],function(e,t){E.CSS.setPropertyValue(u,t,"hidden")}),E.CSS.setPropertyValue(u,"position",r.position),E.CSS.setPropertyValue(u,"fontSize",r.fontSize),E.CSS.setPropertyValue(u,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){E.CSS.setPropertyValue(u,t,"100%")}),E.CSS.setPropertyValue(u,"paddingLeft","100em"),a.percentToPxWidth=F.lastPercentToPxWidth=(parseFloat(C.getPropertyValue(u,"width",null,!0))||1)/100,a.percentToPxHeight=F.lastPercentToPxHeight=(parseFloat(C.getPropertyValue(u,"height",null,!0))||1)/100,a.emToPx=F.lastEmToPx=(parseFloat(C.getPropertyValue(u,"paddingLeft"))||1)/100,r.myParent.removeChild(u)}return null===F.remToPx&&(F.remToPx=parseFloat(C.getPropertyValue(n.body,"fontSize"))||16),null===F.vwToPx&&(F.vwToPx=parseFloat(t.innerWidth)/100,F.vhToPx=parseFloat(t.innerHeight)/100),a.remToPx=F.remToPx,a.vwToPx=F.vwToPx,a.vhToPx=F.vhToPx,E.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),e),a}();var Y=/margin|padding|left|right|width|text|word|letter/i.test(o)||/X$/.test(o)||"x"===o?"x":"y";switch(w){case"%":m*="x"===Y?u.percentToPxWidth:u.percentToPxHeight;break;case"px":break;default:m*=u[w+"ToPx"]}switch(b){case"%":m*=1/("x"===Y?u.percentToPxWidth:u.percentToPxHeight);break;case"px":break;default:m*=1/u[b+"ToPx"]}}switch(x){case"+":v=m+v;break;case"-":v=m-v;break;case"*":v*=m;break;case"/":v=m/v}c[o]={rootPropertyValue:d,startValue:m,currentValue:m,endValue:v,unitType:b,easing:y},a&&(c[o].pattern=a),E.debug&&console.log("tweensContainer ("+o+"): "+JSON.stringify(c[o]),e)};for(var L in g)if(g.hasOwnProperty(L)){var I=C.Names.camelCase(L),R=function(t,n){var r,i,a;return _.isFunction(t)&&(t=t.call(e,o,T)),_.isArray(t)?(r=t[0],!_.isArray(t[1])&&/^[\d-]/.test(t[1])||_.isFunction(t[1])||C.RegEx.isHex.test(t[1])?a=t[1]:_.isString(t[1])&&!C.RegEx.isHex.test(t[1])&&E.Easings[t[1]]||_.isArray(t[1])?(i=n?t[1]:f(t[1],s.duration),a=t[2]):a=t[1]||t[2]):r=t,n||(i=i||s.easing),_.isFunction(r)&&(r=r.call(e,o,T)),_.isFunction(a)&&(a=a.call(e,o,T)),[r||0,i,a]}(g[L]);if(b(C.Lists.colors,I)){var N=R[0],z=R[1],q=R[2];if(C.RegEx.isHex.test(N)){for(var U=["Red","Green","Blue"],H=C.Values.hexToRgb(N),Y=q?C.Values.hexToRgb(q):r,V=0;V<U.length;V++){var W=[H[V]];z&&W.push(z),Y!==r&&W.push(Y[V]),D(I+U[V],W)}continue}}D(I,R)}c.element=e}c.element&&(C.Values.addClass(e,"velocity-animating"),B.push(c),l=a(e),l&&(""===s.queue&&(l.tweensContainer=c,l.opts=s),l.isAnimating=!0),A===T-1?(E.State.calls.push([B,m,s,null,S.resolver,null,0]),!1===E.State.isTicking&&(E.State.isTicking=!0,d())):A++)}var u,s=p.extend({},E.defaults,w),c={};switch(a(e)===r&&E.init(e),parseFloat(s.delay)&&!1!==s.queue&&p.queue(e,s.queue,function(t){E.velocityQueueEntryFlag=!0;var n=E.State.delayedElements.count++;E.State.delayedElements[n]=e;var r=function(e){return function(){E.State.delayedElements[e]=!1,t()}}(n);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(s.delay),a(e).delayTimer={setTimeout:setTimeout(t,parseFloat(s.delay)),next:r}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=x;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}if(!1!==E.mock&&(!0===E.mock?s.duration=s.delay=1:(s.duration*=parseFloat(E.mock)||1,s.delay*=parseFloat(E.mock)||1)),s.easing=f(s.easing,s.duration),s.begin&&!_.isFunction(s.begin)&&(s.begin=null),s.progress&&!_.isFunction(s.progress)&&(s.progress=null),s.complete&&!_.isFunction(s.complete)&&(s.complete=null),s.display!==r&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=E.CSS.Values.getDisplayType(e))),s.visibility!==r&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&E.State.isMobile&&!E.State.isGingerbread,!1===s.queue)if(s.delay){var l=E.State.delayedElements.count++;E.State.delayedElements[l]=e;var h=function(e){return function(){E.State.delayedElements[e]=!1,i()}}(l);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(s.delay),a(e).delayTimer={setTimeout:setTimeout(i,parseFloat(s.delay)),next:h}}else i();else p.queue(e,s.queue,function(e,t){if(!0===t)return S.promise&&S.resolver(m),!0;E.velocityQueueEntryFlag=!0,i(e)});""!==s.queue&&"fx"!==s.queue||"inprogress"===p.queue(e)[0]||p.dequeue(e)}var c,l,v,y,m,g,w,k=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||_.isString(arguments[0].properties));_.isWrapped(this)?(l=!1,y=0,m=this,v=this):(l=!0,y=1,m=k?arguments[0].elements||arguments[0].e:arguments[0]);var S={promise:null,resolver:null,rejecter:null};if(l&&E.Promise&&(S.promise=new E.Promise(function(e,t){S.resolver=e,S.rejecter=t})),k?(g=arguments[0].properties||arguments[0].p,w=arguments[0].options||arguments[0].o):(g=arguments[y],w=arguments[y+1]),!(m=i(m)))return void(S.promise&&(g&&w&&!1===w.promiseRejectEmpty?S.resolver():S.rejecter()));var T=m.length,A=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(g)&&!p.isPlainObject(w)){var j=y+1;w={};for(var M=j;M<arguments.length;M++)_.isArray(arguments[M])||!/^(fast|normal|slow)$/i.test(arguments[M])&&!/^\d/.test(arguments[M])?_.isString(arguments[M])||_.isArray(arguments[M])?w.easing=arguments[M]:_.isFunction(arguments[M])&&(w.complete=arguments[M]):w.duration=arguments[M]}var P;switch(g){case"scroll":P="scroll";break;case"reverse":P="reverse";break;case"pause":var D=(new Date).getTime();return p.each(m,function(e,t){u(t,D)}),p.each(E.State.calls,function(e,t){var n=!1;t&&p.each(t[1],function(e,o){var i=w===r?"":w;return!0!==i&&t[2].queue!==i&&(w!==r||!1!==t[2].queue)||(p.each(m,function(e,r){if(r===o)return t[5]={resume:!1},n=!0,!1}),!n&&void 0)})}),e();case"resume":return p.each(m,function(e,t){s(t,D)}),p.each(E.State.calls,function(e,t){var n=!1;t&&p.each(t[1],function(e,o){var i=w===r?"":w;return!0!==i&&t[2].queue!==i&&(w!==r||!1!==t[2].queue)||(!t[5]||(p.each(m,function(e,r){if(r===o)return t[5].resume=!0,n=!0,!1}),!n&&void 0))})}),e();case"finish":case"finishAll":case"stop":p.each(m,function(e,t){a(t)&&a(t).delayTimer&&(clearTimeout(a(t).delayTimer.setTimeout),a(t).delayTimer.next&&a(t).delayTimer.next(),delete a(t).delayTimer),"finishAll"!==g||!0!==w&&!_.isString(w)||(p.each(p.queue(t,_.isString(w)?w:""),function(e,t){_.isFunction(t)&&t()}),p.queue(t,_.isString(w)?w:"",[]))});var L=[];return p.each(E.State.calls,function(e,t){t&&p.each(t[1],function(n,o){var i=w===r?"":w;if(!0!==i&&t[2].queue!==i&&(w!==r||!1!==t[2].queue))return!0;p.each(m,function(n,r){if(r===o)if((!0===w||_.isString(w))&&(p.each(p.queue(r,_.isString(w)?w:""),function(e,t){_.isFunction(t)&&t(null,!0)}),p.queue(r,_.isString(w)?w:"",[])),"stop"===g){var u=a(r);u&&u.tweensContainer&&!1!==i&&p.each(u.tweensContainer,function(e,t){t.endValue=t.currentValue}),L.push(e)}else"finish"!==g&&"finishAll"!==g||(t[2].duration=1)})})}),"stop"===g&&(p.each(L,function(e,t){h(t,!0)}),S.promise&&S.resolver(m)),e();default:if(!p.isPlainObject(g)||_.isEmptyObject(g)){if(_.isString(g)&&E.Redirects[g]){c=p.extend({},w);var I=c.duration,R=c.delay||0;return!0===c.backwards&&(m=p.extend(!0,[],m).reverse()),p.each(m,function(e,t){parseFloat(c.stagger)?c.delay=R+parseFloat(c.stagger)*e:_.isFunction(c.stagger)&&(c.delay=R+c.stagger.call(t,e,T)),c.drag&&(c.duration=parseFloat(I)||(/^(callout|transition)/.test(g)?1e3:x),c.duration=Math.max(c.duration*(c.backwards?1-e/T:(e+1)/T),.75*c.duration,200)),E.Redirects[g].call(t,t,c||{},e,T,m,S.promise?S:r)}),e()}var N="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return S.promise?S.rejecter(new Error(N)):t.console&&console.log(N),e()}P="start"}var F={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},B=[];p.each(m,function(e,t){_.isNode(t)&&o(t,e)}),c=p.extend({},E.defaults,w),c.loop=parseInt(c.loop,10);var z=2*c.loop-1;if(c.loop)for(var q=0;q<z;q++){var U={delay:c.delay,progress:c.progress};q===z-1&&(U.display=c.display,U.visibility=c.visibility,U.complete=c.complete),O(m,"reverse",U)}return e()};E=p.extend(O,E),E.animate=O;var T=t.requestAnimationFrame||y;if(!E.State.isMobile&&n.hidden!==r){var A=function(){n.hidden?(T=function(e){return setTimeout(function(){e(!0)},16)},d()):T=t.requestAnimationFrame||y};A(),n.addEventListener("visibilitychange",A)}return e.Velocity=E,e!==t&&(e.fn.velocity=O,e.fn.velocity.defaults=E.defaults),p.each(["Down","Up"],function(e,t){E.Redirects["slide"+t]=function(e,n,o,i,a,u){var s=p.extend({},n),c=s.begin,l=s.complete,f={},d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};s.display===r&&(s.display="Down"===t?"inline"===E.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),s.begin=function(){0===o&&c&&c.call(a,a);for(var n in d)if(d.hasOwnProperty(n)){f[n]=e.style[n];var r=C.getPropertyValue(e,n);d[n]="Down"===t?[r,0]:[0,r]}f.overflow=e.style.overflow,e.style.overflow="hidden"},s.complete=function(){for(var t in f)f.hasOwnProperty(t)&&(e.style[t]=f[t]);o===i-1&&(l&&l.call(a,a),u&&u.resolver(a))},E(e,d,s)}}),p.each(["In","Out"],function(e,t){E.Redirects["fade"+t]=function(e,n,o,i,a,u){var s=p.extend({},n),c=s.complete,l={opacity:"In"===t?1:0};0!==o&&(s.begin=null),s.complete=o!==i-1?null:function(){c&&c.call(a,a),u&&u.resolver(a)},s.display===r&&(s.display="In"===t?"auto":"none"),E(this,l,s)}}),E}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})},function(e,t){e.exports={flash:"style_flash_1V8h7","flash--error":"style_flash--error_3KgBQ"}},function(e,t){e.exports={TransactionAction:"TransactionActions_TransactionAction_2Bv_L","TransactionAction-disabled":"TransactionActions_TransactionAction-disabled_f9cqC"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HealthExpenseStatusIcon=void 0;var o=n(2),i=r(o),a=n(14),u=n(436),s=n(83),c=r(s),l=n(1121),f=r(l),d=t.HealthExpenseStatusIcon=function(e){var t=e.className,n=void 0===t?"":t,r=e.pending,o=r?c.default.pomegranate:c.default.dodgerBlue;return i.default.createElement("span",{style:{display:"inline-block"},className:n},i.default.createElement(a.Icon,{icon:f.default,color:o}))},h=(0,a.translate)()(function(e){var t=e.t,n=e.vendors,r=void 0===n?[]:n,o=e.showIcon,a=void 0===o||o,s=0===r.length,c=r.map(u.formatVendor);return i.default.createElement("span",null,a&&i.default.createElement(d,{className:"u-mr-half",pending:s}),s?t("Transactions.actions.healthExpensePending"):t("Transactions.actions.healthExpenseStatus").replace("%{vendors}",c.join(" "+t("Transactions.actions.vendorsGlue")+" ")))});t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-hourglass",use:"icon-hourglass-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-hourglass">\n    \x3c!-- Generator: Sketch 48.2 (47327) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>icons/16/hourglass</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M3.00247329,2 C2.45576096,2 2,1.55228475 2,1 C2,0.443864822 2.44882258,0 3.00247329,0 L12.9975267,0 C13.544239,0 14,0.44771525 14,1 C14,1.55613518 13.5511774,2 12.9975267,2 L13,2 L13,3 C13,3.55613518 12.6840146,4.31598541 12.2942268,4.70577316 L9,8 L12.2942268,11.2942268 C12.6840146,11.6840146 13,12.4438648 13,13 L13,14 L12.9975267,14 C13.5511774,14 14,14.4438648 14,15 C14,15.5522847 13.544239,16 12.9975267,16 L3.00247329,16 C2.44882258,16 2,15.5561352 2,15 C2,14.4477153 2.45576096,14 3.00247329,14 L3,14 L3,13 C3,12.4477153 3.31277239,11.6872276 3.70577316,11.2942268 L7,8 L3.70577316,4.70577316 C3.31277239,4.31277239 3,3.55228475 3,3 L3,2 L3.00247329,2 Z M4.5,3 C4.5,3.55228475 4.83559471,4.28765261 5.25944787,4.65095532 L8,7 L10.7405521,4.65095532 C11.1599836,4.29144262 11.5,3.54681396 11.5,3 L4.5,3 Z" id="icon-hourglass_path-1" />\n    </defs>\n    <g id="icon-hourglass_-icons" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="icon-hourglass_icons/16/hourglass">\n            <mask id="icon-hourglass_mask-2">\n                <use xlink:href="#icon-hourglass_path-1" />\n            </mask>\n            <use id="icon-hourglass_Mask" xlink:href="#icon-hourglass_path-1" />\n        </g>\n    </g>\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-dots",use:"icon-dots-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-dots">\n  <path fill-rule="evenodd" d="M34,74 C35.1045695,74 36,73.1045695 36,72 C36,70.8954305 35.1045695,70 34,70 C32.8954305,70 32,70.8954305 32,72 C32,73.1045695 32.8954305,74 34,74 Z M46,74 C47.1045695,74 48,73.1045695 48,72 C48,70.8954305 47.1045695,70 46,70 C44.8954305,70 44,70.8954305 44,72 C44,73.1045695 44.8954305,74 46,74 Z M40,74 C41.1045695,74 42,73.1045695 42,72 C42,70.8954305 41.1045695,70 40,70 C38.8954305,70 38,70.8954305 38,72 C38,73.1045695 38.8954305,74 40,74 Z" transform="translate(-32 -64)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(21),s=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(24),h=n(23),p=n(22),v=n(54),y=r(v),m=n(82),g=r(m),b=n(58),_=n(165),w=n(62),x=n(1124),k=r(x),E=n(166),S=r(E),C=n(1179),O=r(C),T=n(15),A=n(435),j=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={withIncome:!0},r.selectCategory=function(e,t){t?r.props.router.push("/categories/"+e+"/"+t):e?r.props.router.push("/categories/"+e):r.props.router.push("/categories")},r.filterWithInCome=function(e){r.setState({withIncome:e})},a=n,i(r,a)}return a(t,e),c(t,[{key:"render",value:function(e,t){var n=this,r=e.t,o=e.categories,i=e.transactions,a=e.router,u=t.withIncome,s="loaded"!==i.fetchStatus,c=a.params.categoryName;u||(o=o.filter(function(e){return"incomeCat"!==e.name}));var l=[{name:r("Categories.title.general")}];return c&&(l[0].onClick=function(){return a.push("/categories")},l.push({name:r("Data.categories."+c)})),f.default.createElement("div",{className:O.default["bnk-cat-page"]},f.default.createElement(g.default,null,f.default.createElement(A.Breadcrumb,{items:l,tag:"h2"})),c&&f.default.createElement(S.default,{onClick:function(){return n.selectCategory(void 0)}}),s?f.default.createElement(y.default,{loadingType:"categories"}):f.default.createElement(k.default,{categories:o,selectedCategory:c,selectCategory:this.selectCategory,withIncome:u,filterWithInCome:this.filterWithInCome}))}}]),t}(l.Component),M=function(e){return{categories:(0,w.computeCategorieData)((0,w.transactionsByCategory)((0,b.getFilteredTransactions)(e)))}},P=function(e){return{transactions:(0,_.fetchTransactions)(e.dispatch)}};t.default=(0,s.default)(d.withRouter,(0,h.connect)(M),(0,T.cozyConnect)(P),(0,p.translate)())(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(21),c=r(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),d=r(f),h=n(24),p=n(13),v=r(p),y=n(14),m=n(83),g=r(m),b=n(250),_=r(b),w=n(167),x=r(w),k=n(118),E=n(102),S=n(121),C=n(58),O=n(437),T=r(O),A=n(1125),j=r(A),M=T.default["bnk-table-amount"],P=T.default["bnk-table-category-category"],D=T.default["bnk-table-chevron"],L=T.default["bnk-cat-figure"],I=T.default["bnk-cat-filter"],R=T.default["bnk-cat-form"],N=T.default["bnk-table-percentage"],F=T.default["bnk-table-row"],B=T.default["bnk-table-row-subcategory"],z=T.default["bnk-table-category"],q=T.default["bnk-cat-top"],U=T.default["bnk-table-total"],H=T.default["bnk-table-row--uncollapsed"],Y=T.default["bnk-category-total-mobile"],V={visibility:"hidden"},W=function(e,t){return t.percentage!==e.percentage?t.percentage-e.percentage:e.amount-t.amount},$=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.toggle=function(e){var t=r.props,n=t.selectedCategory,o=t.selectCategory;o(n?void 0:e)},r.handleClick=function(e,t){var n=r.props.router;t?n.push("/categories/"+e.name+"/"+t.name):r.toggle(e.name)},o=n,a(r,o)}return u(t,e),l(t,[{key:"render",value:function(e){var t=this,n=e.t,r=e.categories,o=e.selectedCategory,i=e.selectCategory,a=e.withIncome,u=e.filterWithInCome,s=e.breakpoints,c=s.isDesktop,l=s.isTablet,f=s.isMobile;void 0===r&&(r=[]);var h=r.find(function(e){return e.name===o});o&&(r=h?[h]:[]);var p=0,v=r.length>0?r[0].currency:"";if(0!==r.length){var y=r.reduce(function(e,t){return e+Math.abs(t.amount)},0),m=!0,g=!1,b=void 0;try{for(var w,x=r[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value;k.percentage=Math.round(Math.abs(k.amount)/y*100);var O=k.subcategories.reduce(function(e,t){return e+Math.abs(t.amount)},0),T=!0,A=!1,F=void 0;try{for(var B,H=k.subcategories[Symbol.iterator]();!(T=(B=H.next()).done);T=!0){var Y=B.value;Y.percentage=0===O?100:Math.round(Math.abs(Y.amount)/O*100)}}catch(e){A=!0,F=e}finally{try{!T&&H.return&&H.return()}finally{if(A)throw F}}k.subcategories=k.subcategories.sort(W),p+=k.amount}}catch(e){g=!0,b=e}finally{try{!m&&x.return&&x.return()}finally{if(g)throw b}}}r=r.sort(function(e,t){return t.percentage!==e.percentage?t.percentage-e.percentage:e.amount-t.amount});var V=n(a?"Categories.title.total":"Categories.title.debit");if(h){V=V+" ("+n("Data.categories."+h.name)+")"}var $=f?140:200;return d.default.createElement("div",null,d.default.createElement(C.SelectDates,null),d.default.createElement("div",{className:q},d.default.createElement("div",{className:R},void 0===o&&d.default.createElement("div",{className:I},d.default.createElement(_.default,{id:"withIncome",checked:a,onToggle:function(e){return u(e)}}),d.default.createElement("label",{htmlFor:"withIncome"},"Inclure les revenus")),r.length>0&&d.default.createElement(S.FigureBlock,{className:L,label:V,total:h?h.amount:p,currency:v,coloredPositive:!0,coloredNegative:!0,signed:!0})),d.default.createElement(j.default,{width:$,height:$,categories:r,selectedCategory:o,selectCategory:i})),0===r.length?d.default.createElement("p",null,n("Categories.title.empty_text")):d.default.createElement(E.Table,{className:z},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("td",{className:P},n("Categories.headers.categories")),d.default.createElement("td",{className:N},"%"),(c||l)&&d.default.createElement("td",null,n("Categories.headers.transactions")),d.default.createElement("td",{className:U},n("Categories.headers.total")),c&&d.default.createElement("td",{className:M},n("Categories.headers.credit")),c&&d.default.createElement("td",{className:M},n("Categories.headers.debit")),c&&d.default.createElement("td",{className:D}))),d.default.createElement("tbody",null,r.map(function(e){return t.renderCategory(e,o)}))))}},{key:"renderCategory",value:function(e){var t=this.props,n=t.selectedCategory,r=t.breakpoints,o=r.isDesktop,i=r.isTablet,a=n!==e.name;if(void 0===n||!a){return this[o||i?"renderCategoryDesktopTablet":"renderCategoryMobile"](e)}}},{key:"renderCategoryDesktopTablet",value:function(e,t){var n=this,r=this.props,i=r.t,a=r.selectedCategory,u=r.breakpoints.isDesktop,s=t||e,c=s.name,l=s.subcategories,f=s.credit,h=s.debit,p=s.percentage,m=s.currency,b=s.transactionsNumber,_=a!==e.name,w=t?"subcategories":"categories",x=t?B:F,k=t||_?this.handleClick:function(){},C=(t||e).name;return[(t||_)&&d.default.createElement("tr",{key:C,className:x,onClick:function(){return k(e,t)}},d.default.createElement(E.TdWithIcon,{className:(0,v.default)(P,T.default["bnk-table-category--"+e.name])},i("Data."+w+"."+c)),d.default.createElement(E.TdSecondary,{className:N},!t&&a?"100 %":p+" %"),d.default.createElement(E.TdSecondary,null,b),d.default.createElement(E.TdSecondary,{className:U},d.default.createElement(S.Figure,{total:f+h,currency:m,coloredPositive:!0,signed:!0})),u&&d.default.createElement(E.TdSecondary,{className:M},f?d.default.createElement(S.Figure,{total:f,currency:m,signed:!0,default:"-"}):""),u&&d.default.createElement(E.TdSecondary,{className:M},h?d.default.createElement(S.Figure,{total:h,currency:m,signed:!0,default:"-"}):""),u&&d.default.createElement("td",{className:D},d.default.createElement(y.Icon,{icon:"forward",color:g.default.coolGrey})))].concat(o(_||t?[]:l.map(function(t){return n.renderCategoryDesktopTablet(e,t)})))}},{key:"renderCategoryMobile",value:function(e,t){var n=this,r=this.props,i=r.t,a=r.selectedCategory,u=t||e,s=u.name,c=u.subcategories,l=u.credit,f=u.debit,h=u.currency,p=u.percentage,y=a!==e.name,m=t?"subcategories":"categories",g=(t||e).name;return[d.default.createElement("tr",{key:g,className:t?B:y?F:H,onClick:function(){return n.handleClick(e,t)}},d.default.createElement("td",{className:"u-ph-1 u-pv-half"},d.default.createElement(k.Media,null,d.default.createElement(k.Img,{className:"u-pr-half",style:t?V:null},d.default.createElement(x.default,{category:g,style:!t})),d.default.createElement(k.Bd,{className:(0,v.default)("u-ph-half",P)},i("Data."+m+"."+s)),d.default.createElement(k.Img,{className:(0,v.default)("u-pl-half",N)},!t&&a?"100 %":p+" %"),d.default.createElement(k.Img,{className:(0,v.default)("u-pl-half",M)},d.default.createElement(S.Figure,{className:Y,total:l+f,currency:h,coloredPositive:!0,signed:!0})))))].concat(o(y||t?[]:c.map(function(t){return n.renderCategoryMobile(e,t)})))}}]),t}(f.Component);t.default=(0,c.default)(h.withRouter,(0,y.withBreakpoints)(),(0,y.translate)())($)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(22),f=n(1126),d=r(f),h=n(437),p=r(h),v=function(e,t){var n=e.substring(1);return"rgba("+parseInt(n.substring(0,2),16)+", "+parseInt(n.substring(2,4),16)+", "+parseInt(n.substring(4,6),16)+", "+t+")"},y=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.click=function(e){var t=r.props,n=t.selectedCategory,o=t.categories,i=t.selectCategory;if(n){var a=o.find(function(e){return e.name===n});i(a.name,a.subcategories[e].name)}else i(o[e].name)},a=n,i(r,a)}return a(t,e),u(t,[{key:"render",value:function(e){var t=e.t,n=e.categories,r=e.selectedCategory,o=(e.selectCategory,e.width),i=e.height;if(0!==n.length){var a=[],u=[],s=[];if(void 0===r){var l=!0,f=!1,h=void 0;try{for(var y,m=n[Symbol.iterator]();!(l=(y=m.next()).done);l=!0){var g=y.value;a.push(t("Data.categories."+g.name)),u.push(Math.abs(g.amount).toFixed(2)),s.push(g.color)}}catch(e){f=!0,h=e}finally{try{!l&&m.return&&m.return()}finally{if(f)throw h}}}else{var b=n.find(function(e){return e.name===r}),_=1,w=.7/b.subcategories.length,x=!0,k=!1,E=void 0;try{for(var S,C=b.subcategories[Symbol.iterator]();!(x=(S=C.next()).done);x=!0){var O=S.value;a.push(t("Data.subcategories."+O.name)),u.push(Math.abs(O.amount).toFixed(2)),s.push(v(b.color,_)),_-=w}}catch(e){k=!0,E=e}finally{try{!x&&C.return&&C.return()}finally{if(k)throw E}}}return c.default.createElement("div",{className:p.default["bnk-cat-chart"]},c.default.createElement(d.default,{onClick:this.click,labels:a,data:u,colors:s,width:o,height:i}))}}}]),t}(s.Component);t.default=(0,l.translate)()(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1127),c=r(s),l=n(2),f=r(l),d=n(1128),h=n(1178),p=r(h),v=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={data:{labels:r.props.labels,datasets:[{data:r.props.data,backgroundColor:r.props.colors,borderWidth:0}]},options:{legend:{display:!1},responsive:!1,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(e,t){return""+t.labels[e.index]},afterLabel:function(e,t){return t.datasets[0].data[e.index]+" "}},bodySpacing:4,xPadding:8},pieceLabel:{mode:"percentage",fontSize:16,fontFamily:'"Lato"',precision:0}}},r.click=function(e){var t=r.props.onClick;t&&t(e.length>0?e[0]._index:void 0)},a=n,i(r,a)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){d.Chart.pluginService.register(p.default)}},{key:"componentWillReceiveProps",value:function(e){this.setState({data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.colors,borderWidth:0}]}})}},{key:"render",value:function(e,t){var n=(e.onClick,e.width),r=e.height,o=t.data,i=t.options;return f.default.createElement("div",{className:c.default["bnk-chart-pie"]},f.default.createElement(d.Pie,{data:o,options:i,onElementsClick:this.click,width:n,height:r}))}}]),t}(l.Component);t.default=v},function(e,t){e.exports={"bnk-chart-pie":"PieChart_bnk-chart-pie_hacQK"}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Doughnut",function(){return g}),n.d(t,"Pie",function(){return b}),n.d(t,"Line",function(){return _}),n.d(t,"Bar",function(){return w}),n.d(t,"HorizontalBar",function(){return x}),n.d(t,"Radar",function(){return k}),n.d(t,"Polar",function(){return E}),n.d(t,"Bubble",function(){return S}),n.d(t,"Scatter",function(){return C}),n.d(t,"defaults",function(){return O});var u=n(2),s=n(5),c=n.n(s),l=n(1129),f=n.n(l),d=n(1177),h=n.n(d),p=n(316),v=n.n(p);n.d(t,"Chart",function(){return f.a});var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){var n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.handleOnClick=function(e){var t=r.chart_instance,n=r.props,o=n.getDatasetAtEvent,i=n.getElementAtEvent,a=n.getElementsAtEvent,u=n.onElementsClick;o&&o(t.getDatasetAtEvent(e),e),i&&i(t.getElementAtEvent(e),e),a&&a(t.getElementsAtEvent(e),e),u&&u(t.getElementsAtEvent(e),e)},r.ref=function(e){r.element=e},a=n,i(r,a)}return a(t,e),t.prototype.componentWillMount=function(){this.chart_instance=void 0},t.prototype.componentDidMount=function(){this.renderChart()},t.prototype.componentDidUpdate=function(){if(this.props.redraw)return this.chart_instance.destroy(),void this.renderChart();this.updateChart()},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=(t.redraw,t.type),r=t.options,o=t.plugins,i=t.legend,a=t.height,u=t.width;if(!0===e.redraw)return!0;if(a!==e.height||u!==e.width)return!0;if(n!==e.type)return!0;if(!h()(i,e.legend))return!0;if(!h()(r,e.options))return!0;var s=this.transformDataProp(e);return!h()(this.shadowDataProp,s)||!h()(o,e.plugins)},t.prototype.componentWillUnmount=function(){this.chart_instance.destroy()},t.prototype.transformDataProp=function(e){var t=e.data;if("function"==typeof t){return t(this.element)}return t},t.prototype.memoizeDataProps=function(){if(this.props.data){var e=this.transformDataProp(this.props);return this.shadowDataProp=y({},e,{datasets:e.datasets&&e.datasets.map(function(e){return y({},e)})}),e}},t.prototype.updateChart=function(){var e=this,t=this.props.options,n=this.memoizeDataProps(this.props);if(this.chart_instance){t&&(this.chart_instance.options=f.a.helpers.configMerge(this.chart_instance.options,t));for(var o=this.chart_instance.config.data&&this.chart_instance.config.data.datasets||[],i=n.datasets||[],a=o.map(this.props.datasetKeyProvider),u=i.map(this.props.datasetKeyProvider),s=i.filter(function(t){return-1===a.indexOf(e.props.datasetKeyProvider(t))}),c=o.length-1;c>=0;c-=1)!function(t){var n=e.props.datasetKeyProvider(o[t]);if(-1===u.indexOf(n))o.splice(t,1);else{var a=v()(i,function(t){return e.props.datasetKeyProvider(t)===n});if(a){o[t].data.splice(a.data.length),a.data.forEach(function(e,n){o[t].data[n]=a.data[n]});var s=(a.data,r(a,["data"]));o[t]=y({data:o[t].data},o[t],s)}}}(c);s.forEach(function(e){return o.push(e)});var l=(n.datasets,r(n,["datasets"]));this.chart_instance.config.data=y({},this.chart_instance.config.data,l),this.chart_instance.update()}},t.prototype.renderChart=function(){var e=this.props,n=e.options,r=e.legend,o=e.type,i=(e.redraw,e.plugins),a=this.element,u=this.memoizeDataProps();void 0===r||h()(t.defaultProps.legend,r)||(n.legend=r),this.chart_instance=new f.a(a,{type:o,data:u,options:n,plugins:i})},t.prototype.render=function(){var e=this.props,t=e.height,n=e.width;e.onElementsClick;return u.default.createElement("canvas",{ref:this.ref,height:t,width:n,onClick:this.handleOnClick})},t}(u.default.Component);m.getLabelAsKey=function(e){return e.label},m.propTypes={data:c.a.oneOfType([c.a.object,c.a.func]).isRequired,getDatasetAtEvent:c.a.func,getElementAtEvent:c.a.func,getElementsAtEvent:c.a.func,height:c.a.number,legend:c.a.object,onElementsClick:c.a.func,options:c.a.object,plugins:c.a.arrayOf(c.a.object),redraw:c.a.bool,type:function(e,t,n){if(!f.a.controllers[e[t]])return new Error("Invalid chart type `"+e[t]+"` supplied to `"+n+"`.")},width:c.a.number,datasetKeyProvider:c.a.func},m.defaultProps={legend:{display:!0,position:"bottom"},type:"doughnut",height:150,width:300,redraw:!1,options:{},datasetKeyProvider:m.getLabelAsKey},t.default=m;var g=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"doughnut"}))},t}(u.default.Component),b=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"pie"}))},t}(u.default.Component),_=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"line"}))},t}(u.default.Component),w=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"bar"}))},t}(u.default.Component),x=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"horizontalBar"}))},t}(u.default.Component),k=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"radar"}))},t}(u.default.Component),E=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"polarArea"}))},t}(u.default.Component),S=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"bubble"}))},t}(u.default.Component),C=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this;return u.default.createElement(m,y({},this.props,{ref:function(t){return e.chart_instance=t&&t.chart_instance},type:"scatter"}))},t}(u.default.Component),O=f.a.defaults},function(e,t,n){var r=n(1130)();r.helpers=n(8),n(1134)(r),r.defaults=n(11),r.Element=n(43),r.elements=n(63),r.Interaction=n(439),r.platform=n(440),n(1145)(r),n(1146)(r),n(1147)(r),n(1148)(r),n(1149)(r),n(1150)(r),n(1151)(r),n(1152)(r),n(1153)(r),n(1154)(r),n(1155)(r),n(1156)(r),n(1157)(r),n(1158)(r),n(1160)(r),n(1161)(r),n(1162)(r),n(1163)(r),n(1164)(r),n(1165)(r),n(1166)(r),n(1167)(r),n(1168)(r),n(1169)(r),n(1170)(r),n(1171)(r),n(1172)(r),n(1173)(r);var o=[];o.push(n(1174)(r),n(1175)(r),n(1176)(r)),r.plugins.register(o),r.platform.initialize(),e.exports=r,"undefined"!=typeof window&&(window.Chart=r),r.canvasHelpers=r.helpers.canvas},function(e,t,n){"use strict";n(11)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.Chart=e,e}},function(e,t,n){"use strict";var r=n(169),o={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-o.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*o.easeInBounce(2*e):.5*o.easeOutBounce(2*e-1)+.5}};e.exports={effects:o},r.easingEffects=o},function(e,t,n){"use strict";var r=n(169),t=e.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,o,i){if(i){var a=Math.min(i,r/2),u=Math.min(i,o/2);e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+u),e.lineTo(t+r,n+o-u),e.quadraticCurveTo(t+r,n+o,t+r-a,n+o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t,n+o,t,n+o-u),e.lineTo(t,n+u),e.quadraticCurveTo(t,n,t+a,n)}else e.rect(t,n,r,o)},drawPoint:function(e,t,n,r,o){var i,a,u,s,c,l;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(i=t.toString())||"[object HTMLCanvasElement]"===i))return void e.drawImage(t,r-t.width/2,o-t.height/2,t.width,t.height);if(!(isNaN(n)||n<=0)){switch(t){default:e.beginPath(),e.arc(r,o,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),a=3*n/Math.sqrt(3),c=a*Math.sqrt(3)/2,e.moveTo(r-a/2,o+c/3),e.lineTo(r+a/2,o+c/3),e.lineTo(r,o-2*c/3),e.closePath(),e.fill();break;case"rect":l=1/Math.SQRT2*n,e.beginPath(),e.fillRect(r-l,o-l,2*l,2*l),e.strokeRect(r-l,o-l,2*l,2*l);break;case"rectRounded":var f=n/Math.SQRT2,d=r-f,h=o-f,p=Math.SQRT2*n;e.beginPath(),this.roundedRect(e,d,h,p,p,n/2),e.closePath(),e.fill();break;case"rectRot":l=1/Math.SQRT2*n,e.beginPath(),e.moveTo(r-l,o),e.lineTo(r,o+l),e.lineTo(r+l,o),e.lineTo(r,o-l),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(r,o+n),e.lineTo(r,o-n),e.moveTo(r-n,o),e.lineTo(r+n,o),e.closePath();break;case"crossRot":e.beginPath(),u=Math.cos(Math.PI/4)*n,s=Math.sin(Math.PI/4)*n,e.moveTo(r-u,o-s),e.lineTo(r+u,o+s),e.moveTo(r-u,o+s),e.lineTo(r+u,o-s),e.closePath();break;case"star":e.beginPath(),e.moveTo(r,o+n),e.lineTo(r,o-n),e.moveTo(r-n,o),e.lineTo(r+n,o),u=Math.cos(Math.PI/4)*n,s=Math.sin(Math.PI/4)*n,e.moveTo(r-u,o-s),e.lineTo(r+u,o+s),e.moveTo(r-u,o+s),e.lineTo(r+u,o-s),e.closePath();break;case"line":e.beginPath(),e.moveTo(r-n,o),e.lineTo(r+n,o),e.closePath();break;case"dash":e.beginPath(),e.moveTo(r,o),e.lineTo(r+n,o),e.closePath()}e.stroke()}},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){return n.steppedLine?("after"===n.steppedLine&&!r||"after"!==n.steppedLine&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y)):n.tension?void e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):void e.lineTo(n.x,n.y)}};r.clear=t.clear,r.drawRoundedRectangle=function(e){e.beginPath(),t.roundedRect.apply(t,arguments),e.closePath()}},function(e,t,n){"use strict";var r=n(169);e.exports={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,o,i;return r.isObject(e)?(t=+e.top||0,n=+e.right||0,o=+e.bottom||0,i=+e.left||0):t=n=o=i=+e||0,{top:t,right:n,bottom:o,left:i,height:t+o,width:i+n}},resolve:function(e,t,n){var o,i,a;for(o=0,i=e.length;o<i;++o)if(void 0!==(a=e[o])&&(void 0!==t&&"function"==typeof a&&(a=a(t)),void 0!==n&&r.isArray(a)&&(a=a[n]),void 0!==a))return a}}},function(e,t,n){"use strict";var r=n(438),o=n(11),i=n(8);e.exports=function(e){function t(e,t,n){var r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}function n(e){return void 0!==e&&null!==e&&"none"!==e}function a(e,r,o){var i=document.defaultView,a=e.parentNode,u=i.getComputedStyle(e)[r],s=i.getComputedStyle(a)[r],c=n(u),l=n(s),f=Number.POSITIVE_INFINITY;return c||l?Math.min(c?t(u,e,o):f,l?t(s,a,o):f):"none"}i.configMerge=function(){return i.merge(i.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,o){var a=n[t]||{},u=r[t];"scales"===t?n[t]=i.scaleMerge(a,u):"scale"===t?n[t]=i.merge(a,[e.scaleService.getScaleDefaults(u.type),u]):i._merger(t,n,r,o)}})},i.scaleMerge=function(){return i.merge(i.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,o){if("xAxes"===t||"yAxes"===t){var a,u,s,c=r[t].length;for(n[t]||(n[t]=[]),a=0;a<c;++a)s=r[t][a],u=i.valueOrDefault(s.type,"xAxes"===t?"category":"linear"),a>=n[t].length&&n[t].push({}),!n[t][a].type||s.type&&s.type!==n[t][a].type?i.merge(n[t][a],[e.scaleService.getScaleDefaults(u),s]):i.merge(n[t][a],s)}else i._merger(t,n,r,o)}})},i.where=function(e,t){if(i.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var r=0,o=e.length;r<o;++r)if(t.call(n,e[r],r,e))return r;return-1},i.findNextWhere=function(e,t,n){i.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<e.length;r++){var o=e[r];if(t(o))return o}},i.findPreviousWhere=function(e,t,n){i.isNullOrUndef(n)&&(n=e.length);for(var r=n-1;r>=0;r--){var o=e[r];if(t(o))return o}},i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},i.almostEquals=function(e,t,n){return Math.abs(e-t)<n},i.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},i.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},i.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},i.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},i.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},i.toRadians=function(e){return e*(Math.PI/180)},i.toDegrees=function(e){return e*(180/Math.PI)},i.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r),i=Math.atan2(r,n);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:o}},i.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},i.aliasPixel=function(e){return e%2==0?0:.5},i.splineCurve=function(e,t,n,r){var o=e.skip?t:e,i=t,a=n.skip?t:n,u=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),s=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2)),c=u/(u+s),l=s/(u+s);c=isNaN(c)?0:c,l=isNaN(l)?0:l;var f=r*c,d=r*l;return{previous:{x:i.x-f*(a.x-o.x),y:i.y-f*(a.y-o.y)},next:{x:i.x+d*(a.x-o.x),y:i.y+d*(a.y-o.y)}}},i.EPSILON=Number.EPSILON||1e-14,i.splineCurveMonotone=function(e){var t,n,r,o,a=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),u=a.length;for(t=0;t<u;++t)if(r=a[t],!r.model.skip){if(n=t>0?a[t-1]:null,(o=t<u-1?a[t+1]:null)&&!o.model.skip){var s=o.model.x-r.model.x;r.deltaK=0!==s?(o.model.y-r.model.y)/s:0}!n||n.model.skip?r.mK=r.deltaK:!o||o.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}var c,l,f,d;for(t=0;t<u-1;++t)r=a[t],o=a[t+1],r.model.skip||o.model.skip||(i.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=o.mK=0:(c=r.mK/r.deltaK,l=o.mK/r.deltaK,(d=Math.pow(c,2)+Math.pow(l,2))<=9||(f=3/Math.sqrt(d),r.mK=c*f*r.deltaK,o.mK=l*f*r.deltaK)));var h;for(t=0;t<u;++t)r=a[t],r.model.skip||(n=t>0?a[t-1]:null,o=t<u-1?a[t+1]:null,n&&!n.model.skip&&(h=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-h,r.model.controlPointPreviousY=r.model.y-h*r.mK),o&&!o.model.skip&&(h=(o.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+h,r.model.controlPointNextY=r.model.y+h*r.mK))},i.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},i.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},i.niceNum=function(e,t){var n=Math.floor(i.log10(e)),r=e/Math.pow(10,n);return(t?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},i.requestAnimFrame=function(){return"undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),i.getRelativePosition=function(e,t){var n,r,o=e.originalEvent||e,a=e.currentTarget||e.srcElement,u=a.getBoundingClientRect(),s=o.touches;s&&s.length>0?(n=s[0].clientX,r=s[0].clientY):(n=o.clientX,r=o.clientY);var c=parseFloat(i.getStyle(a,"padding-left")),l=parseFloat(i.getStyle(a,"padding-top")),f=parseFloat(i.getStyle(a,"padding-right")),d=parseFloat(i.getStyle(a,"padding-bottom")),h=u.right-u.left-c-f,p=u.bottom-u.top-l-d;return n=Math.round((n-u.left-c)/h*a.width/t.currentDevicePixelRatio),r=Math.round((r-u.top-l)/p*a.height/t.currentDevicePixelRatio),{x:n,y:r}},i.getConstraintWidth=function(e){return a(e,"max-width","clientWidth")},i.getConstraintHeight=function(e){return a(e,"max-height","clientHeight")},i.getMaximumWidth=function(e){var t=e.parentNode;if(!t)return e.clientWidth;var n=parseInt(i.getStyle(t,"padding-left"),10),r=parseInt(i.getStyle(t,"padding-right"),10),o=t.clientWidth-n-r,a=i.getConstraintWidth(e);return isNaN(a)?o:Math.min(o,a)},i.getMaximumHeight=function(e){var t=e.parentNode;if(!t)return e.clientHeight;var n=parseInt(i.getStyle(t,"padding-top"),10),r=parseInt(i.getStyle(t,"padding-bottom"),10),o=t.clientHeight-n-r,a=i.getConstraintHeight(e);return isNaN(a)?o:Math.min(o,a)},i.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},i.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||window.devicePixelRatio||1;if(1!==n){var r=e.canvas,o=e.height,i=e.width;r.height=o*n,r.width=i*n,e.ctx.scale(n,n),r.style.height=o+"px",r.style.width=i+"px"}},i.fontString=function(e,t,n){return t+" "+e+"px "+n},i.longestText=function(e,t,n,r){r=r||{};var o=r.data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(o=r.data={},a=r.garbageCollect=[],r.font=t),e.font=t;var u=0;i.each(n,function(t){void 0!==t&&null!==t&&!0!==i.isArray(t)?u=i.measureText(e,o,a,u,t):i.isArray(t)&&i.each(t,function(t){void 0===t||null===t||i.isArray(t)||(u=i.measureText(e,o,a,u,t))})});var s=a.length/2;if(s>n.length){for(var c=0;c<s;c++)delete o[a[c]];a.splice(0,s)}return u},i.measureText=function(e,t,n,r,o){var i=t[o];return i||(i=t[o]=e.measureText(o).width,n.push(o)),i>r&&(r=i),r},i.numberOfLabelLines=function(e){var t=1;return i.each(e,function(e){i.isArray(e)&&e.length>t&&(t=e.length)}),t},i.color=r?function(e){return e instanceof CanvasGradient&&(e=o.global.defaultColor),r(e)}:function(e){return console.error("Color.js not found!"),e},i.getHoverColor=function(e){return e instanceof CanvasPattern?e:i.color(e).saturate(.5).darken(.1).rgbString()}}},function(e,t,n){var r=n(1136),o=function(){return new c};for(var i in r){o[i+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(i);var a=/(\w+)2(\w+)/.exec(i),u=a[1],s=a[2];o[u]=o[u]||{},o[u][s]=o[i]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=r[e](t);if("string"==typeof n||void 0===n)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(i)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=o[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){c.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=o},function(e,t){function n(e){var t,n,r,o=e[0]/255,i=e[1]/255,a=e[2]/255,u=Math.min(o,i,a),s=Math.max(o,i,a),c=s-u;return s==u?t=0:o==s?t=(i-a)/c:i==s?t=2+(a-o)/c:a==s&&(t=4+(o-i)/c),t=Math.min(60*t,360),t<0&&(t+=360),r=(u+s)/2,n=s==u?0:r<=.5?c/(s+u):c/(2-s-u),[t,100*n,100*r]}function o(e){var t,n,r,o=e[0],i=e[1],a=e[2],u=Math.min(o,i,a),s=Math.max(o,i,a),c=s-u;return n=0==s?0:c/s*1e3/10,s==u?t=0:o==s?t=(i-a)/c:i==s?t=2+(a-o)/c:a==s&&(t=4+(o-i)/c),t=Math.min(60*t,360),t<0&&(t+=360),r=s/255*1e3/10,[t,n,r]}function i(e){var t=e[0],r=e[1],o=e[2],i=n(e)[0],a=1/255*Math.min(t,Math.min(r,o)),o=1-1/255*Math.max(t,Math.max(r,o));return[i,100*a,100*o]}function a(e){var t,n,r,o,i=e[0]/255,a=e[1]/255,u=e[2]/255;return o=Math.min(1-i,1-a,1-u),t=(1-i-o)/(1-o)||0,n=(1-a-o)/(1-o)||0,r=(1-u-o)/(1-o)||0,[100*t,100*n,100*r,100*o]}function u(e){return K[JSON.stringify(e)]}function s(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]}function c(e){var t,n,r,o=s(e),i=o[0],a=o[1],u=o[2];return i/=95.047,a/=100,u/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,t=116*a-16,n=500*(i-a),r=200*(a-u),[t,n,r]}function l(e){return N(c(e))}function f(e){var t,n,r,o,i,a=e[0]/360,u=e[1]/100,s=e[2]/100;if(0==u)return i=255*s,[i,i,i];n=s<.5?s*(1+u):s+u-s*u,t=2*s-n,o=[0,0,0];for(var c=0;c<3;c++)r=a+1/3*-(c-1),r<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[c]=255*i;return o}function d(e){var t,n,r=e[0],o=e[1]/100,i=e[2]/100;return 0===i?[0,0,0]:(i*=2,o*=i<=1?i:2-i,n=(i+o)/2,t=2*o/(i+o),[r,100*t,100*n])}function h(e){return i(f(e))}function p(e){return a(f(e))}function v(e){return u(f(e))}function y(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),u=255*r*(1-n*i),s=255*r*(1-n*(1-i)),r=255*r;switch(o){case 0:return[r,s,a];case 1:return[u,r,a];case 2:return[a,r,s];case 3:return[a,u,r];case 4:return[s,a,r];case 5:return[r,a,u]}}function m(e){var t,n,r=e[0],o=e[1]/100,i=e[2]/100;return n=(2-o)*i,t=o*i,t/=n<=1?n:2-n,t=t||0,n/=2,[r,100*t,100*n]}function _(e){return i(y(e))}function w(e){return a(y(e))}function x(e){return u(y(e))}function k(e){var t,n,o,i,a=e[0]/360,u=e[1]/100,s=e[2]/100,c=u+s;switch(c>1&&(u/=c,s/=c),t=Math.floor(6*a),n=1-s,o=6*a-t,0!=(1&t)&&(o=1-o),i=u+o*(n-u),t){default:case 6:case 0:r=n,g=i,b=u;break;case 1:r=i,g=n,b=u;break;case 2:r=u,g=n,b=i;break;case 3:r=u,g=i,b=n;break;case 4:r=i,g=u,b=n;break;case 5:r=n,g=u,b=i}return[255*r,255*g,255*b]}function E(e){return n(k(e))}function S(e){return o(k(e))}function C(e){return a(k(e))}function O(e){return u(k(e))}function T(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100,u=e[3]/100;return t=1-Math.min(1,o*(1-u)+u),n=1-Math.min(1,i*(1-u)+u),r=1-Math.min(1,a*(1-u)+u),[255*t,255*n,255*r]}function A(e){return n(T(e))}function j(e){return o(T(e))}function M(e){return i(T(e))}function P(e){return u(T(e))}function D(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return t=3.2406*o+-1.5372*i+-.4986*a,n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*t,255*n,255*r]}function L(e){var t,n,r,o=e[0],i=e[1],a=e[2];return o/=95.047,i/=100,a/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,t=116*i-16,n=500*(o-i),r=200*(i-a),[t,n,r]}function I(e){return N(L(e))}function R(e){var t,n,r,o,i=e[0],a=e[1],u=e[2];return i<=8?(n=100*i/903.3,o=n/100*7.787+16/116):(n=100*Math.pow((i+16)/116,3),o=Math.pow(n/100,1/3)),t=t/95.047<=.008856?t=95.047*(a/500+o-16/116)/7.787:95.047*Math.pow(a/500+o,3),r=r/108.883<=.008859?r=108.883*(o-u/200-16/116)/7.787:108.883*Math.pow(o-u/200,3),[t,n,r]}function N(e){var t,n,r,o=e[0],i=e[1],a=e[2];return t=Math.atan2(a,i),n=360*t/2/Math.PI,n<0&&(n+=360),r=Math.sqrt(i*i+a*a),[o,r,n]}function F(e){return D(R(e))}function B(e){var t,n,r,o=e[0],i=e[1],a=e[2];return r=a/360*2*Math.PI,t=i*Math.cos(r),n=i*Math.sin(r),[o,t,n]}function z(e){return R(B(e))}function q(e){return F(B(e))}function U(e){return J[e]}function H(e){return n(U(e))}function Y(e){return o(U(e))}function V(e){return i(U(e))}function W(e){return a(U(e))}function $(e){return c(U(e))}function G(e){return s(U(e))}e.exports={rgb2hsl:n,rgb2hsv:o,rgb2hwb:i,rgb2cmyk:a,rgb2keyword:u,rgb2xyz:s,rgb2lab:c,rgb2lch:l,hsl2rgb:f,hsl2hsv:d,hsl2hwb:h,hsl2cmyk:p,hsl2keyword:v,hsv2rgb:y,hsv2hsl:m,hsv2hwb:_,hsv2cmyk:w,hsv2keyword:x,hwb2rgb:k,hwb2hsl:E,hwb2hsv:S,hwb2cmyk:C,hwb2keyword:O,cmyk2rgb:T,cmyk2hsl:A,cmyk2hsv:j,cmyk2hwb:M,cmyk2keyword:P,keyword2rgb:U,keyword2hsl:H,keyword2hsv:Y,keyword2hwb:V,keyword2cmyk:W,keyword2lab:$,keyword2xyz:G,xyz2rgb:D,xyz2lab:L,xyz2lch:I,lab2xyz:R,lab2rgb:F,lab2lch:N,lch2lab:B,lch2xyz:z,lch2rgb:q};var J={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},K={};for(var Z in J)K[JSON.stringify(J[Z])]=Z},function(e,t,n){function r(e){if(e){var t=/^#([a-fA-F0-9]{3})$/i,n=/^#([a-fA-F0-9]{6})$/i,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,i=/(\w+)/,a=[0,0,0],u=1,s=e.match(t);if(s){s=s[1];for(var c=0;c<a.length;c++)a[c]=parseInt(s[c]+s[c],16)}else if(s=e.match(n)){s=s[1];for(var c=0;c<a.length;c++)a[c]=parseInt(s.slice(2*c,2*c+2),16)}else if(s=e.match(r)){for(var c=0;c<a.length;c++)a[c]=parseInt(s[c+1]);u=parseFloat(s[4])}else if(s=e.match(o)){for(var c=0;c<a.length;c++)a[c]=Math.round(2.55*parseFloat(s[c+1]));u=parseFloat(s[4])}else if(s=e.match(i)){if("transparent"==s[1])return[0,0,0,0];if(!(a=_[s[1]]))return}for(var c=0;c<a.length;c++)a[c]=g(a[c],0,255);return u=u||0==u?g(u,0,1):1,a[3]=u,a}}function o(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]);return[g(parseInt(n[1]),0,360),g(parseFloat(n[2]),0,100),g(parseFloat(n[3]),0,100),g(isNaN(r)?1:r,0,1)]}}}function i(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]);return[g(parseInt(n[1]),0,360),g(parseFloat(n[2]),0,100),g(parseFloat(n[3]),0,100),g(isNaN(r)?1:r,0,1)]}}}function a(e){var t=r(e);return t&&t.slice(0,3)}function u(e){var t=o(e);return t&&t.slice(0,3)}function s(e){var t=r(e);return t?t[3]:(t=o(e))?t[3]:(t=i(e))?t[3]:void 0}function c(e){return"#"+b(e[0])+b(e[1])+b(e[2])}function l(e,t){return t<1||e[3]&&e[3]<1?f(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function f(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function d(e,t){return t<1||e[3]&&e[3]<1?h(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}function h(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function p(e,t){return t<1||e[3]&&e[3]<1?v(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function v(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function y(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function m(e){return w[e.slice(0,3)]}function g(e,t,n){return Math.min(Math.max(t,e),n)}function b(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var _=n(1138);e.exports={getRgba:r,getHsla:o,getRgb:a,getHsl:u,getHwb:i,getAlpha:s,hexString:c,rgbString:l,rgbaString:f,percentString:d,percentaString:h,hslString:p,hslaString:v,hwbString:y,keyword:m};var w={};for(var x in _)w[_[x]]=x},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){"use strict";var r=n(11),o=n(43),i=n(8);r._set("global",{elements:{arc:{backgroundColor:r.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=o.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=i.getAngleFromPoint(n,{x:e,y:t}),o=r.angle,a=r.distance,u=n.startAngle,s=n.endAngle;s<u;)s+=2*Math.PI;for(;o>s;)o-=2*Math.PI;for(;o<u;)o+=2*Math.PI;var c=o>=u&&o<=s,l=a>=n.innerRadius&&a<=n.outerRadius;return c&&l}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,r=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,r),e.arc(t.x,t.y,t.innerRadius,r,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})},function(e,t,n){"use strict";var r=n(11),o=n(43),i=n(8),a=r.global;r._set("global",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=o.extend({draw:function(){var e,t,n,r,o=this,u=o._view,s=o._chart.ctx,c=u.spanGaps,l=o._children.slice(),f=a.elements.line,d=-1;for(o._loop&&l.length&&l.push(l[0]),s.save(),s.lineCap=u.borderCapStyle||f.borderCapStyle,s.setLineDash&&s.setLineDash(u.borderDash||f.borderDash),s.lineDashOffset=u.borderDashOffset||f.borderDashOffset,s.lineJoin=u.borderJoinStyle||f.borderJoinStyle,s.lineWidth=u.borderWidth||f.borderWidth,s.strokeStyle=u.borderColor||a.defaultColor,s.beginPath(),d=-1,e=0;e<l.length;++e)t=l[e],n=i.previousItem(l,e),r=t._view,0===e?r.skip||(s.moveTo(r.x,r.y),d=e):(n=-1===d?n:l[d],r.skip||(d!==e-1&&!c||-1===d?s.moveTo(r.x,r.y):i.canvas.lineTo(s,n._view,t._view),d=e));s.stroke(),s.restore()}})},function(e,t,n){"use strict";function r(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}function o(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)}var i=n(11),a=n(43),u=n(8),s=i.global.defaultColor;i._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:s,borderColor:s,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=a.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:r,inXRange:r,inYRange:o,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._model,r=this._chart.ctx,o=t.pointStyle,a=t.radius,c=t.x,l=t.y,f=u.color,d=0;t.skip||(r.strokeStyle=t.borderColor||s,r.lineWidth=u.valueOrDefault(t.borderWidth,i.global.elements.point.borderWidth),r.fillStyle=t.backgroundColor||s,void 0!==e&&(n.x<e.left||1.01*e.right<n.x||n.y<e.top||1.01*e.bottom<n.y)&&(n.x<e.left?d=(c-n.x)/(e.left-n.x):1.01*e.right<n.x?d=(n.x-c)/(n.x-e.right):n.y<e.top?d=(l-n.y)/(e.top-n.y):1.01*e.bottom<n.y&&(d=(n.y-l)/(n.y-e.bottom)),d=Math.round(100*d)/100,r.strokeStyle=f(r.strokeStyle).alpha(d).rgbString(),r.fillStyle=f(r.fillStyle).alpha(d).rgbString()),u.canvas.drawPoint(r,o,a,c,l))}})},function(e,t,n){"use strict";function r(e){return void 0!==e._view.width}function o(e){var t,n,o,i,a=e._view;if(r(e)){var u=a.width/2;t=a.x-u,n=a.x+u,o=Math.min(a.y,a.base),i=Math.max(a.y,a.base)}else{var s=a.height/2;t=Math.min(a.x,a.base),n=Math.max(a.x,a.base),o=a.y-s,i=a.y+s}return{left:t,top:o,right:n,bottom:i}}var i=n(11),a=n(43);i._set("global",{elements:{rectangle:{backgroundColor:i.global.defaultColor,borderColor:i.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=a.extend({draw:function(){function e(e){return m[(b+e)%4]}var t,n,r,o,i,a,u,s=this._chart.ctx,c=this._view,l=c.borderWidth;if(c.horizontal?(t=c.base,n=c.x,r=c.y-c.height/2,o=c.y+c.height/2,i=n>t?1:-1,a=1,u=c.borderSkipped||"left"):(t=c.x-c.width/2,n=c.x+c.width/2,r=c.y,o=c.base,i=1,a=o>r?1:-1,u=c.borderSkipped||"bottom"),l){var f=Math.min(Math.abs(t-n),Math.abs(r-o));l=l>f?f:l;var d=l/2,h=t+("left"!==u?d*i:0),p=n+("right"!==u?-d*i:0),v=r+("top"!==u?d*a:0),y=o+("bottom"!==u?-d*a:0);h!==p&&(r=v,o=y),v!==y&&(t=h,n=p)}s.beginPath(),s.fillStyle=c.backgroundColor,s.strokeStyle=c.borderColor,s.lineWidth=l;var m=[[t,o],[t,r],[n,r],[n,o]],g=["bottom","left","top","right"],b=g.indexOf(u,0);-1===b&&(b=0);var _=e(0);s.moveTo(_[0],_[1]);for(var w=1;w<4;w++)_=e(w),s.lineTo(_[0],_[1]);s.fill(),l&&s.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=!1;if(this._view){var r=o(this);n=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return n},inLabelRange:function(e,t){var n=this;if(!n._view)return!1;var i=o(n);return r(n)?e>=i.left&&e<=i.right:t>=i.top&&t<=i.bottom},inXRange:function(e){var t=o(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=o(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,t,n=this._view;return r(this)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})},function(e,t){e.exports={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}}},function(e,t,n){"use strict";function r(e,t){var n=y.getStyle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function o(e,t){var n=e.style,o=e.getAttribute("height"),i=e.getAttribute("width");if(e[m]={initial:{height:o,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===i||""===i){var a=r(e,"width");void 0!==a&&(e.width=a)}if(null===o||""===o)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var u=r(e,"height");void 0!==a&&(e.height=u)}return e}function i(e,t,n){e.addEventListener(t,n,E)}function a(e,t,n){e.removeEventListener(t,n,E)}function u(e,t,n,r,o){return{type:e,chart:t,native:o||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function s(e,t){var n=x[e.type]||e.type,r=y.getRelativePosition(e,t);return u(n,t,r.x,r.y,e)}function c(e,t){var n=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,y.requestAnimFrame.call(window,function(){n=!1,e.apply(t,r)}))}}function l(e){var t=document.createElement("div"),n=g+"size-monitor",r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";t.style.cssText=r,t.className=n,t.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var o=t.childNodes[0],a=t.childNodes[1];t._reset=function(){o.scrollLeft=1e6,o.scrollTop=1e6,a.scrollLeft=1e6,a.scrollTop=1e6};var u=function(){t._reset(),e()};return i(o,"scroll",u.bind(o,"expand")),i(a,"scroll",u.bind(a,"shrink")),t}function f(e,t){var n=e[m]||(e[m]={}),r=n.renderProxy=function(e){e.animationName===_&&t()};y.each(w,function(t){i(e,t,r)}),n.reflow=!!e.offsetParent,e.classList.add(b)}function d(e){var t=e[m]||{},n=t.renderProxy;n&&(y.each(w,function(t){a(e,t,n)}),delete t.renderProxy),e.classList.remove(b)}function h(e,t,n){var r=e[m]||(e[m]={}),o=r.resizer=l(c(function(){if(r.resizer)return t(u("resize",n))}));f(e,function(){if(r.resizer){var t=e.parentNode;t&&t!==o.parentNode&&t.insertBefore(o,t.firstChild),o._reset()}})}function p(e){var t=e[m]||{},n=t.resizer;delete t.resizer,d(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function v(e,t){var n=e._style||document.createElement("style");e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))}var y=n(8),m="$chartjs",g="chartjs-",b=g+"render-monitor",_=g+"render-animation",w=["animationstart","webkitAnimationStart"],x={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},k=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}(),E=!!k&&{passive:!0};e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var e="from{opacity:0.99}to{opacity:1}";v(this,"@-webkit-keyframes "+_+"{"+e+"}@keyframes "+_+"{"+e+"}."+b+"{-webkit-animation:"+_+" 0.001s;animation:"+_+" 0.001s;}")},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(o(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[m]){var n=t[m].initial;["height","width"].forEach(function(e){var r=n[e];y.isNullOrUndef(r)?t.removeAttribute(e):t.setAttribute(e,r)}),y.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[m]}},addEventListener:function(e,t,n){var r=e.canvas;if("resize"===t)return void h(r,n,e);var o=n[m]||(n[m]={});i(r,t,(o.proxies||(o.proxies={}))[e.id+"_"+t]=function(t){n(s(t,e))})},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"===t)return void p(r);var o=n[m]||{},i=o.proxies||{},u=i[e.id+"_"+t];u&&a(r,t,u)}},y.addEvent=i,y.removeEvent=a},function(e,t,n){"use strict";var r=n(11),o=n(43),i=n(8);r._set("global",{plugins:{}}),e.exports=function(e){e.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var r,o,i,a,u,s=this.descriptors(e),c=s.length;for(r=0;r<c;++r)if(o=s[r],i=o.plugin,"function"==typeof(u=i[t])&&(a=[e].concat(n||[]),a.push(o.options),!1===u.apply(i,a)))return!1;return!0},descriptors:function(e){var t=e._plugins||(e._plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],o=[],a=e&&e.config||{},u=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(e){if(-1===n.indexOf(e)){var t=e.id,a=u[t];!1!==a&&(!0===a&&(a=i.clone(r.global.plugins[t])),n.push(e),o.push({plugin:e,options:a||{}}))}}),t.descriptors=o,t.id=this._cacheId,o}},e.pluginService=e.plugins,e.PluginBase=o.extend({})}},function(e,t,n){"use strict";var r=n(11),o=n(43),i=n(8);r._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:i.noop,onComplete:i.noop}}),e.exports=function(e){e.Animation=o.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,r){var o,i,a=this.animations;for(t.chart=e,r||(e.animating=!0),o=0,i=a.length;o<i;++o)if(a[o].chart===e)return void(a[o]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=i.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=i.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+n);var r=Date.now();e.dropFrames+=(r-t)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var t,n,r=this.animations,o=0;o<r.length;)t=r[o],n=t.chart,t.currentStep=(t.currentStep||0)+e,t.currentStep=Math.min(t.currentStep,t.numSteps),i.callback(t.render,[n,t],n),i.callback(t.onAnimationProgress,[t],n),t.currentStep>=t.numSteps?(i.callback(t.onAnimationComplete,[t],n),n.animating=!1,r.splice(o,1)):++o}},Object.defineProperty(e.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})}},function(e,t,n){"use strict";var r=n(11),o=n(8),i=n(439),a=n(440);e.exports=function(e){function t(e){e=e||{};var t=e.data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=o.configMerge(r.global,r[e.type],e.options||{}),e}function n(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}function u(e){return"top"===e||"bottom"===e}var s=e.plugins;e.types={},e.instances={},e.controllers={},o.extend(e.prototype,{construct:function(n,r){var i=this;r=t(r);var u=a.acquireContext(n,r),s=u&&u.canvas,c=s&&s.height,l=s&&s.width;if(i.id=o.uid(),i.ctx=u,i.canvas=s,i.config=r,i.width=l,i.height=c,i.aspectRatio=c?l/c:null,i.options=r.options,i._bufferedRender=!1,i.chart=i,i.controller=i,e.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(e){i.config.data=e}}),!u||!s)return void console.error("Failed to create chart: can't acquire context from the given item");i.initialize(),i.update()},initialize:function(){var e=this;return s.notify(e,"beforeInit"),o.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildScales(),e.initToolTip(),s.notify(e,"afterInit"),e},clear:function(){return o.canvas.clear(this),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,r=t.canvas,i=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(o.getMaximumWidth(r))),u=Math.max(0,Math.floor(i?a/i:o.getMaximumHeight(r)));if((t.width!==a||t.height!==u)&&(r.width=t.width=a,r.height=t.height=u,r.style.width=a+"px",r.style.height=u+"px",o.retinaScale(t,n.devicePixelRatio),!e)){var c={width:a,height:u};s.notify(t,"resize",[c]),t.options.onResize&&t.options.onResize(t,c),t.stop(),t.update(t.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;o.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),o.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),n&&(n.id=n.id||"scale")},buildScales:function(){var t=this,n=t.options,r=t.scales={},i=[];n.scales&&(i=i.concat((n.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),n.scale&&i.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),o.each(i,function(n){var i=n.options,a=o.valueOrDefault(i.type,n.dtype),s=e.scaleService.getScaleConstructor(a);if(s){u(i.position)!==u(n.dposition)&&(i.position=n.dposition);var c=new s({id:i.id,options:i,ctx:t.ctx,chart:t});r[c.id]=c,c.mergeTicksOptions(),n.isDefault&&(t.scale=c)}}),e.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],r=[];return o.each(t.data.datasets,function(o,i){var a=t.getDatasetMeta(i),u=o.type||t.config.type;if(a.type&&a.type!==u&&(t.destroyDatasetMeta(i),a=t.getDatasetMeta(i)),a.type=u,n.push(a.type),a.controller)a.controller.updateIndex(i);else{var s=e.controllers[a.type];if(void 0===s)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new s(t,i),r.push(a.controller)}},t),r},resetElements:function(){var e=this;o.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),n(t),!1!==s.notify(t,"beforeUpdate")){t.tooltip._data=t.data;var r=t.buildOrUpdateControllers();o.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.buildOrUpdateElements()},t),t.updateLayout(),o.each(r,function(e){e.reset()}),t.updateDatasets(),t.tooltip.initialize(),t.lastActive=[],s.notify(t,"afterUpdate"),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){var t=this;!1!==s.notify(t,"beforeLayout")&&(e.layoutService.update(this,this.width,this.height),s.notify(t,"afterScaleUpdate"),s.notify(t,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==s.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);s.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),r={meta:n,index:e};!1!==s.notify(t,"beforeDatasetUpdate",[r])&&(n.controller.update(),s.notify(t,"afterDatasetUpdate",[r]))},render:function(t){var n=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var r=t.duration,i=t.lazy;if(!1!==s.notify(n,"beforeRender")){var a=n.options.animation,u=function(e){s.notify(n,"afterRender"),o.callback(a&&a.onComplete,[e],n)};if(a&&(void 0!==r&&0!==r||void 0===r&&0!==a.duration)){var c=new e.Animation({numSteps:(r||a.duration)/16.66,easing:t.easing||a.easing,render:function(e,t){var n=o.easing.effects[t.easing],r=t.currentStep,i=r/t.numSteps;e.draw(n(i),i,r)},onAnimationProgress:a.onProgress,onAnimationComplete:u});e.animationService.addAnimation(n,c,r,i)}else n.draw(),u(new e.Animation({numSteps:0,chart:n}));return n}},draw:function(e){var t=this;t.clear(),o.isNullOrUndef(e)&&(e=1),t.transition(e),!1!==s.notify(t,"beforeDraw",[e])&&(o.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t._drawTooltip(e),s.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=this,n=0,r=(t.data.datasets||[]).length;n<r;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(!1!==s.notify(t,"beforeDatasetsDraw",[e])){for(var n=(t.data.datasets||[]).length-1;n>=0;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);s.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this,r=n.getDatasetMeta(e),o={meta:r,index:e,easingValue:t};!1!==s.notify(n,"beforeDatasetDraw",[o])&&(r.controller.draw(t),s.notify(n,"afterDatasetDraw",[o]))},_drawTooltip:function(e){var t=this,n=t.tooltip,r={tooltip:n,easingValue:e};!1!==s.notify(t,"beforeTooltipDraw",[r])&&(n.draw(),s.notify(t,"afterTooltipDraw",[r]))},getElementAtEvent:function(e){return i.modes.single(this,e)},getElementsAtEvent:function(e){return i.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return i.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=i.modes[t];return"function"==typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return i.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var r=n._meta[t.id];return r||(r=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),r},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var t,n,r=this,i=r.canvas;for(r.stop(),t=0,n=r.data.datasets.length;t<n;++t)r.destroyDatasetMeta(t);i&&(r.unbindEvents(),o.canvas.clear(r),a.releaseContext(r.ctx),r.canvas=null,r.ctx=null),s.notify(r,"destroy"),delete e.instances[r.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};o.each(e.options.events,function(r){a.addEventListener(e,r,n),t[r]=n}),e.options.responsive&&(n=function(){e.resize()},a.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,o.each(t,function(t,n){a.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var r,o,i,a=n?"setHoverStyle":"removeHoverStyle";for(o=0,i=e.length;o<i;++o)(r=e[o])&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==s.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);r|=n&&n.handleEvent(e),s.notify(t,"afterEvent",[e]);var o=t._bufferedRequest;return o?t.render(o):r&&!t.animating&&(t.stop(),t.render(t.options.hover.animationDuration,!0)),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t=this,n=t.options||{},r=n.hover,i=!1;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,r.mode,r),o.callback(n.onHover||n.hover.onHover,[e.native,t.active],t),"mouseup"!==e.type&&"click"!==e.type||n.onClick&&n.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,r.mode,!1),t.active.length&&r.mode&&t.updateHoverStyle(t.active,r.mode,!0),i=!o.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,i}}),e.Controller=e}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){function t(e,t){if(e._chartjs)return void e._chartjs.listeners.push(t);Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),o.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),o=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),i=o.apply(this,t);return r.each(e._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),i}})})}function n(e,t){var n=e._chartjs;if(n){var r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(o.forEach(function(t){delete e[t]}),delete e._chartjs)}}var o=["push","pop","shift","splice","unshift"];e.DatasetController=function(e,t){this.initialize(e,t)},r.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,r=n.getMeta(),o=n.getDataset().data||[],i=r.data;for(e=0,t=o.length;e<t;++e)i[e]=i[e]||n.createMetaData(e);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,r=e.getDataset(),o=r.data||(r.data=[]);e._data!==o&&(e._data&&n(e._data,e),t(o,e),e._data=o),e.resyncElements()},update:r.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,o=0;o<r;++o)n[o].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],o=e._index,i=e.custom||{},a=r.valueAtIndexOrDefault,u=e._model;u.backgroundColor=i.backgroundColor?i.backgroundColor:a(n.backgroundColor,o,t.backgroundColor),u.borderColor=i.borderColor?i.borderColor:a(n.borderColor,o,t.borderColor),u.borderWidth=i.borderWidth?i.borderWidth:a(n.borderWidth,o,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,o=e.custom||{},i=r.valueAtIndexOrDefault,a=r.getHoverColor,u=e._model;u.backgroundColor=o.hoverBackgroundColor?o.hoverBackgroundColor:i(t.hoverBackgroundColor,n,a(u.backgroundColor)),u.borderColor=o.hoverBorderColor?o.hoverBorderColor:i(t.hoverBorderColor,n,a(u.borderColor)),u.borderWidth=o.hoverBorderWidth?o.hoverBorderWidth:i(t.hoverBorderWidth,n,u.borderWidth)},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,r=t.data.length,o=n.length;o<r?t.data.splice(o,r-o):o>r&&e.insertElements(r,o-r)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=r.inherits}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){function t(e,t){return r.where(e,function(e){return e.position===t})}function n(e,t){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,n){var r=t?n:e,o=t?e:n;return r.weight===o.weight?r._tmpIndex_-o._tmpIndex_:r.weight-o.weight}),e.forEach(function(e){delete e._tmpIndex_})}e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,o=["fullWidth","position","weight"],i=o.length,a=0;a<i;++a)r=o[a],n.hasOwnProperty(r)&&(t[r]=n[r])},update:function(e,o,i){function a(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?w:O,C),T-=t.height):(t=e.update(S,E),O-=t.width),A.push({horizontal:n,minSize:t,box:e})}function u(e){var t=r.findNextWhere(A,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(L,j),right:Math.max(I,M),top:0,bottom:0};e.update(e.fullWidth?w:O,x/2,n)}else e.update(t.minSize.width,T)}function s(e){var t=r.findNextWhere(A,function(t){return t.box===e}),n={left:0,right:0,top:R,bottom:N};t&&e.update(t.minSize.width,T,n)}function c(e){e.isHorizontal()?(e.left=e.fullWidth?d:L,e.right=e.fullWidth?o-h:L+O,e.top=H,e.bottom=H+e.height,H=e.bottom):(e.left=U,e.right=U+e.width,e.top=R,e.bottom=R+T,U=e.right)}if(e){var l=e.options.layout||{},f=r.options.toPadding(l.padding),d=f.left,h=f.right,p=f.top,v=f.bottom,y=t(e.boxes,"left"),m=t(e.boxes,"right"),g=t(e.boxes,"top"),b=t(e.boxes,"bottom"),_=t(e.boxes,"chartArea");n(y,!0),n(m,!1),n(g,!0),n(b,!1);var w=o-d-h,x=i-p-v,k=w/2,E=x/2,S=(o-k)/(y.length+m.length),C=(i-E)/(g.length+b.length),O=w,T=x,A=[];r.each(y.concat(m,g,b),a);var j=0,M=0,P=0,D=0;r.each(g.concat(b),function(e){if(e.getPadding){var t=e.getPadding();j=Math.max(j,t.left),M=Math.max(M,t.right)}}),r.each(y.concat(m),function(e){if(e.getPadding){var t=e.getPadding();P=Math.max(P,t.top),D=Math.max(D,t.bottom)}});var L=d,I=h,R=p,N=v;r.each(y.concat(m),u),r.each(y,function(e){L+=e.width}),r.each(m,function(e){I+=e.width}),r.each(g.concat(b),u),r.each(g,function(e){R+=e.height}),r.each(b,function(e){N+=e.height}),r.each(y.concat(m),s),L=d,I=h,R=p,N=v,r.each(y,function(e){L+=e.width}),r.each(m,function(e){I+=e.width}),r.each(g,function(e){R+=e.height}),r.each(b,function(e){N+=e.height});var F=Math.max(j-L,0);L+=F,I+=Math.max(M-I,0);var B=Math.max(P-R,0);R+=B,N+=Math.max(D-N,0);var z=i-R-N,q=o-L-I;q===O&&z===T||(r.each(y,function(e){e.height=z}),r.each(m,function(e){e.height=z}),r.each(g,function(e){e.fullWidth||(e.width=q)}),r.each(b,function(e){e.fullWidth||(e.width=q)}),T=z,O=q);var U=d+F,H=p+B;r.each(y.concat(g),c),U+=O,H+=T,r.each(m,c),r.each(b,c),e.chartArea={left:L,top:R,right:L+O,bottom:R+T},r.each(_,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(O,T)})}}}}},function(e,t,n){"use strict";var r=n(11),o=n(8);e.exports=function(e){e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=o.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?o.merge({},[r.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=o.extend(n.defaults[e],t))},addScalesToLayout:function(t){o.each(t.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,e.layoutService.addBox(t,n)})}}}},function(e,t,n){"use strict";function r(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(e[t].label);return r}function o(e,t,n){var r=e.getPixelForTick(t);return n&&(r-=0===t?(e.getPixelForTick(1)-r)/2:(r-e.getPixelForTick(t-1))/2),r}var i=n(11),a=n(43),u=n(8),s=n(122);i._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:s.formatters.values,minor:{},major:{}}}),e.exports=function(e){function t(e,t,n){return u.isArray(t)?u.longestText(e,n,t):e.measureText(t).width}function n(e){var t=u.valueOrDefault,n=i.global,r=t(e.fontSize,n.defaultFontSize),o=t(e.fontStyle,n.defaultFontStyle),a=t(e.fontFamily,n.defaultFontFamily);return{size:r,style:o,family:a,font:u.fontString(r,o,a)}}function s(e){return u.options.toLineHeight(u.valueOrDefault(e.lineHeight,1.2),u.valueOrDefault(e.fontSize,i.global.defaultFontSize))}e.Scale=a.extend({getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1});for(var t in e)"major"!==t&&"minor"!==t&&(void 0===e.minor[t]&&(e.minor[t]=e[t]),void 0===e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){u.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r,o,i,a,s,c,l=this;for(l.beforeUpdate(),l.maxWidth=e,l.maxHeight=t,l.margins=u.extend({left:0,right:0,top:0,bottom:0},n),l.longestTextCache=l.longestTextCache||{},l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),s=l.buildTicks()||[],l.afterBuildTicks(),l.beforeTickToLabelConversion(),i=l.convertTicksToLabels(s)||l.ticks,l.afterTickToLabelConversion(),l.ticks=i,r=0,o=i.length;r<o;++r)a=i[r],c=s[r],c?c.label=a:s.push(c={label:a,major:!1});return l._ticks=s,l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l.afterUpdate(),l.minSize},afterUpdate:function(){u.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){u.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){u.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){u.callback(this.options.beforeDataLimits,[this])},determineDataLimits:u.noop,afterDataLimits:function(){u.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){u.callback(this.options.beforeBuildTicks,[this])},buildTicks:u.noop,afterBuildTicks:function(){u.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){u.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){u.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){u.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,o=e.options.ticks,i=r(e._ticks),a=n(o);t.font=a.font;var s=o.minRotation||0;if(i.length&&e.options.display&&e.isHorizontal())for(var c,l=u.longestText(t,a.font,i,e.longestTextCache),f=l,d=e.getPixelForTick(1)-e.getPixelForTick(0)-6;f>d&&s<o.maxRotation;){var h=u.toRadians(s);if(c=Math.cos(h),Math.sin(h)*l>e.maxHeight){s--;break}s++,f=c*l}e.labelRotation=s},afterCalculateTickRotation:function(){u.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){u.callback(this.options.beforeFit,[this])},fit:function(){var e=this,o=e.minSize={width:0,height:0},i=r(e._ticks),a=e.options,c=a.ticks,l=a.scaleLabel,f=a.gridLines,d=a.display,h=e.isHorizontal(),p=n(c),v=a.gridLines.tickMarkLength;if(o.width=h?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:d&&f.drawTicks?v:0,o.height=h?d&&f.drawTicks?v:0:e.maxHeight,l.display&&d){var y=s(l),m=u.options.toPadding(l.padding),g=y+m.height;h?o.height+=g:o.width+=g}if(c.display&&d){var b=u.longestText(e.ctx,p.font,i,e.longestTextCache),_=u.numberOfLabelLines(i),w=.5*p.size,x=e.options.ticks.padding;if(h){e.longestLabelWidth=b;var k=u.toRadians(e.labelRotation),E=Math.cos(k),S=Math.sin(k),C=S*b+p.size*_+w*(_-1)+w;o.height=Math.min(e.maxHeight,o.height+C+x),e.ctx.font=p.font;var O=t(e.ctx,i[0],p.font),T=t(e.ctx,i[i.length-1],p.font);0!==e.labelRotation?(e.paddingLeft="bottom"===a.position?E*O+3:E*w+3,e.paddingRight="bottom"===a.position?E*w+3:E*T+3):(e.paddingLeft=O/2+3,e.paddingRight=T/2+3)}else c.mirror?b=0:b+=x+w,o.width=Math.min(e.maxWidth,o.width+b),e.paddingTop=p.size/2,e.paddingBottom=p.size/2}e.handleMargins(),e.width=o.width,e.height=o.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){u.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(u.isNullOrUndef(e))return NaN;if("number"==typeof e&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:u.noop,getPixelForValue:u.noop,getValueForPixel:u.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var r=t.width-(t.paddingLeft+t.paddingRight),o=r/Math.max(t._ticks.length-(n?0:1),1),i=o*e+t.paddingLeft;n&&(i+=o/2);var a=t.left+Math.round(i);return a+=t.isFullWidth()?t.margins.left:0}var u=t.height-(t.paddingTop+t.paddingBottom);return t.top+e*(u/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=t.width-(t.paddingLeft+t.paddingRight),r=n*e+t.paddingLeft,o=t.left+Math.round(r);return o+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,r,o,i,a=this,s=a.isHorizontal(),c=a.options.ticks.minor,l=e.length,f=u.toRadians(a.labelRotation),d=Math.cos(f),h=a.longestLabelWidth*d,p=[];for(c.maxTicksLimit&&(i=c.maxTicksLimit),s&&(t=!1,(h+c.autoSkipPadding)*l>a.width-(a.paddingLeft+a.paddingRight)&&(t=1+Math.floor((h+c.autoSkipPadding)*l/(a.width-(a.paddingLeft+a.paddingRight)))),i&&l>i&&(t=Math.max(t,Math.floor(l/i)))),n=0;n<l;n++)r=e[n],o=t>1&&n%t>0||n%t==0&&n+t>=l,o&&n!==l-1&&delete r.label,p.push(r);return p},draw:function(e){var t=this,r=t.options;if(r.display){var a=t.ctx,c=i.global,l=r.ticks.minor,f=r.ticks.major||l,d=r.gridLines,h=r.scaleLabel,p=0!==t.labelRotation,v=t.isHorizontal(),y=l.autoSkip?t._autoSkip(t.getTicks()):t.getTicks(),m=u.valueOrDefault(l.fontColor,c.defaultFontColor),g=n(l),b=u.valueOrDefault(f.fontColor,c.defaultFontColor),_=n(f),w=d.drawTicks?d.tickMarkLength:0,x=u.valueOrDefault(h.fontColor,c.defaultFontColor),k=n(h),E=u.options.toPadding(h.padding),S=u.toRadians(t.labelRotation),C=[],O="right"===r.position?t.left:t.right-w,T="right"===r.position?t.left+w:t.right,A="bottom"===r.position?t.top:t.bottom-w,j="bottom"===r.position?t.top+w:t.bottom;if(u.each(y,function(n,i){if(!u.isNullOrUndef(n.label)){var a,s,f,h,m=n.label;i===t.zeroLineIndex&&r.offset===d.offsetGridLines?(a=d.zeroLineWidth,s=d.zeroLineColor,f=d.zeroLineBorderDash,h=d.zeroLineBorderDashOffset):(a=u.valueAtIndexOrDefault(d.lineWidth,i),s=u.valueAtIndexOrDefault(d.color,i),f=u.valueOrDefault(d.borderDash,c.borderDash),h=u.valueOrDefault(d.borderDashOffset,c.borderDashOffset));var g,b,_,x,k,E,M,P,D,L,I="middle",R="middle",N=l.padding;if(v){var F=w+N;"bottom"===r.position?(R=p?"middle":"top",I=p?"right":"center",L=t.top+F):(R=p?"middle":"bottom",I=p?"left":"center",L=t.bottom-F);var B=o(t,i,d.offsetGridLines&&y.length>1);B<t.left&&(s="rgba(0,0,0,0)"),B+=u.aliasPixel(a),D=t.getPixelForTick(i)+l.labelOffset,g=_=k=M=B,b=A,x=j,E=e.top,P=e.bottom}else{var z,q="left"===r.position;l.mirror?(I=q?"left":"right",z=N):(I=q?"right":"left",z=w+N),D=q?t.right-z:t.left+z;var U=o(t,i,d.offsetGridLines&&y.length>1);U<t.top&&(s="rgba(0,0,0,0)"),U+=u.aliasPixel(a),L=t.getPixelForTick(i)+l.labelOffset,g=O,_=T,k=e.left,M=e.right,b=x=E=P=U}C.push({tx1:g,ty1:b,tx2:_,ty2:x,x1:k,y1:E,x2:M,y2:P,labelX:D,labelY:L,glWidth:a,glColor:s,glBorderDash:f,glBorderDashOffset:h,rotation:-1*S,label:m,major:n.major,textBaseline:R,textAlign:I})}}),u.each(C,function(e){if(d.display&&(a.save(),a.lineWidth=e.glWidth,a.strokeStyle=e.glColor,a.setLineDash&&(a.setLineDash(e.glBorderDash),a.lineDashOffset=e.glBorderDashOffset),a.beginPath(),d.drawTicks&&(a.moveTo(e.tx1,e.ty1),a.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(a.moveTo(e.x1,e.y1),a.lineTo(e.x2,e.y2)),a.stroke(),a.restore()),l.display){a.save(),a.translate(e.labelX,e.labelY),a.rotate(e.rotation),a.font=e.major?_.font:g.font,a.fillStyle=e.major?b:m,a.textBaseline=e.textBaseline,a.textAlign=e.textAlign;var t=e.label;if(u.isArray(t))for(var n=0,r=0;n<t.length;++n)a.fillText(""+t[n],0,r),r+=1.5*g.size;else a.fillText(t,0,0);a.restore()}}),h.display){var M,P,D=0,L=s(h)/2;if(v)M=t.left+(t.right-t.left)/2,P="bottom"===r.position?t.bottom-L-E.bottom:t.top+L+E.top;else{var I="left"===r.position;M=I?t.left+L+E.top:t.right-L-E.top,P=t.top+(t.bottom-t.top)/2,D=I?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(M,P),a.rotate(D),a.textAlign="center",a.textBaseline="middle",a.fillStyle=x,a.font=k.font,a.fillText(h.labelString,0,0),a.restore()}if(d.drawBorder){a.lineWidth=u.valueAtIndexOrDefault(d.lineWidth,0),a.strokeStyle=u.valueAtIndexOrDefault(d.color,0);var R=t.left,N=t.right,F=t.top,B=t.bottom,z=u.aliasPixel(a.lineWidth);v?(F=B="top"===r.position?t.bottom:t.top,F+=z,B+=z):(R=N="left"===r.position?t.right:t.left,R+=z,N+=z),a.beginPath(),a.moveTo(R,F),a.lineTo(N,B),a.stroke()}}}})}},function(e,t,n){"use strict";var r=n(11),o=n(43),i=n(8);r._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:i.noop,title:function(e,t){var n="",r=t.labels,o=r?r.length:0;if(e.length>0){var i=e[0];i.xLabel?n=i.xLabel:o>0&&i.index<o&&(n=r[i.index])}return n},afterTitle:i.noop,beforeBody:i.noop,beforeLabel:i.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),n+=e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex),r=n.data[e.index],o=r._view;return{borderColor:o.borderColor,backgroundColor:o.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:i.noop,afterBody:i.noop,beforeFooter:i.noop,footer:i.noop,afterFooter:i.noop}}}),e.exports=function(e){function t(e,t){var n=i.color(e);return n.alpha(t*n.alpha()).rgbaString()}function n(e,t){return t&&(i.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function a(e){var t=e._xScale,n=e._yScale||e._scale,r=e._index,o=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(r,o):"",yLabel:n?n.getLabelForIndex(r,o):"",index:r,datasetIndex:o,x:e._model.x,y:e._model.y}}function u(e){var t=r.global,n=i.valueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:n(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:n(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:n(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:n(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:n(e.titleFontStyle,t.defaultFontStyle),titleFontSize:n(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:n(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:n(e.footerFontStyle,t.defaultFontStyle),footerFontSize:n(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function s(e,t){var n=e._chart.ctx,r=2*t.yPadding,o=0,a=t.body,u=a.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);u+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,c=t.footer.length,l=t.titleFontSize,f=t.bodyFontSize,d=t.footerFontSize;r+=s*l,r+=s?(s-1)*t.titleSpacing:0,r+=s?t.titleMarginBottom:0,r+=u*f,r+=u?(u-1)*t.bodySpacing:0,r+=c?t.footerMarginTop:0,r+=c*d,r+=c?(c-1)*t.footerSpacing:0;var h=0,p=function(e){o=Math.max(o,n.measureText(e).width+h)};return n.font=i.fontString(l,t._titleFontStyle,t._titleFontFamily),i.each(t.title,p),n.font=i.fontString(f,t._bodyFontStyle,t._bodyFontFamily),i.each(t.beforeBody.concat(t.afterBody),p),h=t.displayColors?f+2:0,i.each(a,function(e){i.each(e.before,p),i.each(e.lines,p),i.each(e.after,p)}),h=0,n.font=i.fontString(d,t._footerFontStyle,t._footerFontFamily),i.each(t.footer,p),o+=2*t.xPadding,{width:o,height:r}}function c(e,t){var n=e._model,r=e._chart,o=e._chart.chartArea,i="center",a="center";n.y<t.height?a="top":n.y>r.height-t.height&&(a="bottom");var u,s,c,l,f,d=(o.left+o.right)/2,h=(o.top+o.bottom)/2;"center"===a?(u=function(e){return e<=d},s=function(e){return e>d}):(u=function(e){return e<=t.width/2},s=function(e){return e>=r.width-t.width/2}),c=function(e){return e+t.width>r.width},l=function(e){return e-t.width<0},f=function(e){return e<=h?"top":"bottom"},u(n.x)?(i="left",c(n.x)&&(i="center",a=f(n.y))):s(n.x)&&(i="right",l(n.x)&&(i="center",a=f(n.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:i,yAlign:p.yAlign?p.yAlign:a}}function l(e,t,n){var r=e.x,o=e.y,i=e.caretSize,a=e.caretPadding,u=e.cornerRadius,s=n.xAlign,c=n.yAlign,l=i+a,f=u+a;return"right"===s?r-=t.width:"center"===s&&(r-=t.width/2),"top"===c?o+=l:o-="bottom"===c?t.height+l:t.height/2,"center"===c?"left"===s?r+=l:"right"===s&&(r-=l):"left"===s?r-=f:"right"===s&&(r+=f),{x:r,y:o}}e.Tooltip=o.extend({initialize:function(){this._model=u(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,r=t.callbacks,o=r.beforeTitle.apply(e,arguments),i=r.title.apply(e,arguments),a=r.afterTitle.apply(e,arguments),u=[];return u=n(u,o),u=n(u,i),u=n(u,a)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var r=this,o=r._options.callbacks,a=[];return i.each(e,function(e){var i={before:[],lines:[],after:[]};n(i.before,o.beforeLabel.call(r,e,t)),n(i.lines,o.label.call(r,e,t)),n(i.after,o.afterLabel.call(r,e,t)),a.push(i)}),a},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,r=t.beforeFooter.apply(e,arguments),o=t.footer.apply(e,arguments),i=t.afterFooter.apply(e,arguments),a=[];return a=n(a,r),a=n(a,o),a=n(a,i)},update:function(t){var n,r,o=this,f=o._options,d=o._model,h=o._model=u(f),p=o._active,v=o._data,y={xAlign:d.xAlign,yAlign:d.yAlign},m={x:d.x,y:d.y},g={width:d.width,height:d.height},b={x:d.caretX,y:d.caretY};if(p.length){h.opacity=1;var _=[],w=[];b=e.Tooltip.positioners[f.position].call(o,p,o._eventPosition);var x=[];for(n=0,r=p.length;n<r;++n)x.push(a(p[n]));f.filter&&(x=x.filter(function(e){return f.filter(e,v)})),f.itemSort&&(x=x.sort(function(e,t){return f.itemSort(e,t,v)})),i.each(x,function(e){_.push(f.callbacks.labelColor.call(o,e,o._chart)),w.push(f.callbacks.labelTextColor.call(o,e,o._chart))}),h.title=o.getTitle(x,v),h.beforeBody=o.getBeforeBody(x,v),h.body=o.getBody(x,v),h.afterBody=o.getAfterBody(x,v),h.footer=o.getFooter(x,v),h.x=Math.round(b.x),h.y=Math.round(b.y),h.caretPadding=f.caretPadding,h.labelColors=_,h.labelTextColors=w,h.dataPoints=x,g=s(this,h),y=c(this,g),m=l(h,g,y)}else h.opacity=0;return h.xAlign=y.xAlign,h.yAlign=y.yAlign,h.x=m.x,h.y=m.y,h.width=g.width,h.height=g.height,h.caretX=b.x,h.caretY=b.y,o._model=h,t&&f.custom&&f.custom.call(o,h),o},drawCaret:function(e,t){var n=this._chart.ctx,r=this._view,o=this.getCaretPosition(e,t,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)},getCaretPosition:function(e,t,n){var r,o,i,a,u,s,c=n.caretSize,l=n.cornerRadius,f=n.xAlign,d=n.yAlign,h=e.x,p=e.y,v=t.width,y=t.height;if("center"===d)u=p+y/2,"left"===f?(r=h,o=r-c,i=r,a=u+c,s=u-c):(r=h+v,o=r+c,i=r,a=u-c,s=u+c);else if("left"===f?(o=h+l+c,r=o-c,i=o+c):"right"===f?(o=h+v-l-c,r=o-c,i=o+c):(o=h+v/2,r=o-c,i=o+c),"top"===d)a=p,u=a-c,s=a;else{a=p+y,u=a+c,s=a;var m=i;i=r,r=m}return{x1:r,x2:o,x3:i,y1:a,y2:u,y3:s}},drawTitle:function(e,n,r,o){var a=n.title;if(a.length){r.textAlign=n._titleAlign,r.textBaseline="top";var u=n.titleFontSize,s=n.titleSpacing;r.fillStyle=t(n.titleFontColor,o),r.font=i.fontString(u,n._titleFontStyle,n._titleFontFamily);var c,l;for(c=0,l=a.length;c<l;++c)r.fillText(a[c],e.x,e.y),e.y+=u+s,c+1===a.length&&(e.y+=n.titleMarginBottom-s)}},drawBody:function(e,n,r,o){var a=n.bodyFontSize,u=n.bodySpacing,s=n.body;r.textAlign=n._bodyAlign,r.textBaseline="top",r.font=i.fontString(a,n._bodyFontStyle,n._bodyFontFamily);var c=0,l=function(t){r.fillText(t,e.x+c,e.y),e.y+=a+u};r.fillStyle=t(n.bodyFontColor,o),i.each(n.beforeBody,l);var f=n.displayColors;c=f?a+2:0,i.each(s,function(u,s){var c=t(n.labelTextColors[s],o);r.fillStyle=c,i.each(u.before,l),i.each(u.lines,function(i){f&&(r.fillStyle=t(n.legendColorBackground,o),r.fillRect(e.x,e.y,a,a),r.lineWidth=1,r.strokeStyle=t(n.labelColors[s].borderColor,o),r.strokeRect(e.x,e.y,a,a),r.fillStyle=t(n.labelColors[s].backgroundColor,o),r.fillRect(e.x+1,e.y+1,a-2,a-2),r.fillStyle=c),l(i)}),i.each(u.after,l)}),c=0,i.each(n.afterBody,l),e.y-=u},drawFooter:function(e,n,r,o){var a=n.footer;a.length&&(e.y+=n.footerMarginTop,r.textAlign=n._footerAlign,r.textBaseline="top",r.fillStyle=t(n.footerFontColor,o),r.font=i.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),i.each(a,function(t){r.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(e,n,r,o,i){r.fillStyle=t(n.backgroundColor,i),r.strokeStyle=t(n.borderColor,i),r.lineWidth=n.borderWidth;var a=n.xAlign,u=n.yAlign,s=e.x,c=e.y,l=o.width,f=o.height,d=n.cornerRadius;r.beginPath(),r.moveTo(s+d,c),"top"===u&&this.drawCaret(e,o),r.lineTo(s+l-d,c),r.quadraticCurveTo(s+l,c,s+l,c+d),"center"===u&&"right"===a&&this.drawCaret(e,o),r.lineTo(s+l,c+f-d),r.quadraticCurveTo(s+l,c+f,s+l-d,c+f),"bottom"===u&&this.drawCaret(e,o),r.lineTo(s+d,c+f),r.quadraticCurveTo(s,c+f,s,c+f-d),"center"===u&&"left"===a&&this.drawCaret(e,o),r.lineTo(s,c+d),r.quadraticCurveTo(s,c,s+d,c),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},o=Math.abs(t.opacity<.001)?0:t.opacity,i=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&i&&(this.drawBackground(r,t,e,n,o),r.x+=t.xPadding,r.y+=t.yPadding,this.drawTitle(r,t,e,o),this.drawBody(r,t,e,o),this.drawFooter(r,t,e,o))}},handleEvent:function(e){var t=this,n=t._options,r=!1;if(t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),!(r=!i.arrayEquals(t._active,t._lastActive)))return!1;if(t._lastActive=t._active,n.enabled||n.custom){t._eventPosition={x:e.x,y:e.y};var o=t._model;t.update(!0),t.pivot(),r|=o.x!==t._model.x||o.y!==t._model.y}return r}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,n,r=0,o=0,i=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var u=a.tooltipPosition();r+=u.x,o+=u.y,++i}}return{x:Math.round(r/i),y:Math.round(o/i)}},nearest:function(e,t){var n,r,o,a=t.x,u=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var c=e[n];if(c&&c.hasValue()){var l=c.getCenterPoint(),f=i.distanceBetweenPoints(t,l);f<s&&(s=f,o=c)}}if(o){var d=o.tooltipPosition();a=d.x,u=d.y}return{x:a,y:u}}}}},function(e,t,n){"use strict";var r=n(8),o=n(122);e.exports=function(e){var t=r.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var e=this,t=e.options,n=t.ticks;if(n.beginAtZero){var o=r.sign(e.min),i=r.sign(e.max);o<0&&i<0?e.max=0:o>0&&i>0&&(e.min=0)}var a=void 0!==n.min||void 0!==n.suggestedMin,u=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(null===e.min?e.min=n.suggestedMin:e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(null===e.max?e.max=n.suggestedMax:e.max=Math.max(e.max,n.suggestedMax)),a!==u&&e.min>=e.max&&(a?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var e=this,t=e.options,n=t.ticks,i=e.getTickLimit();i=Math.max(2,i);var a={maxTicks:i,min:n.min,max:n.max,stepSize:r.valueOrDefault(n.fixedStepSize,n.stepSize)},u=e.ticks=o.generators.linear(a,e);e.handleDirectionalChanges(),e.max=r.max(u),e.min=r.min(u),n.reverse?(u.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},function(e,t,n){"use strict";e.exports=function(e){var t={position:"bottom"},n=e.Scale.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e=this,t=e.getLabels();e.minIndex=0,e.maxIndex=t.length-1;var n;void 0!==e.options.ticks.min&&(n=t.indexOf(e.options.ticks.min),e.minIndex=-1!==n?n:e.minIndex),void 0!==e.options.ticks.max&&(n=t.indexOf(e.options.ticks.max),e.maxIndex=-1!==n?n:e.maxIndex),e.min=t[e.minIndex],e.max=t[e.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,o=n.isHorizontal();return r.yLabels&&!o?n.getRightValue(r.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,r=this,o=r.options.offset,i=Math.max(r.maxIndex+1-r.minIndex-(o?0:1),1);if(void 0!==e&&null!==e&&(n=r.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){var a=r.getLabels();e=n||e;var u=a.indexOf(e);t=-1!==u?u:t}if(r.isHorizontal()){var s=r.width/i,c=s*(t-r.minIndex);return o&&(c+=s/2),r.left+Math.round(c)}var l=r.height/i,f=l*(t-r.minIndex);return o&&(f+=l/2),r.top+Math.round(f)},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t=this,n=t.options.offset,r=Math.max(t._ticks.length-(n?0:1),1),o=t.isHorizontal(),i=(o?t.width:t.height)/r;return e-=o?t.left:t.top,n&&(e-=i/2),(e<=0?0:Math.round(e/i))+t.minIndex},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",n,t)}},function(e,t,n){"use strict";var r=n(11),o=n(8),i=n(122);e.exports=function(e){var t={position:"left",ticks:{callback:i.formatters.linear}},n=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return u?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,r=t.chart,i=r.data,a=i.datasets,u=t.isHorizontal();t.min=null,t.max=null;var s=n.stacked;if(void 0===s&&o.each(a,function(t,n){if(!s){var o=r.getDatasetMeta(n);r.isDatasetVisible(n)&&e(o)&&void 0!==o.stack&&(s=!0)}}),n.stacked||s){var c={};o.each(a,function(i,a){var u=r.getDatasetMeta(a),s=[u.type,void 0===n.stacked&&void 0===u.stack?a:"",u.stack].join(".");void 0===c[s]&&(c[s]={positiveValues:[],negativeValues:[]});var l=c[s].positiveValues,f=c[s].negativeValues;r.isDatasetVisible(a)&&e(u)&&o.each(i.data,function(e,r){var o=+t.getRightValue(e);isNaN(o)||u.data[r].hidden||(l[r]=l[r]||0,f[r]=f[r]||0,n.relativePoints?l[r]=100:o<0?f[r]+=o:l[r]+=o)})}),o.each(c,function(e){var n=e.positiveValues.concat(e.negativeValues),r=o.min(n),i=o.max(n);t.min=null===t.min?r:Math.min(t.min,r),t.max=null===t.max?i:Math.max(t.max,i)})}else o.each(a,function(n,i){var a=r.getDatasetMeta(i);r.isDatasetVisible(i)&&e(a)&&o.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||a.data[n].hidden||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var e,t=this,n=t.options.ticks;if(t.isHorizontal())e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.width/50));else{var i=o.valueOrDefault(n.fontSize,r.global.defaultFontSize);e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.height/(2*i)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n=this,r=n.start,o=+n.getRightValue(e),i=n.end-r;return n.isHorizontal()?(t=n.left+n.width/i*(o-r),Math.round(t)):(t=n.bottom-n.height/i*(o-r),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),r=n?t.width:t.height,o=(n?e-t.left:t.bottom-e)/r;return t.start+(t.end-t.start)*o},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",n,t)}},function(e,t,n){"use strict";var r=n(8),o=n(122);e.exports=function(e){var t={position:"left",ticks:{callback:o.formatters.logarithmic}},n=e.Scale.extend({determineDataLimits:function(){function e(e){return c?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,o=n.ticks,i=t.chart,a=i.data,u=a.datasets,s=r.valueOrDefault,c=t.isHorizontal();t.min=null,t.max=null,t.minNotZero=null;var l=n.stacked;if(void 0===l&&r.each(u,function(t,n){if(!l){var r=i.getDatasetMeta(n);i.isDatasetVisible(n)&&e(r)&&void 0!==r.stack&&(l=!0)}}),n.stacked||l){var f={};r.each(u,function(o,a){var u=i.getDatasetMeta(a),s=[u.type,void 0===n.stacked&&void 0===u.stack?a:"",u.stack].join(".");i.isDatasetVisible(a)&&e(u)&&(void 0===f[s]&&(f[s]=[]),r.each(o.data,function(e,r){var o=f[s],i=+t.getRightValue(e);isNaN(i)||u.data[r].hidden||(o[r]=o[r]||0,n.relativePoints?o[r]=100:o[r]+=i)}))}),r.each(f,function(e){var n=r.min(e),o=r.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?o:Math.max(t.max,o)})}else r.each(u,function(n,o){var a=i.getDatasetMeta(o);i.isDatasetVisible(o)&&e(a)&&r.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||a.data[n].hidden||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r),0!==r&&(null===t.minNotZero||r<t.minNotZero)&&(t.minNotZero=r))})});t.min=s(o.min,t.min),t.max=s(o.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(r.log10(t.min))-1),t.max=Math.pow(10,Math.floor(r.log10(t.max))+1)):(t.min=1,t.max=10))},buildTicks:function(){var e=this,t=e.options,n=t.ticks,i={min:n.min,max:n.max},a=e.ticks=o.generators.logarithmic(i,e);e.isHorizontal()||a.reverse(),e.max=r.max(a),e.min=r.min(a),n.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var t,n,o,i=this,a=i.start,u=+i.getRightValue(e),s=i.options,c=s.ticks;return i.isHorizontal()?(o=r.log10(i.end)-r.log10(a),0===u?n=i.left:(t=i.width,n=i.left+t/o*(r.log10(u)-r.log10(a)))):(t=i.height,0!==a||c.reverse?0===i.end&&c.reverse?(o=r.log10(i.start)-r.log10(i.minNotZero),n=u===i.end?i.top:u===i.minNotZero?i.top+.02*t:i.top+.02*t+.98*t/o*(r.log10(u)-r.log10(i.minNotZero))):0===u?n=c.reverse?i.top:i.bottom:(o=r.log10(i.end)-r.log10(a),t=i.height,n=i.bottom-t/o*(r.log10(u)-r.log10(a))):(o=r.log10(i.end)-r.log10(i.minNotZero),n=u===a?i.bottom:u===i.minNotZero?i.bottom-.02*t:i.bottom-.02*t-.98*t/o*(r.log10(u)-r.log10(i.minNotZero)))),n},getValueForPixel:function(e){var t,n,o=this,i=r.log10(o.end)-r.log10(o.start);return o.isHorizontal()?(n=o.width,t=o.start*Math.pow(10,(e-o.left)*i/n)):(n=o.height,t=Math.pow(10,(o.bottom-e)*i/n)/o.start),t}});e.scaleService.registerScaleType("logarithmic",n,t)}},function(e,t,n){"use strict";var r=n(11),o=n(8),i=n(122);e.exports=function(e){function t(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function n(e){var t=e.options.pointLabels,n=o.valueOrDefault(t.fontSize,y.defaultFontSize),r=o.valueOrDefault(t.fontStyle,y.defaultFontStyle),i=o.valueOrDefault(t.fontFamily,y.defaultFontFamily);return{size:n,style:r,family:i,font:o.fontString(n,r,i)}}function a(e,t,n){return o.isArray(n)?{w:o.longestText(e,e.font,n),h:n.length*t+1.5*(n.length-1)*t}:{w:e.measureText(n).width,h:t}}function u(e,t,n,r,o){return e===r||e===o?{start:t-n/2,end:t+n/2}:e<r||e>o?{start:t-n-5,end:t}:{start:t,end:t+n+5}}function s(e){var r,i,s,c=n(e),l=Math.min(e.height/2,e.width/2),f={r:e.width,l:0,t:e.height,b:0},d={};e.ctx.font=c.font,e._pointLabelSizes=[];var h=t(e);for(r=0;r<h;r++){s=e.getPointPosition(r,l),i=a(e.ctx,c.size,e.pointLabels[r]||""),e._pointLabelSizes[r]=i;var p=e.getIndexAngle(r),v=o.toDegrees(p)%360,y=u(v,s.x,i.w,0,180),m=u(v,s.y,i.h,90,270);y.start<f.l&&(f.l=y.start,d.l=p),y.end>f.r&&(f.r=y.end,d.r=p),m.start<f.t&&(f.t=m.start,d.t=p),m.end>f.b&&(f.b=m.end,d.b=p)}e.setReductions(l,f,d)}function c(e){var t=Math.min(e.height/2,e.width/2);e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0)}function l(e){return 0===e||180===e?"center":e<180?"left":"right"}function f(e,t,n,r){if(o.isArray(t))for(var i=n.y,a=1.5*r,u=0;u<t.length;++u)e.fillText(t[u],n.x,i),i+=a;else e.fillText(t,n.x,n.y)}function d(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function h(e){var r=e.ctx,i=o.valueOrDefault,a=e.options,u=a.angleLines,s=a.pointLabels;r.lineWidth=u.lineWidth,r.strokeStyle=u.color;var c=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),h=n(e);r.textBaseline="top";for(var p=t(e)-1;p>=0;p--){if(u.display){var v=e.getPointPosition(p,c);r.beginPath(),r.moveTo(e.xCenter,e.yCenter),r.lineTo(v.x,v.y),r.stroke(),r.closePath()}if(s.display){var m=e.getPointPosition(p,c+5),g=i(s.fontColor,y.defaultFontColor);r.font=h.font,r.fillStyle=g;var b=e.getIndexAngle(p),_=o.toDegrees(b);r.textAlign=l(_),d(_,e._pointLabelSizes[p],m),f(r,e.pointLabels[p]||"",m,h.size)}}}function p(e,n,r,i){var a=e.ctx;if(a.strokeStyle=o.valueAtIndexOrDefault(n.color,i-1),a.lineWidth=o.valueAtIndexOrDefault(n.lineWidth,i-1),e.options.gridLines.circular)a.beginPath(),a.arc(e.xCenter,e.yCenter,r,0,2*Math.PI),a.closePath(),a.stroke();else{var u=t(e);if(0===u)return;a.beginPath();var s=e.getPointPosition(0,r);a.moveTo(s.x,s.y);for(var c=1;c<u;c++)s=e.getPointPosition(c,r),a.lineTo(s.x,s.y);a.closePath(),a.stroke()}}function v(e){return o.isNumber(e)?e:0}var y=r.global,m={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:i.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},g=e.LinearScaleBase.extend({setDimensions:function(){var e=this,t=e.options,n=t.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var r=o.min([e.height,e.width]),i=o.valueOrDefault(n.fontSize,y.defaultFontSize);e.drawingArea=t.display?r/2-(i/2+n.backdropPaddingY):r/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;o.each(t.data.datasets,function(i,a){if(t.isDatasetVisible(a)){var u=t.getDatasetMeta(a);o.each(i.data,function(t,o){var i=+e.getRightValue(t);isNaN(i)||u.data[o].hidden||(n=Math.min(i,n),r=Math.max(i,r))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,t=o.valueOrDefault(e.fontSize,y.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){this.options.pointLabels.display?s(this):c(this)},setReductions:function(e,t,n){var r=this,o=t.l/Math.sin(n.l),i=Math.max(t.r-r.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),u=-Math.max(t.b-r.height,0)/Math.cos(n.b);o=v(o),i=v(i),a=v(a),u=v(u),r.drawingArea=Math.min(Math.round(e-(o+i)/2),Math.round(e-(a+u)/2)),r.setCenterPoint(o,i,a,u)},setCenterPoint:function(e,t,n,r){var o=this,i=o.width-t-o.drawingArea,a=e+o.drawingArea,u=n+o.drawingArea,s=o.height-r-o.drawingArea;o.xCenter=Math.round((a+i)/2+o.left),o.yCenter=Math.round((u+s)/2+o.top)},getIndexAngle:function(e){return e*(2*Math.PI/t(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,r=n.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(r)*t)+n.xCenter,y:Math.round(Math.sin(r)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,t=e.options,n=t.gridLines,r=t.ticks,i=o.valueOrDefault;if(t.display){var a=e.ctx,u=this.getIndexAngle(0),s=i(r.fontSize,y.defaultFontSize),c=i(r.fontStyle,y.defaultFontStyle),l=i(r.fontFamily,y.defaultFontFamily),f=o.fontString(s,c,l);o.each(e.ticks,function(t,o){if(o>0||r.reverse){var c=e.getDistanceFromCenterForValue(e.ticksAsNumbers[o]);if(n.display&&0!==o&&p(e,n,c,o),r.display){var l=i(r.fontColor,y.defaultFontColor);if(a.font=f,a.save(),a.translate(e.xCenter,e.yCenter),a.rotate(u),r.showLabelBackdrop){var d=a.measureText(t).width;a.fillStyle=r.backdropColor,a.fillRect(-d/2-r.backdropPaddingX,-c-s/2-r.backdropPaddingY,d+2*r.backdropPaddingX,s+2*r.backdropPaddingY)}a.textAlign="center",a.textBaseline="middle",a.fillStyle=l,a.fillText(t,0,-c),a.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&h(e)}}});e.scaleService.registerScaleType("radialLinear",g,m)}},function(e,t,n){"use strict";function r(e,t){return e-t}function o(e){var t,n,r,o={},i=[];for(t=0,n=e.length;t<n;++t)r=e[t],o[r]||(o[r]=!0,i.push(r));return i}function i(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var o,i,a,u,s,c=[],l=[t];for(o=0,i=e.length;o<i;++o)(u=e[o])>t&&u<n&&l.push(u);for(l.push(n),o=0,i=l.length;o<i;++o)s=l[o+1],a=l[o-1],u=l[o],void 0!==a&&void 0!==s&&Math.round((s+a)/2)===u||c.push({time:u,pos:o/(i-1)});return c}function a(e,t,n){for(var r,o,i,a=0,u=e.length-1;a>=0&&a<=u;){if(r=a+u>>1,o=e[r-1]||null,i=e[r],!o)return{lo:null,hi:i};if(i[t]<n)a=r+1;else{if(!(o[t]>n))return{lo:o,hi:i};u=r-1}}return{lo:i,hi:null}}function u(e,t,n,r){var o=a(e,t,n),i=o.lo?o.hi?o.lo:e[e.length-2]:e[0],u=o.lo?o.hi?o.hi:e[e.length-1]:e[1],s=u[t]-i[t],c=s?(n-i[t])/s:0,l=(u[r]-i[r])*c;return i[r]+l}function s(e,t){var n=t.parser,r=t.parser||t.format;return"function"==typeof n?n(e):"string"==typeof e&&"string"==typeof r?m(e,r):(e instanceof m||(e=m(e)),e.isValid()?e:"function"==typeof r?r(e):e)}function c(e,t){if(b.isNullOrUndef(e))return null;var n=t.options.time,r=s(t.getRightValue(e),n);return r.isValid()?(n.round&&r.startOf(n.round),r.valueOf()):null}function l(e,t,n,r){var o,i,a,u=t-e,s=x[n],c=s.size,l=s.steps;if(!l)return Math.ceil(u/((r||1)*c));for(o=0,i=l.length;o<i&&(a=l[o],!(Math.ceil(u/(c*a))<=r));++o);return a}function f(e,t,n,r){var o,i,a,u=k.length;for(o=k.indexOf(e);o<u-1;++o)if(i=x[k[o]],a=i.steps?i.steps[i.steps.length-1]:w,i.common&&Math.ceil((n-t)/(a*i.size))<=r)return k[o];return k[u-1]}function d(e,t,n,r){var o,i,a=m.duration(m(r).diff(m(n))),u=k.length;for(o=u-1;o>=k.indexOf(t);o--)if(i=k[o],x[i].common&&a.as(i)>=e.length)return i;return k[t?k.indexOf(t):0]}function h(e){for(var t=k.indexOf(e)+1,n=k.length;t<n;++t)if(x[k[t]].common)return k[t]}function p(e,t,n,r){var o,i=r.time,a=i.unit||f(i.minUnit,e,t,n),u=h(a),s=b.valueOrDefault(i.stepSize,i.unitStepSize),c="week"===a&&i.isoWeekday,d=r.ticks.major.enabled,p=x[a],v=m(e),y=m(t),g=[];for(s||(s=l(e,t,a,n)),c&&(v=v.isoWeekday(c),y=y.isoWeekday(c)),v=v.startOf(c?"day":a),y=y.startOf(c?"day":a),y<t&&y.add(1,a),o=m(v),d&&u&&!c&&!i.round&&(o.startOf(u),o.add(~~((v-o)/(p.size*s))*s,a));o<y;o.add(s,a))g.push(+o);return g.push(+o),g}function v(e,t,n,r,o){var i,a,s=0,c=0;return o.offset&&t.length&&(o.time.min||(i=t.length>1?t[1]:r,a=t[0],s=(u(e,"time",i,"pos")-u(e,"time",a,"pos"))/2),o.time.max||(i=t[t.length-1],a=t.length>1?t[t.length-2]:n,c=(u(e,"time",i,"pos")-u(e,"time",a,"pos"))/2)),{left:s,right:c}}function y(e,t){var n,r,o,i,a=[];for(n=0,r=e.length;n<r;++n)o=e[n],i=!!t&&o===+m(o).startOf(t),a.push({value:o,major:i});return a}var m=n(55);m="function"==typeof m?m:window.moment;var g=n(11),b=n(8),_=Number.MIN_SAFE_INTEGER||-9007199254740991,w=Number.MAX_SAFE_INTEGER||9007199254740991,x={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},k=Object.keys(x);e.exports=function(e){var t={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},n=e.Scale.extend({initialize:function(){if(!m)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this,n=t.options;return n.time&&n.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),e.Scale.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var e,t,n,i,a,u,s=this,l=s.chart,f=s.options.time,d=w,h=_,p=[],v=[],y=[];for(e=0,n=l.data.labels.length;e<n;++e)y.push(c(l.data.labels[e],s));for(e=0,n=(l.data.datasets||[]).length;e<n;++e)if(l.isDatasetVisible(e))if(a=l.data.datasets[e].data,b.isObject(a[0]))for(v[e]=[],t=0,i=a.length;t<i;++t)u=c(a[t],s),p.push(u),v[e][t]=u;else p.push.apply(p,y),v[e]=y.slice(0);else v[e]=[];y.length&&(y=o(y).sort(r),d=Math.min(d,y[0]),h=Math.max(h,y[y.length-1])),p.length&&(p=o(p).sort(r),d=Math.min(d,p[0]),h=Math.max(h,p[p.length-1])),d=c(f.min,s)||d,h=c(f.max,s)||h,d=d===w?+m().startOf("day"):d,h=h===_?+m().endOf("day")+1:h,s.min=Math.min(d,h),s.max=Math.max(d+1,h),s._horizontal=s.isHorizontal(),s._table=[],s._timestamps={data:p,datasets:v,labels:y}},buildTicks:function(){var e,t,n,r=this,o=r.min,a=r.max,u=r.options,s=u.time,l=[],f=[];switch(u.ticks.source){case"data":l=r._timestamps.data;break;case"labels":l=r._timestamps.labels;break;case"auto":default:l=p(o,a,r.getLabelCapacity(o),u)}for("ticks"===u.bounds&&l.length&&(o=l[0],a=l[l.length-1]),o=c(s.min,r)||o,a=c(s.max,r)||a,e=0,t=l.length;e<t;++e)(n=l[e])>=o&&n<=a&&f.push(n);return r.min=o,r.max=a,r._unit=s.unit||d(f,s.minUnit,r.min,r.max),r._majorUnit=h(r._unit),r._table=i(r._timestamps.data,o,a,u.distribution),r._offsets=v(r._table,f,o,a,u),y(f,r._majorUnit)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,o=n.options.time,i=r.labels&&e<r.labels.length?r.labels[e]:"",a=r.datasets[t].data[e];return b.isObject(a)&&(i=n.getRightValue(a)),o.tooltipFormat&&(i=s(i,o).format(o.tooltipFormat)),i},tickFormatFunction:function(e,t,n,r){var o=this,i=o.options,a=e.valueOf(),u=i.time.displayFormats,s=u[o._unit],c=o._majorUnit,l=u[c],f=e.clone().startOf(c).valueOf(),d=i.ticks.major,h=d.enabled&&c&&l&&a===f,p=e.format(r||(h?l:s)),v=h?d:i.ticks.minor,y=b.valueOrDefault(v.callback,v.userCallback);return y?y(p,t,n):p},convertTicksToLabels:function(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(this.tickFormatFunction(m(e[t].value),t,e));return r},getPixelForOffset:function(e){var t=this,n=t._horizontal?t.width:t.height,r=t._horizontal?t.left:t.top,o=u(t._table,"time",e,"pos");return r+n*(t._offsets.left+o)/(t._offsets.left+1+t._offsets.right)},getPixelForValue:function(e,t,n){var r=this,o=null;if(void 0!==t&&void 0!==n&&(o=r._timestamps.datasets[n][t]),null===o&&(o=c(e,r)),null!==o)return r.getPixelForOffset(o)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,r=t._horizontal?t.left:t.top,o=(n?(e-r)/n:0)*(t._offsets.left+1+t._offsets.left)-t._offsets.right,i=u(t._table,"pos",o,"time");return m(i)},getLabelWidth:function(e){var t=this,n=t.options.ticks,r=t.ctx.measureText(e).width,o=b.toRadians(n.maxRotation),i=Math.cos(o),a=Math.sin(o);return r*i+b.valueOrDefault(n.fontSize,g.global.defaultFontSize)*a},getLabelCapacity:function(e){var t=this,n=t.options.time.displayFormats.millisecond,r=t.tickFormatFunction(m(e),0,[],n),o=t.getLabelWidth(r),i=t.isHorizontal()?t.width:t.height;return Math.floor(i/o)}});e.scaleService.registerScaleType("time",n,t)}},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./en-au":441,"./en-au.js":441,"./en-ca":442,"./en-ca.js":442,"./en-gb":443,"./en-gb.js":443,"./en-ie":444,"./en-ie.js":444,"./en-nz":445,"./en-nz.js":445,"./fr":446,"./fr-ca":447,"./fr-ca.js":447,"./fr-ch":448,"./fr-ch.js":448,"./fr.js":446};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1159},function(e,t,n){"use strict";var r=n(11),o=n(63),i=n(8);r._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),r._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}},mode:"index",axis:"y"}}),e.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:o.Rectangle,initialize:function(){var t,n=this;e.DatasetController.prototype.initialize.apply(n,arguments),t=n.getMeta(),t.stack=n.getDataset().stack,t.bar=!0},update:function(e){var t,n,r=this,o=r.getMeta().data;for(r._ruler=r.getRuler(),t=0,n=o.length;t<n;++t)r.updateElement(o[t],t,e)},updateElement:function(e,t,n){var r=this,o=r.chart,a=r.getMeta(),u=r.getDataset(),s=e.custom||{},c=o.options.elements.rectangle;e._xScale=r.getScaleForId(a.xAxisID),e._yScale=r.getScaleForId(a.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={datasetLabel:u.label,label:o.data.labels[t],borderSkipped:s.borderSkipped?s.borderSkipped:c.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:i.valueAtIndexOrDefault(u.backgroundColor,t,c.backgroundColor),borderColor:s.borderColor?s.borderColor:i.valueAtIndexOrDefault(u.borderColor,t,c.borderColor),borderWidth:s.borderWidth?s.borderWidth:i.valueAtIndexOrDefault(u.borderWidth,t,c.borderWidth)},r.updateElementGeometry(e,t,n),e.pivot()},updateElementGeometry:function(e,t,n){var r=this,o=e._model,i=r.getValueScale(),a=i.getBasePixel(),u=i.isHorizontal(),s=r._ruler||r.getRuler(),c=r.calculateBarValuePixels(r.index,t),l=r.calculateBarIndexPixels(r.index,t,s);o.horizontal=u,o.base=n?a:c.base,o.x=u?n?a:c.head:l.center,o.y=u?l.center:n?a:c.head,o.height=u?l.size:void 0,o.width=u?void 0:l.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,n,r=this,o=r.chart,i=r.getIndexScale(),a=i.options.stacked,u=void 0===e?o.data.datasets.length:e+1,s=[];for(t=0;t<u;++t)n=o.getDatasetMeta(t),n.bar&&o.isDatasetVisible(t)&&(!1===a||!0===a&&-1===s.indexOf(n.stack)||void 0===a&&(void 0===n.stack||-1===s.indexOf(n.stack)))&&s.push(n.stack);return s.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e,t,n=this,r=n.getIndexScale(),o=n.getStackCount(),i=n.index,a=[],u=r.isHorizontal(),s=u?r.left:r.top,c=s+(u?r.width:r.height);for(e=0,t=n.getMeta().data.length;e<t;++e)a.push(r.getPixelForValue(null,e,i));return{pixels:a,start:s,end:c,stackCount:o,scale:r}},calculateBarValuePixels:function(e,t){var n,r,o,i,a,u,s=this,c=s.chart,l=s.getMeta(),f=s.getValueScale(),d=c.data.datasets,h=f.getRightValue(d[e].data[t]),p=f.options.stacked,v=l.stack,y=0;if(p||void 0===p&&void 0!==v)for(n=0;n<e;++n)r=c.getDatasetMeta(n),r.bar&&r.stack===v&&r.controller.getValueScaleId()===f.id&&c.isDatasetVisible(n)&&(o=f.getRightValue(d[n].data[t]),(h<0&&o<0||h>=0&&o>0)&&(y+=o));return i=f.getPixelForValue(y),a=f.getPixelForValue(y+h),u=(a-i)/2,{size:u,base:i,head:a,center:a+u/2}},calculateBarIndexPixels:function(e,t,n){var r,o,a,u,s,c,l=this,f=n.scale.options,d=l.getStackIndex(e),h=n.pixels,p=h[t],v=h.length,y=n.start,m=n.end;return 1===v?(r=p>y?p-y:m-p,o=p<m?m-p:p-y):(t>0&&(r=(p-h[t-1])/2,t===v-1&&(o=r)),t<v-1&&(o=(h[t+1]-p)/2,0===t&&(r=o))),a=r*f.categoryPercentage,u=o*f.categoryPercentage,s=(a+u)/n.stackCount,c=s*f.barPercentage,c=Math.min(i.valueOrDefault(f.barThickness,c),i.valueOrDefault(f.maxBarThickness,1/0)),p-=a,p+=s*d,p+=(s-c)/2,{size:c,base:p,head:p+c,center:p+c/2}},draw:function(){var e=this,t=e.chart,n=e.getValueScale(),r=e.getMeta().data,o=e.getDataset(),a=r.length,u=0;for(i.canvas.clipArea(t.ctx,t.chartArea);u<a;++u)isNaN(n.getRightValue(o.data[u]))||r[u].draw();i.canvas.unclipArea(t.ctx)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model;o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:i.valueAtIndexOrDefault(t.hoverBackgroundColor,n,i.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:i.valueAtIndexOrDefault(t.hoverBorderColor,n,i.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:i.valueAtIndexOrDefault(t.hoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model,a=this.chart.options.elements.rectangle;o.backgroundColor=r.backgroundColor?r.backgroundColor:i.valueAtIndexOrDefault(t.backgroundColor,n,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:i.valueAtIndexOrDefault(t.borderColor,n,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:i.valueAtIndexOrDefault(t.borderWidth,n,a.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},function(e,t,n){"use strict";var r=n(11),o=n(63),i=n(8);r._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+r.r+")"}}}}),e.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:o.Point,update:function(e){var t=this,n=t.getMeta(),r=n.data;i.each(r,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,o=r.getMeta(),i=e.custom||{},a=r.getScaleForId(o.xAxisID),u=r.getScaleForId(o.yAxisID),s=r._resolveElementOptions(e,t),c=r.getDataset().data[t],l=r.index,f=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof c?c:NaN,t,l),d=n?u.getBasePixel():u.getPixelForValue(c,t,l);e._xScale=a,e._yScale=u,e._options=s,e._datasetIndex=l,e._index=t,e._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,radius:n?0:s.radius,skip:i.skip||isNaN(f)||isNaN(d),x:f,y:d},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=i.valueOrDefault(n.hoverBackgroundColor,i.getHoverColor(n.backgroundColor)),t.borderColor=i.valueOrDefault(n.hoverBorderColor,i.getHoverColor(n.borderColor)),t.borderWidth=i.valueOrDefault(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},removeHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,t.borderWidth=n.borderWidth,t.radius=n.radius},_resolveElementOptions:function(e,t){var n,r,o,a=this,u=a.chart,s=u.data.datasets,c=s[a.index],l=e.custom||{},f=u.options.elements.point,d=i.options.resolve,h=c.data[t],p={},v={chart:u,dataIndex:t,dataset:c,datasetIndex:a.index},y=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,r=y.length;n<r;++n)o=y[n],p[o]=d([l[o],c[o],f[o]],v,t);return p.radius=d([l.radius,h?h.r:void 0,c.radius,f.radius],v,t),p}})}},function(e,t,n){"use strict";var r=n(11),o=n(63),i=n(8);r._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,o=n.labels;if(r.length)for(var i=0;i<r[0].data.length;++i)t.push('<li><span style="background-color:'+r[0].backgroundColor[i]+'"></span>'),o[i]&&t.push(o[i]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var o=e.getDatasetMeta(0),a=t.datasets[0],u=o.data[r],s=u&&u.custom||{},c=i.valueAtIndexOrDefault,l=e.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:c(a.backgroundColor,r,l.backgroundColor),strokeStyle:s.borderColor?s.borderColor:c(a.borderColor,r,l.borderColor),lineWidth:s.borderWidth?s.borderWidth:c(a.borderWidth,r,l.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,o,i=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)o=a.getDatasetMeta(n),o.data[i]&&(o.data[i].hidden=!o.data[i].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return i.isArray(n)?(n=n.slice(),n[0]+=r):n+=r,n}}}}),r._set("pie",i.clone(r.doughnut)),r._set("pie",{cutoutPercentage:0}),e.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:o.Arc,linkScales:i.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t=this,n=t.chart,r=n.chartArea,o=n.options,a=o.elements.arc,u=r.right-r.left-a.borderWidth,s=r.bottom-r.top-a.borderWidth,c=Math.min(u,s),l={x:0,y:0},f=t.getMeta(),d=o.cutoutPercentage,h=o.circumference;if(h<2*Math.PI){var p=o.rotation%(2*Math.PI);p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0);var v=p+h,y={x:Math.cos(p),y:Math.sin(p)},m={x:Math.cos(v),y:Math.sin(v)},g=p<=0&&v>=0||p<=2*Math.PI&&2*Math.PI<=v,b=p<=.5*Math.PI&&.5*Math.PI<=v||p<=2.5*Math.PI&&2.5*Math.PI<=v,_=p<=-Math.PI&&-Math.PI<=v||p<=Math.PI&&Math.PI<=v,w=p<=.5*-Math.PI&&.5*-Math.PI<=v||p<=1.5*Math.PI&&1.5*Math.PI<=v,x=d/100,k={x:_?-1:Math.min(y.x*(y.x<0?1:x),m.x*(m.x<0?1:x)),y:w?-1:Math.min(y.y*(y.y<0?1:x),m.y*(m.y<0?1:x))},E={x:g?1:Math.max(y.x*(y.x>0?1:x),m.x*(m.x>0?1:x)),y:b?1:Math.max(y.y*(y.y>0?1:x),m.y*(m.y>0?1:x))},S={width:.5*(E.x-k.x),height:.5*(E.y-k.y)};c=Math.min(u/S.width,s/S.height),l={x:-.5*(E.x+k.x),y:-.5*(E.y+k.y)}}n.borderWidth=t.getMaxBorderWidth(f.data),n.outerRadius=Math.max((c-n.borderWidth)/2,0),n.innerRadius=Math.max(d?n.outerRadius/100*d:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=l.x*n.outerRadius,n.offsetY=l.y*n.outerRadius,f.total=t.calculateTotal(),t.outerRadius=n.outerRadius-n.radiusLength*t.getRingIndex(t.index),t.innerRadius=Math.max(t.outerRadius-n.radiusLength,0),i.each(f.data,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,o=r.chart,a=o.chartArea,u=o.options,s=u.animation,c=(a.left+a.right)/2,l=(a.top+a.bottom)/2,f=u.rotation,d=u.rotation,h=r.getDataset(),p=n&&s.animateRotate?0:e.hidden?0:r.calculateCircumference(h.data[t])*(u.circumference/(2*Math.PI)),v=n&&s.animateScale?0:r.innerRadius,y=n&&s.animateScale?0:r.outerRadius,m=i.valueAtIndexOrDefault;i.extend(e,{_datasetIndex:r.index,_index:t,_model:{x:c+o.offsetX,y:l+o.offsetY,startAngle:f,endAngle:d,circumference:p,outerRadius:y,innerRadius:v,label:m(h.label,t,o.data.labels[t])}});var g=e._model;this.removeHoverStyle(e),n&&s.animateRotate||(g.startAngle=0===t?u.rotation:r.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),r=0;return i.each(n.data,function(n,o){e=t.data[o],isNaN(e)||n.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,r=0,o=this.index,i=e.length,a=0;a<i;a++)t=e[a]._model?e[a]._model.borderWidth:0,n=e[a]._chart?e[a]._chart.config.data.datasets[o].hoverBorderWidth:0,r=t>r?t:r,r=n>r?n:r;return r}})}},function(e,t,n){"use strict";var r=n(11),o=n(63),i=n(8);r._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(e){function t(e,t){return i.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:o.Line,dataElementType:o.Point,update:function(e){var n,r,o,a=this,u=a.getMeta(),s=u.dataset,c=u.data||[],l=a.chart.options,f=l.elements.line,d=a.getScaleForId(u.yAxisID),h=a.getDataset(),p=t(h,l);for(p&&(o=s.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),s._scale=d,s._datasetIndex=a.index,s._children=c,s._model={spanGaps:h.spanGaps?h.spanGaps:l.spanGaps,tension:o.tension?o.tension:i.valueOrDefault(h.lineTension,f.tension),backgroundColor:o.backgroundColor?o.backgroundColor:h.backgroundColor||f.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:h.borderWidth||f.borderWidth,borderColor:o.borderColor?o.borderColor:h.borderColor||f.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:h.borderCapStyle||f.borderCapStyle,borderDash:o.borderDash?o.borderDash:h.borderDash||f.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:h.borderDashOffset||f.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:h.borderJoinStyle||f.borderJoinStyle,fill:o.fill?o.fill:void 0!==h.fill?h.fill:f.fill,steppedLine:o.steppedLine?o.steppedLine:i.valueOrDefault(h.steppedLine,f.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:i.valueOrDefault(h.cubicInterpolationMode,f.cubicInterpolationMode)},s.pivot()),n=0,r=c.length;n<r;++n)a.updateElement(c[n],n,e);for(p&&0!==s._model.tension&&a.updateBezierControlPoints(),n=0,r=c.length;n<r;++n)c[n].pivot()},getPointBackgroundColor:function(e,t){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),o=e.custom||{};return o.backgroundColor?n=o.backgroundColor:r.pointBackgroundColor?n=i.valueAtIndexOrDefault(r.pointBackgroundColor,t,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(e,t){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),o=e.custom||{};return o.borderColor?n=o.borderColor:r.pointBorderColor?n=i.valueAtIndexOrDefault(r.pointBorderColor,t,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(e,t){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),o=e.custom||{};return isNaN(o.borderWidth)?!isNaN(r.pointBorderWidth)||i.isArray(r.pointBorderWidth)?n=i.valueAtIndexOrDefault(r.pointBorderWidth,t,n):isNaN(r.borderWidth)||(n=r.borderWidth):n=o.borderWidth,n},updateElement:function(e,t,n){var r,o,a=this,u=a.getMeta(),s=e.custom||{},c=a.getDataset(),l=a.index,f=c.data[t],d=a.getScaleForId(u.yAxisID),h=a.getScaleForId(u.xAxisID),p=a.chart.options.elements.point;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),r=h.getPixelForValue("object"==typeof f?f:NaN,t,l),o=n?d.getBasePixel():a.calculatePointY(f,t,l),e._xScale=h,e._yScale=d,e._datasetIndex=l,e._index=t,e._model={x:r,y:o,skip:s.skip||isNaN(r)||isNaN(o),radius:s.radius||i.valueAtIndexOrDefault(c.pointRadius,t,p.radius),pointStyle:s.pointStyle||i.valueAtIndexOrDefault(c.pointStyle,t,p.pointStyle),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:u.dataset._model?u.dataset._model.tension:0,steppedLine:!!u.dataset._model&&u.dataset._model.steppedLine,hitRadius:s.hitRadius||i.valueAtIndexOrDefault(c.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,n){var r,o,i,a=this,u=a.chart,s=a.getMeta(),c=a.getScaleForId(s.yAxisID),l=0,f=0;if(c.options.stacked){for(r=0;r<n;r++)if(o=u.data.datasets[r],i=u.getDatasetMeta(r),"line"===i.type&&i.yAxisID===c.id&&u.isDatasetVisible(r)){var d=Number(c.getRightValue(o.data[t]));d<0?f+=d||0:l+=d||0}var h=Number(c.getRightValue(e));return h<0?c.getPixelForValue(f+h):c.getPixelForValue(l+h)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,r,o,a,u=this,s=u.getMeta(),c=u.chart.chartArea,l=s.data||[];if(s.dataset._model.spanGaps&&(l=l.filter(function(e){return!e._model.skip})),"monotone"===s.dataset._model.cubicInterpolationMode)i.splineCurveMonotone(l);else for(t=0,n=l.length;t<n;++t)r=l[t],o=r._model,a=i.splineCurve(i.previousItem(l,t)._model,o,i.nextItem(l,t)._model,s.dataset._model.tension),o.controlPointPreviousX=a.previous.x,o.controlPointPreviousY=a.previous.y,o.controlPointNextX=a.next.x,o.controlPointNextY=a.next.y;if(u.chart.options.elements.line.capBezierPoints)for(t=0,n=l.length;t<n;++t)o=l[t]._model,o.controlPointPreviousX=e(o.controlPointPreviousX,c.left,c.right),o.controlPointPreviousY=e(o.controlPointPreviousY,c.top,c.bottom),o.controlPointNextX=e(o.controlPointNextX,c.left,c.right),o.controlPointNextY=e(o.controlPointNextY,c.top,c.bottom)},draw:function(){var e=this,n=e.chart,r=e.getMeta(),o=r.data||[],a=n.chartArea,u=o.length,s=0;for(i.canvas.clipArea(n.ctx,a),t(e.getDataset(),n.options)&&r.dataset.draw(),i.canvas.unclipArea(n.ctx);s<u;++s)o[s].draw(a)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model;o.radius=r.hoverRadius||i.valueAtIndexOrDefault(t.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor||i.valueAtIndexOrDefault(t.pointHoverBackgroundColor,n,i.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor||i.valueAtIndexOrDefault(t.pointHoverBorderColor,n,i.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth||i.valueAtIndexOrDefault(t.pointHoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(e){var t=this,n=t.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=e._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),a.radius=o.radius||i.valueAtIndexOrDefault(n.pointRadius,r,t.chart.options.elements.point.radius),a.backgroundColor=t.getPointBackgroundColor(e,r),a.borderColor=t.getPointBorderColor(e,r),a.borderWidth=t.getPointBorderWidth(e,r)}})}},function(e,t,n){"use strict";var r=n(11),o=n(63),i=n(8);r._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,o=n.labels;if(r.length)for(var i=0;i<r[0].data.length;++i)t.push('<li><span style="background-color:'+r[0].backgroundColor[i]+'"></span>'),o[i]&&t.push(o[i]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var o=e.getDatasetMeta(0),a=t.datasets[0],u=o.data[r],s=u.custom||{},c=i.valueAtIndexOrDefault,l=e.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:c(a.backgroundColor,r,l.backgroundColor),strokeStyle:s.borderColor?s.borderColor:c(a.borderColor,r,l.borderColor),lineWidth:s.borderWidth?s.borderWidth:c(a.borderWidth,r,l.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,o,i=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)o=a.getDatasetMeta(n),o.data[i].hidden=!o.data[i].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),e.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:o.Arc,linkScales:i.noop,update:function(e){var t=this,n=t.chart,r=n.chartArea,o=t.getMeta(),a=n.options,u=a.elements.arc,s=Math.min(r.right-r.left,r.bottom-r.top);n.outerRadius=Math.max((s-u.borderWidth/2)/2,0),n.innerRadius=Math.max(a.cutoutPercentage?n.outerRadius/100*a.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),t.outerRadius=n.outerRadius-n.radiusLength*t.index,t.innerRadius=t.outerRadius-n.radiusLength,o.count=t.countVisibleElements(),i.each(o.data,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){for(var r=this,o=r.chart,a=r.getDataset(),u=o.options,s=u.animation,c=o.scale,l=o.data.labels,f=r.calculateCircumference(a.data[t]),d=c.xCenter,h=c.yCenter,p=0,v=r.getMeta(),y=0;y<t;++y)isNaN(a.data[y])||v.data[y].hidden||++p;var m=u.startAngle,g=e.hidden?0:c.getDistanceFromCenterForValue(a.data[t]),b=m+f*p,_=b+(e.hidden?0:f),w=s.animateScale?0:c.getDistanceFromCenterForValue(a.data[t]);i.extend(e,{_datasetIndex:r.index,_index:t,_scale:c,_model:{x:d,y:h,innerRadius:0,outerRadius:n?w:g,startAngle:n&&s.animateRotate?m:b,endAngle:n&&s.animateRotate?m:_,label:i.valueAtIndexOrDefault(l,t,l[t])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return i.each(t.data,function(t,r){isNaN(e.data[r])||t.hidden||n++}),n},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},function(e,t,n){"use strict";var r=n(11),o=n(63),i=n(8);r._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:o.Line,dataElementType:o.Point,linkScales:i.noop,update:function(e){var t=this,n=t.getMeta(),r=n.dataset,o=n.data,a=r.custom||{},u=t.getDataset(),s=t.chart.options.elements.line,c=t.chart.scale;void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),i.extend(n.dataset,{_datasetIndex:t.index,_scale:c,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:i.valueOrDefault(u.lineTension,s.tension),backgroundColor:a.backgroundColor?a.backgroundColor:u.backgroundColor||s.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:u.borderWidth||s.borderWidth,borderColor:a.borderColor?a.borderColor:u.borderColor||s.borderColor,fill:a.fill?a.fill:void 0!==u.fill?u.fill:s.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:u.borderCapStyle||s.borderCapStyle,borderDash:a.borderDash?a.borderDash:u.borderDash||s.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:u.borderDashOffset||s.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:u.borderJoinStyle||s.borderJoinStyle}}),n.dataset.pivot(),i.each(o,function(n,r){t.updateElement(n,r,e)},t),t.updateBezierControlPoints()},updateElement:function(e,t,n){var r=this,o=e.custom||{},a=r.getDataset(),u=r.chart.scale,s=r.chart.options.elements.point,c=u.getPointPositionForValue(t,a.data[t]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),i.extend(e,{_datasetIndex:r.index,_index:t,_scale:u,_model:{x:n?u.xCenter:c.x,y:n?u.yCenter:c.y,tension:o.tension?o.tension:i.valueOrDefault(a.lineTension,r.chart.options.elements.line.tension),radius:o.radius?o.radius:i.valueAtIndexOrDefault(a.pointRadius,t,s.radius),backgroundColor:o.backgroundColor?o.backgroundColor:i.valueAtIndexOrDefault(a.pointBackgroundColor,t,s.backgroundColor),borderColor:o.borderColor?o.borderColor:i.valueAtIndexOrDefault(a.pointBorderColor,t,s.borderColor),borderWidth:o.borderWidth?o.borderWidth:i.valueAtIndexOrDefault(a.pointBorderWidth,t,s.borderWidth),pointStyle:o.pointStyle?o.pointStyle:i.valueAtIndexOrDefault(a.pointStyle,t,s.pointStyle),hitRadius:o.hitRadius?o.hitRadius:i.valueAtIndexOrDefault(a.pointHitRadius,t,s.hitRadius)}}),e._model.skip=o.skip?o.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,t=this.getMeta();i.each(t.data,function(n,r){var o=n._model,a=i.splineCurve(i.previousItem(t.data,r,!0)._model,o,i.nextItem(t.data,r,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),o.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),o.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),n.pivot()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,o=e._model;o.radius=n.hoverRadius?n.hoverRadius:i.valueAtIndexOrDefault(t.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:i.valueAtIndexOrDefault(t.pointHoverBackgroundColor,r,i.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:i.valueAtIndexOrDefault(t.pointHoverBorderColor,r,i.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:i.valueAtIndexOrDefault(t.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,o=e._model,a=this.chart.options.elements.point;o.radius=n.radius?n.radius:i.valueAtIndexOrDefault(t.pointRadius,r,a.radius),o.backgroundColor=n.backgroundColor?n.backgroundColor:i.valueAtIndexOrDefault(t.pointBackgroundColor,r,a.backgroundColor),o.borderColor=n.borderColor?n.borderColor:i.valueAtIndexOrDefault(t.pointBorderColor,r,a.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:i.valueAtIndexOrDefault(t.pointBorderWidth,r,a.borderWidth)}})}},function(e,t,n){"use strict";n(11)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),e.exports=function(e){e.controllers.scatter=e.controllers.line}},function(e,t,n){"use strict";e.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Radar=function(t,n){return n.type="radar",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},function(e,t,n){"use strict";var r=n(11),o=n(63),i=n(8);r._set("global",{plugins:{filler:{propagate:!0}}}),e.exports=function(){function e(e,t,n){var r,o=e._model||{},i=o.fill;if(void 0===i&&(i=!!o.backgroundColor),!1===i||null===i)return!1;if(!0===i)return"origin";if(r=parseFloat(i,10),isFinite(r)&&Math.floor(r)===r)return"-"!==i[0]&&"+"!==i[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(i){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return i;default:return!1}}function t(e){var t,n=e.el._model||{},r=e.el._scale||{},o=e.fill,i=null;if(isFinite(o))return null;if("start"===o?i=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===o?i=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?i=n.scaleZero:r.getBasePosition?i=r.getBasePosition():r.getBasePixel&&(i=r.getBasePixel()),void 0!==i&&null!==i){if(void 0!==i.x&&void 0!==i.y)return i;if("number"==typeof i&&isFinite(i))return t=r.isHorizontal(),{x:t?i:null,y:t?null:i}}return null}function n(e,t,n){var r,o=e[t],i=o.fill,a=[t];if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!isFinite(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;a.push(i),i=r.fill}return!1}function a(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),l[n](e))}function u(e){return e&&!e.skip}function s(e,t,n,r,o){var a;if(r&&o){for(e.moveTo(t[0].x,t[0].y),a=1;a<r;++a)i.canvas.lineTo(e,t[a-1],t[a]);for(e.lineTo(n[o-1].x,n[o-1].y),a=o-1;a>0;--a)i.canvas.lineTo(e,n[a],n[a-1],!0)}}function c(e,t,n,r,o,i){var a,c,l,f,d,h,p,v=t.length,y=r.spanGaps,m=[],g=[],b=0,_=0;for(e.beginPath(),a=0,c=v+!!i;a<c;++a)l=a%v,f=t[l]._view,d=n(f,l,r),h=u(f),p=u(d),h&&p?(b=m.push(f),_=g.push(d)):b&&_&&(y?(h&&m.push(f),p&&g.push(d)):(s(e,m,g,b,_),b=_=0,m=[],g=[]));s(e,m,g,b,_),e.closePath(),e.fillStyle=o,e.fill()}var l={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),o=r&&n.isDatasetVisible(t),i=o&&r.dataset._children||[],a=i.length||0;return a?function(e,t){return t<a&&i[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===r?e.y:r}}}};return{id:"filler",afterDatasetsUpdate:function(r,i){var u,s,c,l,f=(r.data.datasets||[]).length,d=i.propagate,h=[];for(s=0;s<f;++s)u=r.getDatasetMeta(s),c=u.dataset,l=null,c&&c._model&&c instanceof o.Line&&(l={visible:r.isDatasetVisible(s),fill:e(c,s,f),chart:r,el:c}),u.$filler=l,h.push(l);for(s=0;s<f;++s)(l=h[s])&&(l.fill=n(h,s,d),l.boundary=t(l),l.mapper=a(l))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var o=e.ctx,a=n.el,u=a._view,s=a._children||[],l=n.mapper,f=u.backgroundColor||r.global.defaultColor;l&&f&&s.length&&(i.canvas.clipArea(o,e.chartArea),c(o,s,l,u,f,a._loop),i.canvas.unclipArea(o))}}}}},function(e,t,n){"use strict";var r=n(11),o=n(43),i=n(8);r._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,o=r.getDatasetMeta(n);o.hidden=null===o.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return i.isArray(t.datasets)?t.datasets.map(function(t,n){return{text:t.label,fillStyle:i.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}),e.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function n(t,n){var r=new e.Legend({ctx:t.ctx,options:n,chart:t});a.configure(t,r,n),a.addBox(t,r),t.legend=r}var a=e.layoutService,u=i.noop;return e.Legend=o.extend({initialize:function(e){i.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:u,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:u,beforeSetDimensions:u,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:u,beforeBuildLabels:u,buildLabels:function(){var e=this,t=e.options.labels||{},n=i.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:u,beforeFit:u,fit:function(){var e=this,n=e.options,o=n.labels,a=n.display,u=e.ctx,s=r.global,c=i.valueOrDefault,l=c(o.fontSize,s.defaultFontSize),f=c(o.fontStyle,s.defaultFontStyle),d=c(o.fontFamily,s.defaultFontFamily),h=i.fontString(l,f,d),p=e.legendHitBoxes=[],v=e.minSize,y=e.isHorizontal();if(y?(v.width=e.maxWidth,v.height=a?10:0):(v.width=a?10:0,v.height=e.maxHeight),a)if(u.font=h,y){var m=e.lineWidths=[0],g=e.legendItems.length?l+o.padding:0;u.textAlign="left",u.textBaseline="top",i.each(e.legendItems,function(n,r){var i=t(o,l),a=i+l/2+u.measureText(n.text).width;m[m.length-1]+a+o.padding>=e.width&&(g+=l+o.padding,m[m.length]=e.left),p[r]={left:0,top:0,width:a,height:l},m[m.length-1]+=a+o.padding}),v.height+=g}else{var b=o.padding,_=e.columnWidths=[],w=o.padding,x=0,k=0,E=l+b;i.each(e.legendItems,function(e,n){var r=t(o,l),i=r+l/2+u.measureText(e.text).width;k+E>v.height&&(w+=x+o.padding,_.push(x),x=0,k=0),x=Math.max(x,i),k+=E,p[n]={left:0,top:0,width:i,height:l}}),w+=x,_.push(x),v.width+=w}e.width=v.width,e.height=v.height},afterFit:u,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,n=e.options,o=n.labels,a=r.global,u=a.elements.line,s=e.width,c=e.lineWidths;if(n.display){var l,f=e.ctx,d=i.valueOrDefault,h=d(o.fontColor,a.defaultFontColor),p=d(o.fontSize,a.defaultFontSize),v=d(o.fontStyle,a.defaultFontStyle),y=d(o.fontFamily,a.defaultFontFamily),m=i.fontString(p,v,y);f.textAlign="left",f.textBaseline="middle",f.lineWidth=.5,f.strokeStyle=h,f.fillStyle=h,f.font=m;var g=t(o,p),b=e.legendHitBoxes,_=function(e,t,r){if(!(isNaN(g)||g<=0)){f.save(),f.fillStyle=d(r.fillStyle,a.defaultColor),f.lineCap=d(r.lineCap,u.borderCapStyle),f.lineDashOffset=d(r.lineDashOffset,u.borderDashOffset),f.lineJoin=d(r.lineJoin,u.borderJoinStyle),f.lineWidth=d(r.lineWidth,u.borderWidth),f.strokeStyle=d(r.strokeStyle,a.defaultColor);var o=0===d(r.lineWidth,u.borderWidth);if(f.setLineDash&&f.setLineDash(d(r.lineDash,u.borderDash)),n.labels&&n.labels.usePointStyle){var s=p*Math.SQRT2/2,c=s/Math.SQRT2,l=e+c,h=t+c;i.canvas.drawPoint(f,r.pointStyle,s,l,h)}else o||f.strokeRect(e,t,g,p),f.fillRect(e,t,g,p);f.restore()}},w=function(e,t,n,r){var o=p/2,i=g+o+e,a=t+o;f.fillText(n.text,i,a),n.hidden&&(f.beginPath(),f.lineWidth=2,f.moveTo(i,a),f.lineTo(i+r,a),f.stroke())},x=e.isHorizontal();l=x?{x:e.left+(s-c[0])/2,y:e.top+o.padding,line:0}:{x:e.left+o.padding,y:e.top+o.padding,line:0};var k=p+o.padding;i.each(e.legendItems,function(t,n){var r=f.measureText(t.text).width,i=g+p/2+r,a=l.x,u=l.y;x?a+i>=s&&(u=l.y+=k,l.line++,a=l.x=e.left+(s-c[l.line])/2):u+k>e.bottom&&(a=l.x=a+e.columnWidths[l.line]+o.padding,u=l.y=e.top+o.padding,l.line++),_(a,u,t),b[n].left=a,b[n].top=u,w(a,u,t,r),x?l.x+=i+o.padding:l.y+=k})}},handleEvent:function(e){var t=this,n=t.options,r="mouseup"===e.type?"click":e.type,o=!1;if("mousemove"===r){if(!n.onHover)return}else{if("click"!==r)return;if(!n.onClick)return}var i=e.x,a=e.y;if(i>=t.left&&i<=t.right&&a>=t.top&&a<=t.bottom)for(var u=t.legendHitBoxes,s=0;s<u.length;++s){var c=u[s];if(i>=c.left&&i<=c.left+c.width&&a>=c.top&&a<=c.top+c.height){if("click"===r){n.onClick.call(t,e.native,t.legendItems[s]),o=!0;break}if("mousemove"===r){n.onHover.call(t,e.native,t.legendItems[s]),o=!0;break}}}return o}}),{id:"legend",beforeInit:function(e){var t=e.options.legend;t&&n(e,t)},beforeUpdate:function(e){var t=e.options.legend,o=e.legend;t?(i.mergeIf(t,r.global.legend),o?(a.configure(e,o,t),o.options=t):n(e,t)):o&&(a.removeBox(e,o),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}}}},function(e,t,n){"use strict";var r=n(11),o=n(43),i=n(8);r._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),e.exports=function(e){function t(t,r){var o=new e.Title({ctx:t.ctx,options:r,chart:t});n.configure(t,o,r),n.addBox(t,o),t.titleBlock=o}var n=e.layoutService,a=i.noop;return e.Title=o.extend({initialize:function(e){var t=this;i.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:a,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var e=this,t=i.valueOrDefault,n=e.options,o=n.display,a=t(n.fontSize,r.global.defaultFontSize),u=e.minSize,s=i.isArray(n.text)?n.text.length:1,c=i.options.toLineHeight(n.lineHeight,a),l=o?s*c+2*n.padding:0;e.isHorizontal()?(u.width=e.maxWidth,u.height=l):(u.width=l,u.height=e.maxHeight),e.width=u.width,e.height=u.height},afterFit:a,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=i.valueOrDefault,o=e.options,a=r.global;if(o.display){var u,s,c,l=n(o.fontSize,a.defaultFontSize),f=n(o.fontStyle,a.defaultFontStyle),d=n(o.fontFamily,a.defaultFontFamily),h=i.fontString(l,f,d),p=i.options.toLineHeight(o.lineHeight,l),v=p/2+o.padding,y=0,m=e.top,g=e.left,b=e.bottom,_=e.right;t.fillStyle=n(o.fontColor,a.defaultFontColor),t.font=h,e.isHorizontal()?(s=g+(_-g)/2,c=m+v,u=_-g):(s="left"===o.position?g+v:_-v,c=m+(b-m)/2,u=b-m,y=Math.PI*("left"===o.position?-.5:.5)),t.save(),t.translate(s,c),t.rotate(y),t.textAlign="center",t.textBaseline="middle";var w=o.text;if(i.isArray(w))for(var x=0,k=0;k<w.length;++k)t.fillText(w[k],0,x,u),x+=p;else t.fillText(w,0,0,u);t.restore()}}}),{id:"title",beforeInit:function(e){var n=e.options.title;n&&t(e,n)},beforeUpdate:function(o){var a=o.options.title,u=o.titleBlock;a?(i.mergeIf(a,r.global.title),u?(n.configure(o,u,a),u.options=a):t(o,a)):u&&(e.layoutService.removeBox(o,u),delete o.titleBlock)}}}},function(e,t,n){function r(e,t){return o(e,t)}var o=n(208);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){e.save(),e.translate(n,r),i+=Math.PI/2,a+=Math.PI/2;var u=e.measureText(t);i+=(a-(u.width/o+i))/2,e.rotate(i);for(var s=0;s<t.length;s++){var c=t.charAt(s);u=e.measureText(c),e.save(),e.translate(0,-1*o),e.fillText(c,0,0),e.restore(),e.rotate(u.width/o)}e.restore()}Object.defineProperty(t,"__esModule",{value:!0});var o=t.pieLabelsPlugin={afterDraw:function(e){if(e.options.pieceLabel){var t=e.chart.ctx,n=e.config.options,o=e.options.pieceLabel.arcText||!1,i=e.options.pieceLabel.labelFormater,a=e.options.pieceLabel.precision||0,u=e.options.pieceLabel.fontSize||n.defaultFontSize,s=e.options.pieceLabel.fontColor||"#fff",c=e.options.pieceLabel.fontStyle||n.defaultFontStyle,l=e.options.pieceLabel.fontFamily||n.defaultFontFamily,f=e.tooltip._active&&e.tooltip._active.length;e.config.data.datasets.forEach(function(d,h){for(var p=d._meta[Object.keys(d._meta)[0]],v=0,y=0;y<p.data.length;y++){var m=p.data[y],g=m._view;f&&m.draw();var b=void 0;switch(e.options.pieceLabel.mode){case"value":var _=d.data[y];i&&(_=i(_)),b=_.toString();break;case"label":b=e.config.data.labels[y];break;case"percentage":default:var w=g.circumference/n.circumference*100;w=parseFloat(w.toFixed(a)),v+=w,v>100&&(w-=v-100,w=parseFloat(w.toFixed(a))),b=w+"%"}t.save(),t.beginPath(),t.font=Chart.helpers.fontString(u,c,l);var x=t.measureText(b),k=m.tooltipPosition(),E=k.x-x.width/2,S=k.x+x.width/2,C=k.y-u/2,O=k.y+u/2;m.inRange(E,C)&&m.inRange(E,O)&&m.inRange(S,C)&&m.inRange(S,O)&&(t.fillStyle=s,o?(t.textBaseline="middle",r(t,b,g.x,g.y,(g.innerRadius+g.outerRadius)/2,g.startAngle,g.endAngle)):(t.textBaseline="top",t.textAlign="center",t.fillText(b,k.x,k.y-u/2))),t.restore()}}),f&&e.tooltip.draw()}}};t.default=o},function(e,t){e.exports={"select-dates":"CategoriesPage_select-dates_1JYcI","prev-button":"CategoriesPage_prev-button_1WZd5","next-button":"CategoriesPage_next-button_3BDOz","select-dates-select":"CategoriesPage_select-dates-select_33OSZ","next-icon":"CategoriesPage_next-icon_x8eNi","select-dates--scrolling":"CategoriesPage_select-dates--scrolling_Xla2F","bnk-cat-page":"CategoriesPage_bnk-cat-page_2v4xK"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return Array.isArray(e)?e:Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(13),h=r(d),p=n(14),v=n(163),y=n(118),m=n(83),g=r(m),b=n(1181),_=r(b),w=function(e){function t(e){a(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBack=function(){var e=i(n.state.history),t=e[0],r=e.slice(1);return n.setState({history:r}),t},n.handleSelect=function(e){e.children&&e.children.length>0?n.setState({history:[e].concat(o(n.state.history))}):n.props.onSelect(e)},n.renderList=function(){return f.default.createElement("div",{className:_.default.PopupSelect__content},n.state.history[0].children.map(function(e){return f.default.createElement(y.Media,{className:(0,h.default)(_.default.PopupSelect__row,"u-ph-1 u-pv-half"+(n.props.isSelected(e)?" u-text-bold":"")),onClick:function(){return n.handleSelect(e)}},e.icon&&f.default.createElement(y.Img,{className:"u-pr-1"},e.icon),f.default.createElement(y.Bd,{className:"u-ellipsis"},e.title),e.children&&e.children.length>0&&f.default.createElement(y.Img,{className:"u-pl-1"},f.default.createElement(p.Icon,{icon:"forward",color:g.default.coolGrey})))}))},n.renderTitle=function(){var e=n.state.history,t=e[0];return f.default.createElement(y.Media,null,e&&e.length>1&&f.default.createElement(y.Img,{className:_.default.PopupSelect__back,onClick:n.handleBack},f.default.createElement(p.Icon,{icon:"back",color:g.default.coolGrey})),f.default.createElement(y.Bd,null,t.title))},n.state={history:[e.options]},n}return s(t,e),c(t,[{key:"render",value:function(){return f.default.createElement(p.Modal,{overflowHidden:!0,secondaryAction:this.props.onCancel},f.default.createElement("div",{className:_.default.PopupSelect__title},f.default.createElement(v.ModalTitle,null,this.renderTitle())),f.default.createElement(v.ModalDescription,{className:"u-pb-0"},this.renderList()))}}]),t}(l.Component);t.default=w},function(e,t){e.exports={PopupSelect__content:"styles_PopupSelect__content_33uS3",PopupSelect__title:"styles_PopupSelect__title_2yk7W",PopupSelect__row:"styles_PopupSelect__row_3b0_B",PopupSelect__back:"styles_PopupSelect__back_2NA7i"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=r(c),f=n(449),d=r(f),h=n(15),p=n(62),v={updateCategory:function(e,t){var n=e.dispatch,r=e.transaction;r.manualCategoryId=t.id,n((0,h.updateDocument)(r))}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=e.updateCategory;return function(e){return function(n){function r(){var e,n,a,u;o(this,r);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=i(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(c))),a.state={displaying:!1},a.show=function(){a.setState({displaying:!0})},a.hide=function(){a.setState({displaying:!1})},a.handleSelect=function(e){a.hide(),t(a.props,e)},u=n,i(a,u)}return a(r,n),s(r,[{key:"render",value:function(){var t=this.state.displaying;return l.default.createElement("div",null,l.default.createElement(e,u({},this.props,{showCategoryChoice:this.show})),t&&l.default.createElement(d.default,{categoryId:(0,p.getCategoryId)(this.props.transaction),onSelect:this.handleSelect,onCancel:this.hide}))}}]),r}(c.Component)}}},function(e,t){e.exports={"bnk-op-table":"Transactions_bnk-op-table_10gBi","c-table":"Transactions_c-table_3KbCQ","c-table-td-secondary":"Transactions_c-table-td-secondary_2DKVN","c-table-td-fix":"Transactions_c-table-td-fix_1B9xB","c-table-td-with-icon":"Transactions_c-table-td-with-icon_VAH6u","mobile-row":"Transactions_mobile-row_wBF3v","mobile-row-main":"Transactions_mobile-row-main_MOn3r","mobile-row-label":"Transactions_mobile-row-label_2KL3j","bnk-op-date":"Transactions_bnk-op-date_28S57","bnk-op-desc":"Transactions_bnk-op-desc_22fkj","bnk-op-amount":"Transactions_bnk-op-amount_lAFlQ","bnk-op-action":"Transactions_bnk-op-action_380cx","bnk-op-actions":"Transactions_bnk-op-actions_1DbZr","bnk-transaction-mobile":"Transactions_bnk-transaction-mobile_1lVwv","bnk-op-caticon":"Transactions_bnk-op-caticon_1lkvp","bnk-op-date-header":"Transactions_bnk-op-date-header_vy58U","bnk-table-desc--kids":"Transactions_bnk-table-desc--kids_22vhn","bnk-table-desc--dailyLife":"Transactions_bnk-table-desc--dailyLife_1HFBV","bnk-table-desc--educationAndTraining":"Transactions_bnk-table-desc--educationAndTraining_EURO5","bnk-table-desc--health":"Transactions_bnk-table-desc--health_3BsVe","bnk-table-desc--homeAndRealEstate":"Transactions_bnk-table-desc--homeAndRealEstate_2Fb-6","bnk-table-desc--incomeCat":"Transactions_bnk-table-desc--incomeCat_2OuQz","bnk-table-desc--activities":"Transactions_bnk-table-desc--activities_uAoJr","bnk-table-desc--excludeFromBudgetCat":"Transactions_bnk-table-desc--excludeFromBudgetCat_2ISnn","bnk-table-desc--services":"Transactions_bnk-table-desc--services_3gUqA","bnk-table-desc--tax":"Transactions_bnk-table-desc--tax_TimKG","bnk-table-desc--transportation":"Transactions_bnk-table-desc--transportation_2kMbJ","bnk-table-desc--goingOutAndTravel":"Transactions_bnk-table-desc--goingOutAndTravel_3fFAY","bnk-table-desc--uncategorized":"Transactions_bnk-table-desc--uncategorized_Qakj7","c-table-body":"Transactions_c-table-body_3iik7","c-table-row":"Transactions_c-table-row_1lrFx","c-table-cell":"Transactions_c-table-cell_3D7Ot","bnk-table-desc":"Transactions_bnk-table-desc_3bBOH"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(21),s=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(14),h=n(170),p=n(118),v=n(121),y=n(430),m=n(167),g=r(m),b=n(120),_=n(253),w=r(_),x=n(168),k=n(83),E=r(k),S=n(1185),C=r(S),O=n(5),T=r(O),A=n(254),j=r(A),M=n(62),P=n(255),D=function(e){(0,j.default)(e("ComingSoon.description"))},L=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.f,r=e.transaction,o=e.urls,i=e.requestClose,a=this.props.showCategoryChoice,u=(0,M.getCategoryId)(r),s=(0,b.getParentCategory)(u),c=function(){return i()},l=function(){D(t),i()};return f.default.createElement(d.ActionMenu,{onClose:i},f.default.createElement(p.Media,{className:"u-ph-1 u-pv-half"},f.default.createElement(p.Bd,null,f.default.createElement("h3",{className:"u-m-0 u-mb-half"},(0,y.getLabel)(r)),f.default.createElement("span",null,n(r.date,"dddd DD MMMM - h[h]mm"))),f.default.createElement(p.Img,null,f.default.createElement(v.Figure,{total:r.amount,currency:r.currency,signed:!0,coloredPositive:!0}))),f.default.createElement("hr",{className:"u-mv-0"}),f.default.createElement(p.Media,{className:"u-ph-1 u-pv-half u-hover",onClick:a},f.default.createElement(p.Img,null,f.default.createElement(g.default,{category:s})),f.default.createElement(p.Bd,{className:"u-pl-1 u-ellipsis"},t("Data.subcategories."+(0,b.getCategoryName)((0,M.getCategoryId)(r)))),f.default.createElement(p.Img,{className:"u-pl-1"},f.default.createElement(d.Icon,{icon:C.default,color:E.default.coolGrey}))),f.default.createElement("hr",null),(0,M.isHealthExpense)(r)&&f.default.createElement(d.MenuItem,{icon:f.default.createElement(P.HealthExpenseStatusIcon,{pending:0===(0,P.getVendors)(r).length})},f.default.createElement(P.HealthExpenseStatus,{showIcon:!1,vendors:(0,P.getVendors)(r)})),f.default.createElement(w.default,{onSelect:c,onSelectDisabled:l,transaction:r,urls:o}))}}]),t}(l.Component);L.propTypes={showCategoryChoice:T.default.func.isRequired,requestClose:T.default.func.isRequired},t.default=(0,s.default)(h.withDispatch,(0,x.withUpdateCategory)(),(0,d.translate)())(L)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-edit",use:"icon-edit-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-edit">\n  <path fill-rule="evenodd" d="M201.5,99.5 L192,109.025391 L192,112 L195.03772,112 L204.5,102.5 L201.5,99.5 Z M206.912154,96.9121541 C206.132243,96.1322429 204.869144,96.1308556 204.089264,96.9107361 L203,98 L206.030762,101 L207.092271,99.9252663 C207.869738,99.1381134 207.863777,97.8637772 207.087846,97.0878459 L206.912154,96.9121541 Z M199,110 L204.997071,110 C205.550973,110 206,110.443865 206,111 C206,111.552285 205.553689,112 205.002455,112 L197,112 L199,110 Z" transform="translate(-192 -96)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t){e.exports={"select-dates":"TransactionsPage_select-dates_1ZDqE","prev-button":"TransactionsPage_prev-button_1BsZ9","next-button":"TransactionsPage_next-button_6fPXr","select-dates-select":"TransactionsPage_select-dates-select_Lcyd3","next-icon":"TransactionsPage_next-icon_3Uiu9","select-dates--scrolling":"TransactionsPage_select-dates--scrolling_1VC5v","bnk-mov-page":"TransactionsPage_bnk-mov-page_3TKZE","bnk-mov-figures":"TransactionsPage_bnk-mov-figures_3_ixF"}},function(e,t,n){var r=n(1188),o=n(1192),i=o(function(e,t,n){r(e,t,n)});e.exports=i},function(e,t,n){function r(e,t,n,l,f){e!==t&&a(t,function(a,c){if(s(a))f||(f=new o),u(e,t,c,n,r,l,f);else{var d=l?l(e[c],a,c+"",e,t,f):void 0;void 0===d&&(d=a),i(e,c,d)}},c)}var o=n(142),i=n(450),a=n(344),u=n(1189),s=n(34),c=n(157);e.exports=r},function(e,t,n){function r(e,t,n,r,g,b,_){var w=e[n],x=t[n],k=_.get(x);if(k)return void o(e,n,k);var E=b?b(w,x,n+"",e,t,_):void 0,S=void 0===E;if(S){var C=l(x),O=!C&&d(x),T=!C&&!O&&y(x);E=x,C||O||T?l(w)?E=w:f(w)?E=u(w):O?(S=!1,E=i(x,!0)):T?(S=!1,E=a(x,!0)):E=[]:v(x)||c(x)?(E=w,c(w)?E=m(w):(!p(w)||r&&h(w))&&(E=s(x))):S=!1}S&&(_.set(x,E),g(E,x,r,b,_),_.delete(x)),o(e,n,E)}var o=n(450),i=n(391),a=n(395),u=n(229),s=n(396),c=n(148),l=n(29),f=n(1190),d=n(149),h=n(206),p=n(34),v=n(398),y=n(211),m=n(1191);e.exports=r},function(e,t,n){function r(e){return i(e)&&o(e)}var o=n(81),i=n(59);e.exports=r},function(e,t,n){function r(e){return o(e,i(e))}var o=n(98),i=n(157);e.exports=r},function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,u&&i(n[0],n[1],u)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,a)}return t})}var o=n(347),i=n(350);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(2),u=r(a),s=n(22),c=n(82),l=r(c),f=n(14),d=n(1194),h=r(d),p=n(24),v=n(1195),y=(r(v),["notifications","accounts","groups"]),m=function(e){var t=e.t,n=e.children,r=e.router,o=r.location.pathname.replace("/settings/","");-1===y.indexOf(o)&&(o="notifications");var i=function(e){return function(){r.push(e)}},a=[u.default.createElement(f.Tab,{name:y[0],onClick:i("/settings/notifications")},t("Settings.notifications")),u.default.createElement(f.Tab,{name:y[1],onClick:i("/settings/accounts")},t("Settings.accounts")),u.default.createElement(f.Tab,{name:y[2],onClick:i("/settings/groups")},t("Settings.groups"))];return u.default.createElement("div",null,u.default.createElement(l.default,null,u.default.createElement("h2",{className:h.default.settings__title},t("Settings.title"))),u.default.createElement(f.Tabs,{className:h.default["bnk-tabs"],initialActiveTab:o},u.default.createElement(f.TabList,{className:h.default["bnk-coz-tab-list"]},a),u.default.createElement(f.TabPanels,null,u.default.createElement(f.TabPanel,{active:!0},n))),!1)};t.default=(0,i.default)(p.withRouter,(0,s.translate)())(m)},function(e,t){e.exports={"bnk-coz-tab-list":"Settings_bnk-coz-tab-list_3mz5Q","bnk-tabs":"Settings_bnk-tabs_2GeHa",settings__title:"Settings_settings__title_NA4uk"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(5),u=r(a),s=n(1196),c=r(s),l=function(e){var t=e.version;return i.default.createElement("div",{className:c.default["app-version"]},"Version ",t)};l.propTypes={version:u.default.string.isRequired},t.default=l},function(e,t){e.exports={"app-version":"AppVersion_app-version_2ay0G"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(19),c=r(s),l=n(21),f=r(l),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),v=n(24),y=n(14),m=n(82),g=r(m),b=n(54),_=r(b),w=n(170),x=n(166),k=r(x),E=n(23),S=n(15),C=n(451),O=r(C),T=n(165),A=n(1198),j=r(A),M=n(119),P=n(116),D=function(e){var t=e.cancel,n=e.confirm,r=e.title,o=e.description,i=e.secondaryText,a=e.primaryText;return p.default.createElement(y.Modal,{title:r,description:p.default.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),secondaryType:"secondary",secondaryText:i,secondaryAction:t,dismissAction:t,primaryType:"danger",primaryText:a,primaryAction:n})},L=(0,y.translate)()(function(e){var t=e.t;return p.default.createElement("div",null,t("ComingSoon.title"))}),I=function(e){function t(){var e,n,r,u,s=this;i(this,t);for(var l=arguments.length,f=Array(l),d=0;d<l;d++)f[d]=arguments[d];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={modifying:!1},r.onClickModify=function(){var e=r.props.account;r.setState({modifying:!0,changes:{shortLabel:e.shortLabel||e.label}})},r.onClickSave=function(){var e=Object.assign({id:r.props.account._id,type:"io.cozy.bank.accounts"},r.props.account,r.state.changes);r.props.dispatch((0,S.updateDocument)(e)),r.setState({modifying:!1,changes:null})},r.onClickDelete=function(){r.setState({showingDeleteConfirmation:!0})},r.onClickCancelDelete=function(){r.setState({showingDeleteConfirmation:!1})},r.onClickConfirmDelete=o(c.default.mark(function e(){var t,n,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.destroyAccount,o=t.router,e.prev=1,r.setState({deleting:!0}),e.next=5,n(r.props.account);case 5:o.push("/settings/accounts"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r.setState({deleting:!1});case 11:case"end":return e.stop()}},e,s,[[1,8]])})),r.onInputChange=function(e,t){var n=r.state.changes;n[e]=t.target.value,r.setState({changes:n})},u=n,a(r,u)}return u(t,e),d(t,[{key:"componentDidMount",value:function(){this.props.fetchApps()}},{key:"render",value:function(e,t){var n=e.t,r=e.account,o=t.modifying,i=t.deleting,a=t.showingDeleteConfirmation,u=n("AccountSettings.confirm-deletion.description").replace("#{LINK}",'<a href="'+this.props.collectUrl+'" target="_blank">').replace("#{/LINK}","</a>");return p.default.createElement("div",null,p.default.createElement("table",{className:O.default.AcnStg__info},p.default.createElement("tr",null,p.default.createElement("td",null,n("AccountDetails.label")),p.default.createElement("td",null,!o&&(r.shortLabel||r.label),o&&p.default.createElement("input",{value:this.state.changes.shortLabel,onChange:this.onInputChange.bind(null,"shortLabel")}))),p.default.createElement("tr",null,p.default.createElement("td",null,n("AccountDetails.institutionLabel")),p.default.createElement("td",null,(0,M.getAccountInstitutionLabel)(r))),p.default.createElement("tr",null,p.default.createElement("td",null,n("AccountDetails.number")),p.default.createElement("td",null,r.number)),p.default.createElement("tr",null,p.default.createElement("td",null,n("AccountDetails.type")),p.default.createElement("td",null,n("AccountDetails.types."+r.type)))),p.default.createElement("div",null,!o&&p.default.createElement(y.Button,{theme:"regular",onClick:this.onClickModify},"Modifier"),o&&p.default.createElement(y.Button,{theme:"regular",onClick:this.onClickSave},"Sauver"),void 0===r.shared?p.default.createElement(y.Button,{disabled:i,theme:"danger-outline",onClick:this.onClickDelete},n(i?"AccountSettings.deleting":"AccountSettings.delete")):null,a?p.default.createElement(D,{title:n("AccountSettings.confirm-deletion.title"),description:u,primaryText:i?p.default.createElement(y.Icon,{icon:j.default,className:"u-spin",color:"white"}):n("AccountSettings.confirm-deletion.confirm"),secondaryText:n("General.cancel"),confirm:this.onClickConfirmDelete,cancel:this.onClickCancelDelete}):null))}}]),t}(h.Component),R=function(e){return{destroyAccount:function(t){return e((0,T.destroyAccount)(t))},fetchApps:function(){return e((0,P.fetchApps)())}}},N=function(e){return{collectUrl:(0,P.getAppUrlBySource)(e,"github.com/cozy/cozy-collect")}},F=(0,f.default)(v.withRouter,w.withDispatch,(0,E.connect)(N,R),(0,y.translate)())(I),B=function(e){var t=e.account,n=(e.onClose,e.t);return t?p.default.createElement("div",null,p.default.createElement(k.default,{to:"/settings/accounts",arrow:!0}),p.default.createElement(g.default,null,p.default.createElement("h2",null,t.shortLabel||t.label)),p.default.createElement(y.Tabs,{className:O.default.AcnStg__tabs,initialActiveTab:"details"},p.default.createElement(y.TabList,{className:O.default.AcnStg__tabList},p.default.createElement(y.Tab,{className:O.default.AcnStg__tab,name:"details"},n("AccountSettings.details")),p.default.createElement(y.Tab,{className:O.default.AcnStg__tab,name:"sharing"},n("AccountSettings.sharing"))),p.default.createElement(y.TabPanels,null,p.default.createElement(y.TabPanel,{name:"details"},p.default.createElement(F,{account:t})),p.default.createElement(y.TabPanel,{name:"sharing"},p.default.createElement(L,{account:t}))))):p.default.createElement(_.default,null)},z=function(e){var t=e.routeParams;return{account:(0,S.fetchDocument)("io.cozy.bank.accounts",t.accountId)}};t.default=(0,f.default)((0,S.cozyConnect)(z),w.withDispatch,(0,y.translate)())(B)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-spinner",use:"icon-spinner-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" id="icon-spinner">\n  <path opacity=".25" d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" />\n  <path d="M16 0a16 16 0 0 1 16 16h-4a12 12 0 0 0-12-12z" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(97),s=r(u),c=n(21),l=r(c),f=n(1200),d=r(f),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(2),v=r(p),y=n(24),m=n(23),g=n(14),b=n(141),_=n(116),w=n(102),x=r(w),k=n(54),E=r(k),S=n(15),C=n(256),O=r(C),T=n(451),A=r(T),j=n(172),M=r(j),P=n(257),D=r(P),L=n(13),I=r(L),R=n(119),N=n(28),F=n(428),B=r(F),z=function(e){var t=e.account,n=e.router,r=e.t;return v.default.createElement("tr",{onClick:function(){return n.push("/settings/accounts/"+t.id)},className:A.default.AcnsStg__accountRow},v.default.createElement("td",{className:A.default.AcnsStg__libelle},t.shortLabel||t.label),v.default.createElement("td",{className:A.default.AcnsStg__bank},(0,R.getAccountInstitutionLabel)(t)),v.default.createElement("td",{className:A.default.AcnsStg__number},t.number),v.default.createElement("td",{className:A.default.AcnsStg__type},r("AccountDetails.types."+t.type)),v.default.createElement("td",{className:A.default.AcnsStg__shared},v.default.createElement(B.default,{withText:!0,account:t})),v.default.createElement("td",{className:A.default.AcnsStg__actions}))},q=(0,l.default)((0,g.translate)(),y.withRouter)(z),U=function(e){return v.default.createElement(q,{account:e})},H=function(e){var t=e.accounts,n=e.t;return v.default.createElement(x.default,{className:A.default.AcnsStg__accounts},v.default.createElement("thead",null,v.default.createElement("tr",null,v.default.createElement("th",{className:A.default.AcnsStg__libelle},n("Accounts.label")),v.default.createElement("th",{className:A.default.AcnsStg__bank},n("Accounts.bank")),v.default.createElement("th",{className:A.default.AcnsStg__number},n("Accounts.account")),v.default.createElement("th",{className:A.default.AcnsStg__type},n("Accounts.type")),v.default.createElement("th",{className:A.default.AcnsStg__shared},n("Accounts.shared")),v.default.createElement("th",{className:A.default.AcnsStg__actions}))),v.default.createElement("tbody",null,t.map(U)))},Y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),h(t,[{key:"componentDidMount",value:function(){this.props.fetchApps()}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.accounts;if("loading"===n.fetchStatus)return v.default.createElement(E.default,null);var r=(0,s.default)(n.data,["institutionLabel","label"]),o=(0,d.default)(r,function(e){return void 0===e.shared}),i=o[!0],a=o[!1];return v.default.createElement("div",null,v.default.createElement(D.default,null,v.default.createElement(g.Button,{className:(0,I.default)(M.default["btn--no-outline"],"u-pb-1")},v.default.createElement(g.Icon,{icon:O.default,className:"u-mr-half"}),t("Accounts.add-account"))),i?v.default.createElement(H,{accounts:i,t:t}):v.default.createElement("p",null,t("Accounts.no-accounts")),v.default.createElement("h4",null,t("Accounts.shared-accounts")),a?v.default.createElement(H,{accounts:a,t:t}):v.default.createElement("p",null,t("Accounts.no-shared-accounts")))}}]),t}(p.Component),V=function(e){return{accounts:(0,S.fetchCollection)("accounts",N.ACCOUNT_DOCTYPE)}},W=function(e){return{fetchApps:function(){return e((0,_.fetchApps)())}}},$=function(e){return{collectUrl:(0,_.getAppUrlBySource)(e,"github.com/cozy/cozy-collect"),getSharingInfo:function(t,n){return(0,b.getSharingInfo)(e,t,n)}}};t.default=(0,l.default)((0,S.cozyConnect)(V),(0,m.connect)($,W),(0,g.translate)())(Y)},function(e,t,n){var r=n(96),o=n(342),i=Object.prototype,a=i.hasOwnProperty,u=o(function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NewGroupSettings=void 0;var s=n(19),c=r(s),l=n(97),f=r(l),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),v=n(54),y=r(v),m=n(170),g=n(15),b=n(82),_=r(b),w=n(166),x=r(w),k=n(14),E=n(28),S=n(24),C=n(102),O=r(C),T=n(164),A=r(T),j=n(452),M=r(j),P=n(172),D=r(P),L=n(119),I=function(e,t){return t.accounts.indexOf(e._id)>-1},R=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={modifying:!1,saving:!1},r.rename=function(e){var t=r.props.group,n=r.inputRef.value;r.setState({saving:!0}),r.updateOrCreate(Object.assign({},t,{label:n}),function(){r.setState({saving:!1,modifying:!1})})},r.toggleAccount=function(e,t){var n=r.props.group,o=n.accounts,i=o.indexOf(e);t&&i<0?o.push(e):!t&&i>=0&&o.splice(i,1),n.accounts=o,r.updateOrCreate(n)},r.renderAccountLine=function(e){var t=r.props.group;return p.default.createElement("tr",null,p.default.createElement("td",{className:M.default.GrpStg__accntLabel},e.shortLabel||e.label),p.default.createElement("td",{className:M.default.GrpStg__accntBank},(0,L.getAccountInstitutionLabel)(e)),p.default.createElement("td",{className:M.default.GrpStg__accntNumber},e.number),p.default.createElement("td",{className:M.default.GrpStg__accntToggle},p.default.createElement(k.Toggle,{id:e._id,checked:I(e,t),onToggle:r.toggleAccount.bind(null,e._id)})))},r.onRemove=function(){var e=r.props,t=e.group,n=e.dispatch,o=e.router;n((0,g.deleteDocument)(t)).then(function(){o.push("/settings/groups")})},r.modifyName=function(){r.setState({modifying:!0})},r.saveInputRef=function(e){r.inputRef=e},o=n,a(r,o)}return u(t,e),d(t,[{key:"updateOrCreate",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(c.default.mark(function e(t,n){var r,o,i,a,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,o=r.dispatch,i=r.router,e.prev=1,!t.id){e.next=8;break}return e.next=5,o((0,g.updateDocument)(t));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,o((0,g.createDocument)(E.GROUP_DOCTYPE,t));case 10:e.t0=e.sent;case 11:a=e.t0,a&&a.data&&(u=a.data[0],t.id!==u.id&&i.push("/settings/groups/"+u.id));case 13:return e.prev=13,n&&n(),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,,13,16]])}));return e}()},{key:"render",value:function(e,t){var n=e.t,r=e.group,o=e.accounts,i=(e.isNewGroup,t.modifying),a=t.saving;return r?p.default.createElement("div",null,p.default.createElement(x.default,{to:"/settings/groups",arrow:!0}),p.default.createElement(_.default,null,p.default.createElement("h2",null,r.label)),p.default.createElement("h3",null,n("Groups.label")),p.default.createElement("form",{className:M.default.GrpStg__form,onSubmit:function(e){return e.preventDefault()}},p.default.createElement("p",null,i?p.default.createElement("input",{ref:this.saveInputRef,autofocus:!0,type:"text",defaultValue:r.label}):r.label,i?p.default.createElement(k.Button,{className:M.default["save-button"],disabled:a,theme:"regular",onClick:this.rename},n("Groups.save")," ",a&&p.default.createElement(A.default,null)):p.default.createElement(k.Button,{className:D.default["btn--no-outline"],onClick:this.modifyName},"",n("Groups.rename")))),p.default.createElement("h3",null,n("Groups.accounts")),"pending"===o.fetchStatus?p.default.createElement(y.default,null):p.default.createElement(O.default,{className:M.default.GrpStg__table},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{className:M.default.GrpStg__accntLabel},n("Groups.label")),p.default.createElement("th",{className:M.default.GrpStg__accntBank},n("Groups.bank")),p.default.createElement("th",{className:M.default.GrpStg__accntNumber},n("Groups.account-number")),p.default.createElement("th",{className:M.default.GrpStg__accntToggle},n("Groups.included")))),p.default.createElement("tbody",null,o.data&&(0,f.default)(o.data,["institutionLabel","label"]).map(this.renderAccountLine))),p.default.createElement("p",null,p.default.createElement(k.Button,{theme:"danger-outline",onClick:this.onRemove},n("Groups.delete")))):p.default.createElement(y.default,null)}}]),t}(h.Component),N=function(){return{label:"Nouveau groupe",accounts:[]}},F=function(e){var t=e.routeParams.groupId;return{group:"new"!==t&&t?(0,g.fetchDocument)(E.GROUP_DOCTYPE,t):N(),accounts:(0,g.fetchCollection)("accounts",E.ACCOUNT_DOCTYPE)}},B=function(e){return(0,g.cozyConnect)(F)((0,k.translate)()((0,S.withRouter)((0,m.withDispatch)(e))))},z=B(R);t.default=z;t.NewGroupSettings=B(function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state=Object.assign({},r.state,{modifying:!0}),o=n,a(r,o)}return u(t,e),t}(R))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(97),s=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),d=n(24),h=n(14),p=n(102),v=r(p),y=n(28),m=n(15),g=n(54),b=r(g),_=n(256),w=r(_),x=n(452),k=r(x),E=n(172),S=r(E),C=function(e){return"pending"===e.fetchStatus},O=(0,d.withRouter)((0,h.translate)()(function(e){var t=e.groups,n=e.accounts,r=e.t,o=e.router;return t.length?f.default.createElement(v.default,{className:k.default.GrpsStg__table},f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",{className:k.default.GrpsStg__label},r("Groups.label")),f.default.createElement("th",{className:k.default.GrpsStg__accounts},r("Groups.accounts")))),f.default.createElement("tbody",null,t.map(function(e){return f.default.createElement("tr",{onClick:function(){return o.push("/settings/groups/"+e._id)},className:k.default.GrpsStg__row},f.default.createElement("td",{className:k.default.GrpsStg__label},e.label),f.default.createElement("td",{className:k.default.GrpsStg__accounts},e.accounts.map(function(e){return n.data.find(function(t){return t._id===e})}).filter(function(e){return e}).map(function(e){return e.shortLabel||e.label}).join(", ")))}))):f.default.createElement("p",null,r("Groups.no-groups"))})),T=(0,d.withRouter)(function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(e,t){var n=e.t,r=e.groups,o=e.accounts,i=e.router;t.editingGroup;return C(r)||C(o)?f.default.createElement(b.default,null):f.default.createElement("div",null,"loading"===r.fetchStatus?f.default.createElement(b.default,null):f.default.createElement(O,{accounts:o,groups:(0,s.default)(r.data.filter(function(e){return e}),"label")}),f.default.createElement("p",null,f.default.createElement(h.Button,{className:S.default["btn--no-outline"],onClick:function(){return i.push("/settings/groups/new")}},f.default.createElement(h.Icon,{icon:w.default,className:"u-mr-half"}),n("Groups.create"))))}}]),t}(l.Component));t.default=(0,m.cozyConnect)(function(e){return{accounts:(0,m.fetchCollection)("accounts",y.ACCOUNT_DOCTYPE),groups:(0,m.fetchCollection)("groups",y.GROUP_DOCTYPE)}})((0,h.translate)()(T))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(13),f=r(l),d=n(250),h=r(d),p=n(22),v=n(15),y=n(54),m=r(y),g=n(171),b=n(1204),_=r(b),w=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.notifications=[{title:"Notifications.if_balance_lower.title",name:"balanceLower",description:"Notifications.if_balance_lower.description"},{title:"Notifications.if_transaction_greater.title",name:"transactionGreater",description:"Notifications.if_transaction_greater.description"},{title:"Notifications.when_health_bill_linked.title",name:"healthBillLinked",description:"Notifications.when_health_bill_linked.description"}],r.onToggle=function(e,t){var n=r.props,o=n.settingsCollection,i=n.dispatch,a=(0,g.getSettings)(o),u=a._id?g.updateSettings:g.createSettings;a.notifications[e]||(a.notifications[e]={}),a.notifications[e].enabled=t,i(u(a))},r.onChangeValue=function(e,t){var n=r.props,o=n.settingsCollection,i=n.dispatch,a=(0,g.getSettings)(o),u=a._id?g.updateSettings:g.createSettings;a.notifications[e]||(a.notifications[e]={}),a.notifications[e].value=t.replace(/\D/i,""),i(u(a))},a=n,i(r,a)}return a(t,e),u(t,[{key:"renderLine",value:function(e,t){var n=this,r=this.props.t,o=t.enabled,i=t.value,a=void 0!==i;return c.default.createElement("div",null,c.default.createElement("h5",null,r(e.title)),c.default.createElement("div",{className:_.default.notification},c.default.createElement("p",{className:_.default["notification-description"]},r(e.description),a&&c.default.createElement("input",{type:"text",onChange:function(t){return n.onChangeValue(e.name,t.target.value)},value:i,className:(0,f.default)(_.default["notification-input"],_.default.suffixed)}),a&&c.default.createElement("span",null,"")),c.default.createElement("div",{className:_.default["notification-toggle"]},c.default.createElement(h.default,{id:e.name,checked:o,onToggle:function(t){return n.onToggle(e.name,t)}}))))}},{key:"render",value:function(e){var t=this,n=(e.t,e.settingsCollection);if("loading"===n.fetchStatus||"pending"===n.fetchStatus)return c.default.createElement(m.default,null);var r=(0,g.getSettings)(n);return c.default.createElement("p",null,this.notifications.map(function(e){var n=r.notifications[e.name]||g.DEFAULTS_SETTINGS.notifications[e.name];return t.renderLine(e,n)}))}}]),t}(s.Component),x=function(){return{settingsCollection:(0,g.fetchSettingsCollection)()}};t.default=(0,v.cozyConnect)(x)((0,p.translate)()(w))},function(e,t){e.exports={notification:"Notifications_notification_1GQKG","notification-description":"Notifications_notification-description_2douy","notification-input":"Notifications_notification-input_1I3uZ",suffixed:"Notifications_suffixed_170rM"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Balance=void 0;var r=n(1206),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.Balance=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(97),c=r(s),l=n(1207),f=r(l),d=n(1215),h=r(d),p=n(21),v=r(p),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(2),g=r(m),b=n(23),_=n(13),w=r(_),x=n(5),k=r(x),E=n(1217),S=n(24),C=n(14),O=n(15),T=n(82),A=r(T),j=n(54),M=r(j),P=n(102),D=n(121),L=n(257),I=r(L),R=n(171),N=n(58),F=n(119),B=n(28),z=n(1219),q=r(z),U=n(172),H=r(U),Y=n(256),V=r(Y),W=function(e,t){return(0,h.default)(e.accounts,function(e){return(t(e)||{}).balance||0})},$=function(e,t){return e&&e._id===t._id},G=function(e,t){return e&&t&&e.accounts&&e.accounts.indexOf(t._id)>-1},J=function(e){return e.shortLabel||e.label},K=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),y(t,[{key:"render",value:function(){var e,t,n,r=this.props,i=r.account,a=r.group,u=r.warningLimit,s=r.onClick,c=r.filteringDoc,l=r.isMobile,d=i?i.balance:W(a,this.props.getAccount),h=!!d&&d<u,p=!!d&&d<0,v=i?J(i):a.label;return g.default.createElement("tr",{className:(0,w.default)(q.default.Balance__row,(e={},o(e,q.default["Balance__row--selected"],$(c,i||a)),o(e,q.default["Balance__row--selected-account-from-group"],G(c,i)),e)),onClick:s.bind(null,i||a)},g.default.createElement("td",{className:(0,w.default)(q.default.Balance__account_name,(t={},o(t,q.default.alert,p),o(t,q.default.warning,h),t))},v),g.default.createElement(P.TdSecondary,{className:(0,w.default)(q.default.Balance__solde,(n={},o(n,q.default.alert,p),o(n,q.default.warning,h),n))},void 0!==d&&g.default.createElement(D.Figure,{total:d,warningLimit:u,currency:"",coloredNegative:!0,coloredWarning:!0,signed:!0})),g.default.createElement(P.TdSecondary,{className:q.default.Balance__account_number},i&&i.number,a&&(0,f.default)(a.accounts.map(this.props.getAccount).filter(function(e){return e}).map(J)).join(", ")),!l&&g.default.createElement(P.TdSecondary,{className:q.default.Balance__bank},i&&(0,F.getAccountInstitutionLabel)(i),a&&(0,f.default)(a.accounts.map(this.props.getAccount).filter(function(e){return e}).map(F.getAccountInstitutionLabel)).join(", ")))}}]),t}(g.default.Component),Z=(0,b.connect)(function(e){return{filteringDoc:(0,N.getFilteringDoc)(e),getAccount:function(t){return(0,O.getDocument)(e,B.ACCOUNT_DOCTYPE,t)}}})(K);Z.propTypes={accountOrGroup:(0,E.or)([{account:k.default.object.isRequired},{group:k.default.object.isRequired}]).isRequired};var X=function(e){var t=e.children;return g.default.createElement("h3",{className:q.default["Balance__section-title"]},t)},Q=(0,v.default)(S.withRouter,(0,C.translate)()),ee=Q(function(e){var t=e.groups,n=e.balanceLower,r=e.isMobile,o=e.onRowClick,i=e.t,a=e.router;return g.default.createElement("div",null,g.default.createElement(X,null,i("AccountSwitch.groups")),0!==t.length&&g.default.createElement(P.Table,{className:q.default.Balance__table},g.default.createElement("thead",null,g.default.createElement("tr",null,g.default.createElement("td",{className:q.default.Balance__account_name},i("Groups.label")),g.default.createElement("td",{className:q.default.Balance__solde},i("Groups.total-balance")),g.default.createElement("td",{className:q.default["Balance__group-accounts"]},i("Groups.accounts")),g.default.createElement("td",{className:q.default.Balance__bank},i("Groups.banks")))),g.default.createElement("tbody",null,t.map(function(e){return g.default.createElement(Z,{group:e,warningLimit:n,isMobile:r,onClick:o.bind(null,e)})}))),0===t.length?g.default.createElement("p",null,i("Groups.no-groups"),g.default.createElement("br",null),g.default.createElement(C.Button,{onClick:function(){return a.push("/settings/groups/new")},className:(0,w.default)(H.default["btn--no-outline"],"u-pv-1")},g.default.createElement(C.Icon,{icon:V.default,className:"u-mr-half"}),i("Groups.create"))):g.default.createElement("p",null,g.default.createElement(C.Button,{onClick:function(){return a.push("/settings/groups")},className:(0,w.default)(H.default["btn--no-outline"],"u-pv-1")},i("Groups.manage-groups"))))}),te=(0,C.translate)()(function(e){var t=e.accounts,n=e.balanceLower,r=e.isMobile,o=e.onRowClick,i=e.t;return g.default.createElement("div",null,g.default.createElement(X,null,i("AccountSwitch.accounts")),g.default.createElement(P.Table,{className:q.default.Balance__table},g.default.createElement("thead",null,g.default.createElement("tr",null,g.default.createElement("td",{className:q.default.Balance__account_name},i("Accounts.label")),g.default.createElement("td",{className:q.default.Balance__solde},i("Balance.solde")),!r&&g.default.createElement("td",{className:q.default.Balance__account_number},i("Balance.account_number")),!r&&g.default.createElement("td",{className:q.default.Balance__bank},i("Balance.bank_name")))),g.default.createElement("tbody",null,t.map(function(e){return g.default.createElement(Z,{account:e,warningLimit:n,isMobile:r,onClick:o.bind(null,e)})}))),g.default.createElement("p",null,g.default.createElement(I.default,null,g.default.createElement(C.Button,{className:(0,w.default)(H.default["btn--no-outline"],"u-pv-1")},g.default.createElement(C.Icon,{icon:V.default,className:"u-mr-half"}),i("Accounts.add-account")))))}),ne=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.goToTransactionsFilteredBy=function(e){r.props.filterByDoc(e),r.props.router.push("/transactions")},o=n,a(r,o)}return u(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.settingsCollection,r=e.breakpoints.isMobile,o=this.props,i=o.accounts,a=o.groups;if(i=(0,c.default)(i.data,["institutionLabel","label"]),a=(0,c.default)(a.data,"label"),null===i||null===a)return g.default.createElement(M.default,null);var u=0;i.map(function(e){e.balance&&(u+=parseInt(e.balance,10))});var s=(0,R.getSettings)(n).notifications.balanceLower.value,l=g.default.createElement(ee,{groups:a,balanceLower:s,isMobile:r,onRowClick:this.goToTransactionsFilteredBy});return g.default.createElement("div",{className:q.default.Balance},g.default.createElement(A.default,null,g.default.createElement("h2",null,t("Balance.title"))),g.default.createElement("div",{className:q.default.Balance__kpi},g.default.createElement(D.FigureBlock,{label:t("Balance.subtitle.all",{label:"all"}),total:u,currency:"",coloredPositive:!0,coloredNegative:!0,signed:!0})),a.length>0&&l,g.default.createElement(te,{accounts:i,balanceLower:s,isMobile:r,onRowClick:this.goToTransactionsFilteredBy}),0===a.length&&l)}}]),t}(g.default.Component),re=function(e){return{settingsCollection:(0,R.fetchSettingsCollection)()}},oe=function(e){return{accounts:(0,O.fetchCollection)("accounts",B.ACCOUNT_DOCTYPE),groups:(0,O.fetchCollection)("groups",B.GROUP_DOCTYPE)}},ie=function(e){return{filterByDoc:function(t){return e((0,N.filterByDoc)(t))}}};t.default=(0,v.default)((0,C.withBreakpoints)(),S.withRouter,(0,b.connect)(re,ie),(0,O.cozyConnect)(oe),(0,C.translate)())(ne)},function(e,t,n){function r(e){return e&&e.length?o(e):[]}var o=n(1208);e.exports=r},function(e,t,n){function r(e,t,n){var r=-1,f=i,d=e.length,h=!0,p=[],v=p;if(n)h=!1,f=a;else if(d>=l){var y=t?null:s(e);if(y)return c(y);h=!1,f=u,v=new o}else v=t?[]:p;e:for(;++r<d;){var m=e[r],g=t?t(m):m;if(m=n||0!==m?m:0,h&&g===g){for(var b=v.length;b--;)if(v[b]===g)continue e;t&&v.push(g),p.push(m)}else f(v,g,n)||(v!==p&&v.push(g),p.push(m))}return p}var o=n(320),i=n(1209),a=n(1213),u=n(321),s=n(1214),c=n(147),l=200;e.exports=r},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}var o=n(1210);e.exports=r},function(e,t,n){function r(e,t,n){return t===t?a(e,t,n):o(e,i,n)}var o=n(338),i=n(1211),a=n(1212);e.exports=r},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t){function n(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){var r=n(331),o=n(385),i=n(147),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},function(e,t,n){function r(e,t){return e&&e.length?i(e,o(t,2)):0}var o=n(79),i=n(1216);e.exports=r},function(e,t){function n(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}e.exports=n},function(e,t,n){e.exports=n(1218)},function(e,t){function n(){return null}function r(){return n}n.isRequired=n,e.exports={and:r,between:r,childrenHavePropXorChildren:r,childrenOf:r,childrenOfType:r,childrenSequenceOf:r,componentWithName:r,elementType:r,explicitNull:r,forbidExtraProps:Object,integer:r,keysOf:r,mutuallyExclusiveProps:r,mutuallyExclusiveTrueProps:r,nChildren:r,nonNegativeInteger:n,nonNegativeNumber:r,numericString:r,object:r,or:r,range:r,restrictedProp:r,sequenceOf:r,shape:r,uniqueArray:r,uniqueArrayOf:r,valuesOf:r,withShape:r}},function(e,t){e.exports={Balance__table:"Balance_Balance__table_pY_ri","Balance__section-title":"Balance_Balance__section-title_3NQPz",Balance__kpi:"Balance_Balance__kpi_1uRxq",Balance__row:"Balance_Balance__row_2FOKr styles_mobile-row_1lKus mobile_nav-row_3AtPi","Balance__row--selected":"Balance_Balance__row--selected_3X2vf","Balance__row--selected-account-from-group":"Balance_Balance__row--selected-account-from-group_1A59r",Balance__account_name:"Balance_Balance__account_name_3Iip9",Balance__solde:"Balance_Balance__solde_1r6bB",Balance__bank:"Balance_Balance__bank_3bw2f styles_mobile-row-label_ETXwu","Balance__group-accounts":"Balance_Balance__group-accounts_3HkJH styles_mobile-row-label_ETXwu",Balance__account_number:"Balance_Balance__account_number_1iQNM styles_mobile-row-label_ETXwu",warning:"Balance_warning_mpmy1",alert:"Balance_alert_2PsQ0"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EnsureHasAccounts=t.EnsureIsFirstSynced=t.Onboarding=void 0;var o=n(453),i=r(o),a=n(1226),u=r(a),s=n(1228),c=r(s);t.Onboarding=i.default,t.EnsureIsFirstSynced=c.default,t.EnsureHasAccounts=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-calculator",use:"icon-calculator-usage",viewBox:"0 0 72 72",content:'<symbol viewBox="0 0 72 72" id="icon-calculator">\n  <path fill-rule="evenodd" d="M46.5,0 C48.981,0 51,2.019 51,4.5 L51,67.5 C51,69.984 48.981,72 46.5,72 L4.5,72 C2.019,72 0,69.984 0,67.5 L0,4.5 C0,2.019 2.019,0 4.5,0 L46.5,0 Z M45,22.5 L45,7.5 C45,6.672 44.328,6 43.5,6 L7.5,6 C6.672,6 6,6.672 6,7.5 L6,22.5 C6,23.328 6.672,24 7.5,24 L43.5,24 C44.328,24 45,23.328 45,22.5 Z M40.5,36 C41.328,36 42,35.328 42,34.5 C42,33.672 41.328,33 40.5,33 L37.5,33 C36.672,33 36,33.672 36,34.5 C36,35.328 36.672,36 37.5,36 L40.5,36 Z M40.5,45 C41.328,45 42,44.328 42,43.5 C42,42.672 41.328,42 40.5,42 L37.5,42 C36.672,42 36,42.672 36,43.5 C36,44.328 36.672,45 37.5,45 L40.5,45 Z M40.5,54 C41.328,54 42,53.328 42,52.5 C42,51.672 41.328,51 40.5,51 L37.5,51 C36.672,51 36,51.672 36,52.5 C36,53.328 36.672,54 37.5,54 L40.5,54 Z M28.5,51 C27.672,51 27,51.672 27,52.5 C27,53.328 27.672,54 28.5,54 L31.5,54 C32.328,54 33,53.328 33,52.5 C33,51.672 32.328,51 31.5,51 L28.5,51 Z M27,34.5 C27,35.328 27.672,36 28.5,36 L31.5,36 C32.328,36 33,35.328 33,34.5 C33,33.672 32.328,33 31.5,33 L28.5,33 C27.672,33 27,33.672 27,34.5 Z M28.5,42 C27.672,42 27,42.672 27,43.5 C27,44.328 27.672,45 28.5,45 L31.5,45 C32.328,45 33,44.328 33,43.5 C33,42.672 32.328,42 31.5,42 L28.5,42 Z M40.5,63 C41.328,63 42,62.328 42,61.5 C42,60.672 41.328,60 40.5,60 L28.5,60 C27.672,60 27,60.672 27,61.5 C27,62.328 27.672,63 28.5,63 L40.5,63 Z M22.5,36 C23.328,36 24,35.328 24,34.5 C24,33.672 23.328,33 22.5,33 L19.5,33 C18.672,33 18,33.672 18,34.5 C18,35.328 18.672,36 19.5,36 L22.5,36 Z M22.5,45 C23.328,45 24,44.328 24,43.5 C24,42.672 23.328,42 22.5,42 L19.5,42 C18.672,42 18,42.672 18,43.5 C18,44.328 18.672,45 19.5,45 L22.5,45 Z M22.5,54 C23.328,54 24,53.328 24,52.5 C24,51.672 23.328,51 22.5,51 L19.5,51 C18.672,51 18,51.672 18,52.5 C18,53.328 18.672,54 19.5,54 L22.5,54 Z M22.5,63 C23.328,63 24,62.328 24,61.5 C24,60.672 23.328,60 22.5,60 L19.5,60 C18.672,60 18,60.672 18,61.5 C18,62.328 18.672,63 19.5,63 L22.5,63 Z M13.5,36 C14.328,36 15,35.328 15,34.5 C15,33.672 14.328,33 13.5,33 L10.5,33 C9.672,33 9,33.672 9,34.5 C9,35.328 9.672,36 10.5,36 L13.5,36 Z M13.5,45 C14.328,45 15,44.328 15,43.5 C15,42.672 14.328,42 13.5,42 L10.5,42 C9.672,42 9,42.672 9,43.5 C9,44.328 9.672,45 10.5,45 L13.5,45 Z M13.5,54 C14.328,54 15,53.328 15,52.5 C15,51.672 14.328,51 13.5,51 L10.5,51 C9.672,51 9,51.672 9,52.5 C9,53.328 9.672,54 10.5,54 L13.5,54 Z M13.5,63 C14.328,63 15,62.328 15,61.5 C15,60.672 14.328,60 13.5,60 L10.5,60 C9.672,60 9,60.672 9,61.5 C9,62.328 9.672,63 10.5,63 L13.5,63 Z M37.5,12 C38.328,12 39,12.672 39,13.5 L39,16.5 C39,17.328 38.328,18 37.5,18 C36.672,18 36,17.328 36,16.5 L36,13.5 C36,12.672 36.672,12 37.5,12 Z" transform="translate(11)" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-watch",use:"icon-watch-usage",viewBox:"0 0 72 72",content:'<symbol viewBox="0 0 72 72" id="icon-watch">\n  <path fill-rule="evenodd" d="M48.5,17.001 C54.8,20.994 59,28.008 59,36 C59,43.992 54.8,51.006 48.5,54.999 L48.5,70.5 C48.5,71.328 47.828,72 47,72 L26,72 C25.172,72 24.5,71.328 24.5,70.5 L24.5,54.999 C18.203,51.006 14,43.992 14,36 C14,28.008 18.203,20.994 24.5,17.001 L24.5,1.5 C24.5,0.672 25.172,0 26,0 L47,0 C47.828,0 48.5,0.672 48.5,1.5 L48.5,17.001 Z M36.5,55.5 C47.252,55.5 56,46.752 56,36 C56,25.248 47.252,16.5 36.5,16.5 C25.748,16.5 17,25.248 17,36 C17,46.752 25.748,55.5 36.5,55.5 Z M36.5,35.3085 L46.478,43.8645 C47.105,44.4015 47.18,45.3465 46.64,45.9765 C46.343,46.3245 45.923,46.4985 45.5,46.4985 C45.152,46.4985 44.807,46.3815 44.525,46.1355 L34.025,37.1355 C33.692,36.8565 33.5,36.4395 33.5,35.9985 L33.5,26.9985 C33.5,26.1705 34.172,25.4985 35,25.4985 C35.828,25.4985 36.5,26.1705 36.5,26.9985 L36.5,35.3085 Z" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),u=new o.a({id:"icon-cozy",use:"icon-cozy-usage",viewBox:"0 0 52 40",content:'<symbol viewBox="0 0 52 40" id="icon-cozy">\n  <path d="M38.23098,40 L13.76902,40 C6.175046,40 0,33.756072 0,26.0806092 C0,22.4203755 1.393962,18.9628463 3.927021,16.3465932 C6.145918,14.0569779 9.020185,12.6317448 12.129554,12.2609951 C12.496769,9.1175003 13.905295,6.2113693 16.172045,3.96901668 C18.760238,1.40737823 22.179607,0 25.800788,0 C29.420929,0 32.841339,1.40737823 35.429532,3.96796639 C37.686919,6.2008665 39.091284,9.0912433 39.467862,12.2179336 C46.482405,12.8533543 52,18.8284102 52,26.0816594 C52,33.756072 45.820793,40 38.22994,40 L38.23098,40 Z M38.068077,36.9989547 L38.171599,36.9989547 C44.142748,36.9989547 49,32.0883546 49,26.0520167 C49,20.0167241 44.142748,15.1061239 38.171599,15.1061239 L38.062901,15.1061239 C37.28338,15.1061239 36.644649,14.478972 36.627051,13.6887604 C36.492472,7.7935317 31.63729,3 25.802791,3 C19.968291,3 15.111039,7.7956222 14.977495,13.690851 C14.959896,14.4664289 14.34187,15.0914904 13.573737,15.1092597 C7.743378,15.2451426 3,20.1536522 3,26.0530619 C3,32.0893999 7.857252,37 13.828401,37 L13.916395,37 L13.950557,36.9979094 C13.981614,36.9979094 14.01267,36.9979094 14.043727,37 L38.064971,37 L38.068077,36.9989547 Z M33.766421,25.2227318 C32.890676,24.6381003 32.847676,23.5643091 32.845578,23.5171094 C32.839285,23.2253301 32.606453,22.9957683 32.32118,23.0000592 C32.035908,23.0054228 31.809368,23.2467844 31.814612,23.5364185 C31.81671,23.5750363 31.831393,24.0792139 32.066323,24.6735 C28.949302,27.6942753 24.051427,27.698566 20.928113,24.6917363 C21.169336,24.0888684 21.185068,23.576109 21.185068,23.5374911 C21.190312,23.2478572 20.964821,23.0086409 20.681646,23.0011319 C20.401618,22.9925502 20.163541,23.2264027 20.154102,23.5160368 C20.154102,23.5589455 20.11215,24.6370275 19.234308,25.2216592 C18.995183,25.3825669 18.92806,25.7097461 19.08433,25.9532532 C19.182917,26.1077246 19.346529,26.1924694 19.516434,26.1924694 C19.612923,26.1924694 19.710461,26.1645787 19.797512,26.1066519 C20.023003,25.9564713 20.211786,25.7848363 20.370154,25.6024742 C22.104862,27.2008247 24.296845,28 26.488828,28 C28.686055,28 30.883282,27.1976066 32.621136,25.5917471 C32.780553,25.7762546 32.971434,25.9521804 33.203218,26.1066519 C33.289219,26.1645787 33.387806,26.1924694 33.484295,26.1924694 C33.652102,26.1924694 33.816763,26.1066519 33.916399,25.9521804 C34.07162,25.7076006 34.004497,25.3793488 33.766421,25.2205864 L33.766421,25.2227318 Z" />\n</symbol>'});a.a.add(u);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CTA=t.Paragraph=t.Sections=t.Section=t.Subtitle=t.Title=t.Hero=t.Icon=void 0;var o=n(2),i=r(o),a=n(14),u=n(1225),s=r(u),c=n(425),l=r(c);t.Icon=function(e){var t=e.color,n=e.icon;return i.default.createElement(a.Icon,{width:"auto",height:"5rem",style:{color:t},icon:n})},t.Hero=(0,l.default)("div",{className:s.default.Hero}),t.Title=(0,l.default)("h2",{className:s.default.Hero__title}),t.Subtitle=(0,l.default)("h3",{className:s.default.Hero__subtitle}),t.Section=(0,l.default)("div",{className:s.default.Hero__section}),t.Sections=(0,l.default)("div",{className:s.default.Hero__sections}),t.Paragraph=(0,l.default)("p",{}),t.CTA=(0,l.default)("p",{className:s.default.Hero__cta})},function(e,t){e.exports={Hero:"Hero_Hero_26kel",Hero__title:"Hero_Hero__title_1y789",Hero__subtitle:"Hero_Hero__subtitle_3gwXk",Hero__sections:"Hero_Hero__sections_fye-N",Hero__section:"Hero_Hero__section_1Kzob",Hero__cta:"Hero_Hero__cta_1l2K9"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(15),u=n(28),s=n(54),c=r(s),l=n(24),f=n(453),d=r(f),h=n(1227),p=r(h),v=n(424),y=function(e){return{accounts:(0,a.fetchCollection)("onboarding_accounts",u.ACCOUNT_DOCTYPE)}},m=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.default=function(e){return(0,l.withRouter)((0,a.cozyConnect)(y)(e))}(function(e){var t=e.children,n=e.accounts,r=e.location,o=n.fetchStatus;return"pending"===o||"loading"===o?i.default.createElement(v.Layout,null,i.default.createElement(v.Content,null,i.default.createElement("div",{className:p.default.Onboarding__loading},i.default.createElement(c.default,null)))):n.data&&0===n.data.length||m(r.query,"onboarding")?i.default.createElement(v.Layout,null,i.default.createElement(v.Content,null,i.default.createElement(d.default,null))):t})},function(e,t){e.exports={Onboarding__loading:"Onboarding_Onboarding__loading_D2s0H"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(19),c=r(s),l=n(21),f=r(l),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=n(23),v=n(15),y=n(14),m=n(389),g=n(165),b=n(28),_=(n(410),function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),d(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=o(c.default.mark(function e(){var t,n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=19;break;case 4:return n=e.sent,r=void 0,n?r=Promise.resolve():(t.facade.strategy=new m.StackOnlyStrategy,r=Promise.all([this.props.dispatch((0,v.fetchCollection)("onboarding_accounts",b.ACCOUNT_DOCTYPE)),this.props.dispatch((0,v.fetchCollection)("groups",b.GROUP_DOCTYPE)),this.props.dispatch((0,g.fetchTransactions)())])),e.prev=7,e.next=10,r;case 10:t.facade.strategy=new m.PouchFirstStrategy,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.error("Error while fetching data from stack: "+e.t0);case 16:return e.prev=16,this.props.dispatch((0,v.startSync)()),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[7,13,16,19]])}));return e}()},{key:"render",value:function(){return this.props.children}}]),t}(h.Component)),w=function(e){return{isSynced:(0,v.isSynced)(e),isFirstSync:(0,v.isFirstSync)(e),hasSyncStarted:(0,v.hasSyncStarted)(e),isOffline:(0,v.isSyncInError)(e)}};t.default=(0,f.default)((0,p.connect)(w),(0,y.translate)())(_)},function(e,t){!function(){"use strict";if(!function(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()){var e=function(e,t){var n=e.split(".");return t&&t.thousands&&(n[0]=n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t.thousands)),e=n.join(t.decimal)},t=function(e,t){for(var n in t)-1!==t[n].indexOf("-")&&(t[n]=t[n].replace("-",""),e="-"+e),e=e.replace("{{"+n+"}}",t[n]);return e},n=function(e,t){var n=t,r=t&&t.toLowerCase().match(/^\w+/);return e.hasOwnProperty(t)||(n=e.hasOwnProperty(r)?r:"en"),e[n]},r=function(t){return e(t,{decimal:",",thousands:"."})},o=function(t){return e(t,{decimal:".",thousands:","})},i=function(t){return e(t,{decimal:",",thousands:""})},a=function(t){return e(t,{decimal:".",thousands:"'"})},u={en:o,"en-GB":o,"en-US":o,it:r,fr:i,de:r,"de-DE":r,"de-AT":r,"de-CH":a,"de-LI":a,"de-BE":r,nl:r,"nl-BE":r,"nl-NL":r,ro:r,"ro-RO":r,hu:i,"hu-HU":i,"da-DK":r,"nb-NO":i},s={en:"pre","en-GB":"pre","en-US":"pre",it:"post",fr:"post",de:"post","de-DE":"post","de-AT":"prespace","de-CH":"prespace","de-LI":"post","de-BE":"post",nl:"post","nl-BE":"post","nl-NL":"post",ro:"post","ro-RO":"post",hu:"post","hu-HU":"post","da-DK":"post","nb-NO":"post"},c={afn:"",ars:"$",awg:"",aud:"$",azn:"",bsd:"$",bbd:"$",byr:"p.",bzd:"BZ$",bmd:"$",bob:"Bs.",bam:"KM",bwp:"P",bgn:"",brl:"R$",bnd:"$",khr:"",cad:"$",kyd:"$",clp:"$",cny:"",cop:"$",crc:"",hrk:"kn",cup:"",czk:"K",dkk:"kr",dop:"RD$",xcd:"$",egp:"",svc:"$",eek:"kr",eur:"",fkp:"",fjd:"$",ghc:"",gip:"",gtq:"Q",ggp:"",gyd:"$",hnl:"L",hkd:"$",huf:"Ft",isk:"kr",inr:"",idr:"Rp",irr:"",imp:"",ils:"",jmd:"J$",jpy:"",jep:"",kes:"KSh",kzt:"",kpw:"",krw:"",kgs:"",lak:"",lvl:"Ls",lbp:"",lrd:"$",ltl:"Lt",mkd:"",myr:"RM",mur:"",mxn:"$",mnt:"",mzn:"MT",nad:"$",npr:"",ang:"",nzd:"$",nio:"C$",ngn:"",nok:"kr",omr:"",pkr:"",pab:"B/.",pyg:"Gs",pen:"S/.",php:"",pln:"z",qar:"",ron:"lei",rub:"",shp:"",sar:"",rsd:".",scr:"",sgd:"$",sbd:"$",sos:"S",zar:"R",lkr:"",sek:"kr",chf:"CHF",srd:"$",syp:"",tzs:"TSh",twd:"NT$",thb:"",ttd:"TT$",try:"",trl:"",tvd:"$",ugx:"USh",uah:"",gbp:"",usd:"$",uyu:"$U",uzs:"",vef:"Bs",vnd:"",yer:"",zwd:"Z$"},l={pre:"{{code}}{{num}}",post:"{{num}} {{code}}",prespace:"{{code}} {{num}}"};Number.prototype.toLocaleString=function(e,r){if(e&&e.length<2)throw new RangeError("Invalid language tag: "+e);var o;if(o=r&&(r.minimumFractionDigits||0===r.minimumFractionDigits)?this.toFixed(r.minimumFractionDigits):this.toString(),o=n(u,e)(o,r),r&&r.currency&&"currency"===r.style){var i=l[n(s,e)];o="code"===r.currencyDisplay?t(i,{num:o,code:r.currency.toUpperCase()}):t(i,{num:o,code:c[r.currency.toLowerCase()]})}return o}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupHistory=void 0;var r=n(203),o=n(24);t.setupHistory=function(){var e=(0,r.shouldEnableTracking)()&&(0,r.getTracker)(),t=o.hashHistory;if(e){var n=(0,r.getTracker)();t=n.connectToHistory(t),n.track(t.getCurrentLocation())}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClient=t.getClientBrowser=t.getClientMobile=void 0;var r=n(411),o=n(15),i=(t.getClientMobile=function(e){var t=e&&e.mobile;return(0,r.initClient)(t?e.mobile.url:"")},t.getClientBrowser=function(){var e=document.querySelector("[role=application]"),t=e.dataset;return new o.CozyClient({cozyURL:window.location.protocol+"//"+t.cozyDomain,token:t.cozyToken})});t.getClient=function(e){var t=void 0;return function(){return void 0===t&&(t=e.apply(void 0,arguments)),t}}(function(e){return i()})},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./en":454,"./en.json":454,"./fr":455,"./fr.json":455};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1232}]);